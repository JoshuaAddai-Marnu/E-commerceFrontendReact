/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={7453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BE_PROFILE:()=>a,NRT_PROFILE:()=>o,PostChannel:()=>Kt,RT_PROFILE:()=>i});var n,i="REAL_TIME",o="NEAR_REAL_TIME",a="BEST_EFFORT",s=r(2012),u=r(7862),c=r(6864),l=r(1606),d=r(7158),f=r(636),p=r(2033),h=r(3107),m=r(862),g=r(9991),v="",y="timings",S="value",b="kind",w="length",P="processTelemetryStart",k=h.V4.hasOwnProperty,_=((n={})[0]=0,n[2]=6,n[1]=1,n[3]=7,n[4098]=6,n[4097]=1,n[4099]=7,n);function C(e){return!(e===v||(0,l.le)(e))}function M(e,t,r){var n=-1;if(!(0,l.o8)(e))if(t>0&&(32===t?n=8192:t<=13&&(n=t<<5)),function(e){return e>=0&&e<=9}(r))-1===n&&(n=0),n|=r;else{var i=_[D(e)]||-1;-1!==n&&-1!==i?n|=i:6===i&&(n=i)}return n}function T(e,t,r,n,i){var o={},a=!1,s=0,u=arguments[w],c=arguments;for((0,l.jn)(c[0])&&(a=c[0],s++);s<u;s++)e=c[s],(0,d.r)(e,(function(e,t){a&&t&&(0,l.Kn)(t)?(0,l.kJ)(t)?(o[e]=o[e]||[],(0,f.t)(t,(function(t,r){t&&(0,l.Kn)(t)?o[e][r]=T(!0,o[e][r],t):o[e][r]=t}))):o[e]=T(!0,o[e],t):o[e]=t}));return o}(0,c.Nv)(),(0,c.Ym)();var I=p.Jj;function A(e,t){var r=e;r[y]=r[y]||{},r[y][P]=r[y][P]||{},r[y][P][t]=I()}function D(e){var t=0;if(null!=e){var r=typeof e;"string"===r?t=1:"number"===r?t=2:"boolean"===r?t=3:r===h.fK&&(t=4,(0,l.kJ)(e)?(t=4096,e[w]>0&&(t|=D(e[0]))):k.call(e,"value")&&(t=8192|D(e[S])))}return t}function E(e){return e>0}var j=r(7019),R=r(3668),O=r(3831),x=r(3128),N=r(8570),L=r(8769),F=r(3657),B=r(8942),U=r(8264),z=r(9873),V=r(4696),q="",W="drop",$="requeue",K="application/x-json-stream",J="cache-control",H="content-type",G="client-version",Q="client-id",X="time-delta-to-apply-millis",Z="upload-time",Y="apikey",ee="AuthMsaDeviceTicket",te="WebAuthToken",re="AuthXToken",ne="msfpc",ie="trace",oe="user",ae="allowRequestSending",se="firstRequestSent",ue="shouldAddClockSkewHeaders",ce="getClockSkewHeaderValue",le="setClockSkew",de="length",fe="concat",pe="iKey",he="count",me="events",ge="push",ve="split",ye="splice",Se="toLowerCase",be="hdrs",we="useHdrs",Pe="initialize",ke="setTimeoutOverride",_e="clearTimeoutOverride",Ce="overrideEndpointUrl",Me="avoidOptions",Te="enableCompoundKey",Ie="disableXhrSync",Ae="disableFetchKeepAlive",De="useSendBeacon",Ee="alwaysUseXhrOverride",je="serializeOfflineEvt",Re="getOfflineRequestDetails",Oe="createPayload",xe="headers",Ne="_thePayload",Le="urlString",Fe="batches",Be="sendType",Ue="addHeader",ze="canSendRequest",Ve="sendQueuedRequests",qe="isCompletelyIdle",We="setUnloading",$e="sendSynchronousBatch",Ke="_transport",Je="getWParam",He="isBeacon",Ge="timings",Qe="isTeardown",Xe="isSync",Ze="data",Ye="_sendReason",et="setKillSwitchTenants",tt="_backOffTransmission",rt="identifier",nt="eventsLimitInMem",it="autoFlushEventsLimit",ot="baseData",at="sendAttempt",st="latency",ut="sync";function ct(e){var t=(e.ext||{}).intweb;return t&&C(t[ne])?t[ne]:null}function lt(e){for(var t=null,r=0;null===t&&r<e[de];r++)t=ct(e[r]);return t}var dt=function(){function e(t,r){var n=r?[][fe](r):[],i=this,o=lt(n);i[pe]=function(){return t},i.Msfpc=function(){return o||q},i[he]=function(){return n[de]},i[me]=function(){return n},i.addEvent=function(e){return!!e&&(n[ge](e),o||(o=ct(e)),!0)},i[ve]=function(r,i){var a;if(r<n[de]){var s=n[de]-r;(0,l.le)(i)||(s=i<s?i:s),a=n[ye](r,s),o=lt(n)}return new e(t,a)}}return e.create=function(t,r){return new e(t,r)},e}(),ft=r(6293),pt=r(9233),ht=r(8224),mt=r(6028),gt=r(4468),vt=r(9105),yt=function(){function e(){var t=!0,r=!0,n=!0,i="use-collector-delta",o=!1;(0,u.Z)(e,this,(function(e){e[ae]=function(){return t},e[se]=function(){n&&(n=!1,o||(t=!1))},e[ue]=function(){return r},e[ce]=function(){return i},e[le]=function(e){o||(e?(i=e,r=!0,o=!0):r=!1,t=!0)}}))}return e.__ieDyn=1,e}(),St=r(3710),bt=function(){function e(){var t={};(0,u.Z)(e,this,(function(e){e[et]=function(e,r){if(e&&r)try{var n=(a=e[ve](","),s=[],a&&(0,f.t)(a,(function(e){s[ge]((0,St.nd)(e))})),s);if("this-request-only"===r)return n;for(var i=1e3*parseInt(r,10),o=0;o<n[de];++o)t[n[o]]=(0,gt.G)()+i}catch(e){return[]}var a,s;return[]},e.isTenantKilled=function(e){var r=t,n=(0,St.nd)(e);return void 0!==r[n]&&r[n]>(0,gt.G)()||(delete r[n],!1)}}))}return e.__ieDyn=1,e}();function wt(e){var t,r=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*r,Math.min(t,6e5)}var Pt,kt=r(9337),_t=r(6556),Ct=2e6,Mt=Math.min(Ct,65e3),Tt="metadata",It="f",At=/\./,Dt=function(){function e(t,r,n,i,o,a){var s="data",c="baseData",f=!!i,p=r,h={},y=!!a,P=o||M;(0,u.Z)(e,this,(function(e){function r(e,t,i,o,a,s,u){(0,d.r)(e,(function(e,c){var d=null;if(c||C(c)){var m=i,g=e,y=a,P=t;if(f&&!o&&At.test(e)){var _=e.split("."),M=_.length;if(M>1){y&&(y=y.slice());for(var T=0;T<M-1;T++){var I=_[T];P=P[I]=P[I]||{},m+="."+I,y&&y.push(I)}g=_[M-1]}}var A=o&&function(e,t){var r=h[e];return void 0===r&&(e.length>=7&&(r=(0,_t.x)(e,"ext.metadata")||(0,_t.x)(e,"ext.web")),h[e]=r),r}(m);if(d=!A&&p&&p.handleField(m,g)?p.value(m,g,c,n):function(e,t,r){if(!t&&!C(t)||"string"!=typeof e)return null;var n,i=typeof t;if("string"===i||"number"===i||"boolean"===i||(0,l.kJ)(t))t={value:t};else if("object"!==i||k.call(t,"value")){if((0,l.le)(t[S])||t[S]===v||!(0,l.HD)(t[S])&&!(0,l.hj)(t[S])&&!(0,l.jn)(t[S])&&!(0,l.kJ)(t[S]))return null}else t={value:r?JSON.stringify(t):t};if((0,l.kJ)(t[S])&&!(t[S][w]>0))return null;if(!(0,l.le)(t[b])){if((0,l.kJ)(t[S])||!(0===(n=t[b])||n>0&&n<=13||32===n))return null;t[S]=t[S].toString()}return t}(g,c,n)){var D=d.value;if(P[g]=D,s&&s(y,g,d),u&&"object"==typeof D&&!(0,l.kJ)(D)){var E=y;E&&(E=E.slice()).push(g),r(c,D,m+"."+g,o,E,s,u)}}}}))}e.createPayload=function(e,t,r,n,i,o){return{apiKeys:[],payloadBlob:q,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:r,isBeacon:n,sendType:o,sendReason:i}},e.appendPayload=function(r,n,i){var o=r&&n&&!r.overflow;return o&&(0,j.Lm)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=n.events(),o=r.payloadBlob,a=r.numEvents,s=!1,u=[],c=[],l=r.isBeacon,d=l?65e3:3984588,f=l?Mt:Ct,p=0,h=0;p<t.length;){var m=t[p];if(m){if(a>=i){r.overflow=n.split(p);break}var v=e.getEventBlob(m);if(v&&v.length<=f){var y=v.length;if(o.length+y>d){r.overflow=n.split(p);break}o&&(o+="\n"),o+=v,++h>20&&((0,g.s1)(o,0,1),h=0),s=!0,a++}else v?u.push(m):c.push(m),t.splice(p,1),p--}p++}if(u.length>0&&r.sizeExceed.push(dt.create(n.iKey(),u)),c.length>0&&r.failedEvts.push(dt.create(n.iKey(),c)),s){r.batches.push(n),r.payloadBlob=o,r.numEvents=a;var S=n.iKey();-1===(0,kt.U)(r.apiKeys,S)&&r.apiKeys.push(S)}}),(function(){return{payload:r,theBatch:{iKey:n.iKey(),evts:n.events()},max:i}})),o},e.getEventBlob=function(e){try{return(0,j.Lm)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+function(e){if(e){var t=(0,m.M)(e,"-");if(t>-1)return(0,g.lH)(e,t)}return v}(e.iKey);var n,i={};y||(n=function(e,t,r){!function(e,t,r,n,i){if(i&&t){var o=e(i.value,i.kind,i.propertyType);if(o>-1){var a=t[Tt];a||(a=t[Tt]={f:{}});var s=a[It];if(s||(s=a[It]={}),r)for(var u=0;u<r.length;u++){var c=r[u];s[c]||(s[c]={f:{}});var d=s[c][It];d||(d=s[c][It]={}),s=d}s=s[n]={},(0,l.kJ)(i.value)?s.a={t:o}:s.t=o}}}(P,i,e,t,r)});var o=e.ext;o&&(t.ext=i,(0,d.r)(o,(function(e,t){r(t,i[e]={},"ext."+e,!0,null,null,!0)})));var a=t[s]={};a.baseType=e.baseType;var u=a[c]={};return r(e.baseData,u,c,!1,[c],n,!0),r(e.data,a,s,!1,[],n,!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))}return e.__ieDyn=1,e}(),Et=r(7926);function jt(e,t){return{set:function(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return(0,Et._H)([e,t],r,n,i)}}}var Rt="sendAttempt",Ot="?cors=true&"+H[Se]()+"="+K,xt=((Pt={})[1]=$,Pt[100]=$,Pt[200]="sent",Pt[8004]=W,Pt[8003]=W,Pt),Nt={},Lt={};function Ft(e,t,r){Nt[e]=t,!1!==r&&(Lt[t]=e)}function Bt(e,t){var r=!1;if(e&&t){var n=(0,V.FY)(e);if(n&&n[de]>0)for(var i=t[Se](),o=0;o<n[de];o++){var a=n[o];if(a&&(0,ft.a)(t,a)&&a[Se]()===i){r=!0;break}}}return r}function Ut(e,t,r,n){t&&r&&r[de]>0&&(n&&Nt[t]?(e[be][Nt[t]]=r,e[we]=!0):e.url+="&"+t+"="+r)}Ft(ee,ee,!1),Ft(G,G),Ft(Q,"Client-Id"),Ft(Y,Y),Ft(X,X),Ft(Z,Z),Ft(re,re);var zt=function(){function e(t,r,n,i){var o,a,s,p,m,g,v,y,S,b,w,P,k,_,A,D,E,R,O,N,F,U,z,$,ee,te,re,ie,oe,Se,rt,nt=!1;(0,u.Z)(e,this,(function(e){function u(e,t){try{return rt&&rt.getSenderInst(e,t)}catch(e){}return null}function it(e,t,r){var n=(0,L.tV)(e);st(t,200,{},n),It(n)}function ot(e,t,r,n){var i={},o=e[xe];o&&o.forEach((function(e,t){i[t]=e})),function(e,r,n){st(t,e,r,n),It(n)}(e.status,i,r||q)}function at(e,t,r){var n=(0,L.tV)(e);st(t,e.status,(0,L.Fz)(e,!0),n),It(n)}function st(e,t,r,n){try{e(t,r,n)}catch(e){(0,B.kP)(v,2,518,(0,mt.e)(e))}}function ut(e,t,r){var n=200,i=e[Ne],o=e[Le]+(z?"&NoResponseBody=true":q);try{var a=(0,c.jW)();if(i){var s=!!S.getPlugin("LocalStorage"),u=[],l=[];(0,f.t)(i[Fe],(function(e){if(u&&e&&e[he]()>0)for(var t=e[me](),r=0;r<t[de];r++){if(!a.sendBeacon(o,_.getEventBlob(t[r]))){u[ge](e[ve](r));break}l[ge](e[r])}else u[ge](e[ve](0))})),l[de]>0&&(i.sentEvts=l),s||At(u,8003,i[Be],!0)}else n=0}catch(e){(0,B.jV)(v,"Failed to send telemetry using sendBeacon API. Ex:"+(0,mt.e)(e)),n=0}finally{st(t,n,{},q)}}function ct(e){return 2===e||3===e}function lt(e){return E&&ct(e)&&(e=2),e}function dt(){return!s&&m<r}function ft(){var e=k;return k=[],e}function St(e,t,r){var n=!1;return e&&e[de]>0&&!s&&y[t]&&_&&(n=0!==t||dt()&&(r>0||p[ae]())),n}function Pt(e){var t={};return e&&(0,f.t)(e,(function(e,r){t[r]={iKey:e[pe](),evts:e[me]()}})),t}function kt(e,r,n,i,o){if(e&&0!==e[de])if(s)At(e,1,i);else{i=lt(i);try{var u=e,c=0!==i;(0,j.Lm)(S,(function(){return"HttpManager:_sendBatches"}),(function(s){s&&(e=e.slice(0));for(var u=[],l=null,d=I(),f=y[i]||(c?y[1]:y[0]),p=f&&f[Ke],h=U&&(E||ct(i)||3===p||f._isSync&&2===p);St(e,i,r);){var m=e.shift();m&&m[he]()>0&&(a.isTenantKilled(m[pe]())?u[ge](m):(l=l||_[Oe](r,n,c,h,o,i),_.appendPayload(l,m,t)?null!==l.overflow&&(e=[l.overflow][fe](e),l.overflow=null,Mt(l,d,I(),o),d=I(),l=null):(Mt(l,d,I(),o),d=I(),e=[m][fe](e),l=null)))}l&&Mt(l,d,I(),o),e[de]>0&&(k=e[fe](k)),At(u,8004,i)}),(function(){return{batches:Pt(u),retryCount:r,isTeardown:n,isSynchronous:c,sendReason:o,useSendBeacon:ct(i),sendType:i}}),!c)}catch(e){(0,B.kP)(v,2,48,"Unexpected Exception sending batch: "+(0,mt.e)(e))}}}function _t(e,t){var r={url:o,hdrs:{},useHdrs:!1};t?(r[be]=T(r[be],P),r.useHdrs=(0,V.FY)(r.hdrs)[de]>0):(0,d.r)(P,(function(e,t){Lt[e]?Ut(r,Lt[e],t,!1):(r[be][e]=t,r[we]=!0)})),Ut(r,Q,"NO_AUTH",t),Ut(r,G,"1DS-Web-JS-4.1.2",t);var n=q;(0,f.t)(e.apiKeys,(function(e){n[de]>0&&(n+=","),n+=e})),Ut(r,Y,n,t),Ut(r,Z,(0,gt.G)().toString(),t);var i=function(e){for(var t=0;t<e.batches[de];t++){var r=e[Fe][t].Msfpc();if(r)return encodeURIComponent(r)}return q}(e);if(C(i)&&(r.url+="&ext.intweb.msfpc="+i),p[ue]()&&Ut(r,X,p[ce](),t),S[Je]){var a=S[Je]();a>=0&&(r.url+="&w="+a)}for(var s=0;s<w[de];s++)r.url+="&"+w[s].name+"="+w[s].value;return r}function Ct(e,t,r){e[t]=e[t]||{},e[t][g.identifier]=r}function Mt(t,r,i,o){if(t&&t.payloadBlob&&t.payloadBlob[de]>0){var s=!!ee,u=y[t.sendType];!ct(t[Be])&&t[He]&&2===t.sendReason&&(u=y[2]||y[3]||u);var c=R;(t.isBeacon||3===u[Ke])&&(c=!1);var l=_t(t,c);c=c||l[we];var d=I();(0,j.Lm)(S,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var y=0;y<t.batches[de];y++)for(var w=t[Fe][y][me](),P=0;P<w[de];P++){var k=w[P];if(A){var _=k[Ge]=k[Ge]||{};Ct(_,"sendEventStart",d),Ct(_,"serializationStart",r),Ct(_,"serializationCompleted",i)}k[Rt]>0?k[Rt]++:k[Rt]=1}At(t[Fe],1e3+(o||0),t[Be],!0);var C={data:t.payloadBlob,urlString:l.url,headers:l[be],_thePayload:t,_sendReason:o,timeout:O,disableXhrSync:N,disableFetchKeepAlive:F};c&&(Bt(C[xe],J)||(C[xe][J]="no-cache, no-store"),Bt(C[xe],H)||(C[xe][H]=K));var M=null;u&&(M=function(r){p[se]();var i=function(r,i){!function(t,r,i,o){var s,u=9e3,c=null,l=!1,d=!1;try{var v=!0;if(typeof t!==h.jA){if(r){p[le](r["time-delta-millis"]);var y=r["kill-duration"]||r["kill-duration-seconds"];(0,f.t)(a[et](r["kill-tokens"],y),(function(e){(0,f.t)(i[Fe],(function(t){if(t[pe]()===e){c=c||[];var r=t[ve](0);i.numEvents-=r[he](),c[ge](r)}}))}))}if(200==t||204==t)return void(u=200);((s=t)>=300&&s<500&&429!=s||501==s||505==s||i.numEvents<=0)&&(v=!1),u=9e3+t%1e3}if(v){u=100;var S=i.retryCnt;0===i[Be]&&(S<n?(l=!0,Tt((function(){0===i[Be]&&m--,kt(i[Fe],S+1,i[Qe],E?2:i[Be],5)}),E,wt(S))):(d=!0,E&&(u=8001)))}}finally{l||(p[le](),function(t,r,n,i){try{i&&g[tt]();var o=t[Fe];200===r&&(o=t.sentEvts||t[Fe],i||t[Xe]||g._clearBackOff(),function(e){if(A){var t=I();(0,f.t)(e,(function(e){e&&e[he]()>0&&function(e,t){A&&(0,f.t)(e,(function(e){Ct(e[Ge]=e[Ge]||{},"sendEventCompleted",t)}))}(e[me](),t)}))}}(o)),At(o,r,t[Be],!0)}finally{0===t[Be]&&(m--,5!==n&&e.sendQueuedRequests(t[Be],n))}}(i,u,o,d)),At(c,8004,i[Be])}}(r,i,t,o)},s=t[Qe]||t[Xe];try{u.sendPOST(r,i,s),te&&te(C,r,s,t[He])}catch(e){(0,B.jV)(v,"Unexpected exception sending payload. Ex:"+(0,mt.e)(e)),st(i,0,{})}}),(0,j.Lm)(S,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(M)if(0===t[Be]&&m++,s&&!t.isBeacon&&3!==u[Ke]){var e={data:C[Ze],urlString:C[Le],headers:T({},C[xe]),timeout:C.timeout,disableXhrSync:C[Ie],disableFetchKeepAlive:C[Ae]},r=!1;(0,j.Lm)(S,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{ee(e,(function(e){r=!0,b||e[Ne]||(e[Ne]=e[Ne]||C[Ne],e[Ye]=e[Ye]||C[Ye]),M(e)}),t.isSync||t[Qe])}catch(e){r||M(C)}}))}else M(C)}))}),(function(){return{thePayload:t,serializationStart:r,serializationCompleted:i,sendReason:o}}),t[Xe])}t.sizeExceed&&t.sizeExceed[de]>0&&At(t.sizeExceed,8003,t[Be]),t.failedEvts&&t.failedEvts[de]>0&&At(t.failedEvts,8002,t[Be])}function Tt(e,t,r){t?e():oe.set(e,r)}function It(e){var t=re;try{for(var r=0;r<t[de];r++)try{t[r](e)}catch(e){(0,B.kP)(v,1,519,"Response handler failed: "+e)}if(e){var n=JSON.parse(e);C(n.webResult)&&C(n.webResult[ne])&&D.set("MSFPC",n.webResult[ne],31536e3)}}catch(e){}}function At(e,t,r,n){if(e&&e[de]>0&&i){var o=i[(s=t,u=xt[s],C(u)||(u="oth",s>=9e3&&s<=9999?u="rspFail":s>=8e3&&s<=8999?u=W:s>=1e3&&s<=1999&&(u="send")),u)];if(o){var a=0!==r;(0,j.Lm)(S,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){Tt((function(){try{o.call(i,e,t,a,r)}catch(e){(0,B.kP)(v,1,74,"send request notification failed: "+e)}}),n||a,0)}),(function(){return{batches:Pt(e),reason:t,isSync:a,sendSync:n,sendType:r}}),!a)}}var s,u}!function(){var e;o=null,a=new bt,s=!1,p=new yt,nt=!1,m=0,g=null,v=null,y=null,S=null,b=!0,w=[],P={},k=[],_=null,A=!1,D=null,E=!1,R=!1,O=e,N=e,F=e,U=e,z=e,$=[],ee=e,te=e,re=[],ie=!1,oe=jt(),Se=!1,rt=null}(),e[Pe]=function(e,t,r){ie||(S=t,D=t.getCookieMgr(),v=(g=r).diagLog(),(0,vt.W)($,(0,x.k)(e,(function(e){var n,i=e.cfg,a=e.cfg.extensionConfig[r.identifier];oe=jt(a[ke],a[_e]),C(i.anonCookieName)?function(e,t,r){for(var n=0;n<e[de];n++)if(e[n].name===t)return void(e[n].value=r);e[ge]({name:t,value:r})}(w,"anoncknm",i.anonCookieName):function(e,t){for(var r=0;r<e[de];r++)if("anoncknm"===e[r].name)return void e[ye](r,1)}(w),ee=a.payloadPreprocessor,te=a.payloadListener;var s=a.httpXHROverride,c=a[Ce]?a[Ce]:i.endpointUrl;o=c+Ot,R=!!(0,l.o8)(a[Me])||!a[Me],A=!a.disableEventTimings;var d=a.valueSanitizer,f=a.stringifyObjects,p=!!i[Te];(0,l.o8)(a[Te])||(p=!!a[Te]),O=a.xhrTimeout,N=!!a[Ie],F=!!a[Ae],z=!1!==a.addNoResponse,Se=!!a.excludeCsMetaData,t.getPlugin("LocalStorage")&&(F=!0),nt=!(0,pt.b$)(),_=new Dt(S,d,f,p,M,Se),(0,l.le)(a[De])||(nt=!!a[De]);var h=function(){try{return{enableSendPromise:!1,isOneDs:!0,disableCredentials:!1,disableXhr:!1,disableBeacon:!nt,disableBeaconSync:!nt,disableFetchKeepAlive:F,timeWrapper:oe,addNoResponse:z,senderOnCompleteCallBack:{xdrOnComplete:it,fetchOnComplete:ot,xhrOnComplete:at,beaconOnRetry:ut}}}catch(e){}return null}();rt?rt.SetConfig(h):(rt=new ht.s)[Pe](h,v);var m=s,g=a[Ee]?s:null,P=a[Ee]?s:null,k=[3,2];if(!s){b=!1;var T=[];(0,pt.b$)()?(T=[2,1],k=[2,1,3]):T=[1,2,3],(s=u(T=(0,L.fM)(T,a.transports),!1))||(0,B.jV)(v,"No available transport to send events"),m=u(T,!0)}g||(g=u(k=(0,L.fM)(k,a.unloadTransports),!0)),U=!b&&(nt&&(0,pt.MF)()||!F&&(0,pt.JO)(!0)),(n={})[0]=s,n[1]=m||u([1,2,3],!0),n[2]=g||m||u([1],!0),n[3]=P||u([2,3],!0)||m||u([1],!0),y=n}))),ie=!0)},e.addResponseHandler=function(e){return re[ge](e),{rm:function(){var t=re.indexOf(e);t>=0&&re[ye](t,1)}}},e[je]=function(e){try{if(_)return _.getEventBlob(e)}catch(e){}return q},e[Re]=function(){try{return _t(_&&_[Oe](0,!1,!1,!1,1,0),R)}catch(e){}return null},e._getDbgPlgTargets=function(){return[y[0],a,_,y]},e[Ue]=function(e,t){P[e]=t},e.removeHeader=function(e){delete P[e]},e[ze]=function(){return dt()&&p[ae]()},e[Ve]=function(e,t){(0,l.o8)(e)&&(e=0),E&&(e=lt(e),t=2),St(k,e,0)&&kt(ft(),0,!1,e,t||0)},e[qe]=function(){return!s&&0===m&&0===k[de]},e[We]=function(e){E=e},e.addBatch=function(e){if(e&&e[he]()>0){if(a.isTenantKilled(e[pe]()))return!1;k[ge](e)}return!0},e.teardown=function(){k[de]>0&&kt(ft(),0,!0,2,2),(0,f.t)($,(function(e){e&&e.rm&&e.rm()})),$=[]},e.pause=function(){s=!0},e.resume=function(){s=!1,e[Ve](0,4)},e[$e]=function(e,t,r){e&&e[he]()>0&&((0,l.le)(t)&&(t=1),E&&(t=lt(t),r=2),kt([e],0,!1,t,r||0))}}))}return e.__ieDyn=1,e}(),Vt=1e4,qt="eventsDiscarded",Wt=void 0,$t=(0,V.He)({eventsLimitInMem:{isVal:E,v:Vt},immediateEventLimit:{isVal:E,v:500},autoFlushEventsLimit:{isVal:E,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:function(e){return e&&e.sendPOST},v:Wt},overrideInstrumentationKey:Wt,overrideEndpointUrl:Wt,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Wt,clearTimeoutOverride:Wt,payloadPreprocessor:Wt,payloadListener:Wt,disableEventTimings:Wt,valueSanitizer:Wt,stringifyObjects:Wt,enableCompoundKey:Wt,disableOptimizeObj:!1,transports:Wt,unloadTransports:Wt,useSendBeacon:Wt,disableFetchKeepAlive:Wt,avoidOptions:!1,xhrTimeout:Wt,disableXhrSync:Wt,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:l.hj,v:6},maxUnloadEventRetryAttempts:{isVal:l.hj,v:2},addNoResponse:Wt,excludeCsMetaData:Wt}),Kt=function(e){function t(){var r,n=e.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="4.1.2";var s,l,p,h,m,g,v,y,S,b,w,P,k,_,C,M,T,I,D,U,V,q,W,$,K,J=!1,H=[],G=!1,Q=0,X=0,Z={},Y=i;return(0,u.Z)(t,n,(function(e,t){function n(){(0,R.JA)(null,I),(0,R.C9)(null,I),(0,R.Yl)(null,I)}function u(e){var t="";return e&&e[de]&&(0,f.t)(e,(function(e){t&&(t+="\n"),t+=e})),t}function re(e){var t="";try{se(e),t=y[je](e)}catch(e){}return t}function ne(e){"beforeunload"!==(e||(0,c.Jj)().event).type&&(C=!0,y[We](C)),Te(2,2)}function ae(e){C=!1,y[We](C)}function se(e){e.ext&&e.ext[ie]&&delete e.ext[ie],e.ext&&e.ext[oe]&&e.ext[oe].id&&delete e.ext[oe].id,_&&(e.ext=(0,L.Ax)(e.ext),e[ot]&&(e[ot]=(0,L.Ax)(e[ot])),e[Ze]&&(e[Ze]=(0,L.Ax)(e[Ze])))}function ue(e,t){if(e[at]||(e[at]=0),e[st]||(e[st]=1),se(e),e[ut])if(g||G)e[st]=3,e[ut]=!1;else if(y)return _&&(e=(0,L.Ax)(e)),void y[$e](dt.create(e[pe],[e]),!0===e[ut]?1:e[ut],3);var r=e[st],n=X,i=p;4===r&&(n=Q,i=l);var o=!1;if(n<i)o=!De(e,t);else{var a=1,s=20;4===r&&(a=4,s=1),o=!0,function(e,t,r,n){for(;r<=t;){var i=Ie(e,t,!0);if(i&&i[he]()>0){var o=i[ve](0,n),a=o[he]();if(a>0)return 4===r?Q-=a:X-=a,Ge(qt,[o],F.h.QueueFull),!0}r++}return Ee(),!1}(e[pe],e[st],a,s)&&(o=!De(e,t))}o&&He(qt,[e],F.h.QueueFull)}function ce(e,t,r){var n=Oe(e,t,r);return y[Ve](t,r),n}function le(){return X>0}function Se(){if(P>=0&&Oe(P,0,k)&&y[Ve](0,k),Q>0&&!m&&!G){var e=Z[Y][2];e>=0&&(m=Ce((function(){m=null,ce(4,0,1),Se()}),e))}var t=Z[Y][1];!h&&!s&&t>=0&&!G&&(le()?h=Ce((function(){h=null,ce(0===v?3:1,0,1),v++,v%=2,Se()}),t):v=0)}function we(){r=null,J=!1,H=[],s=null,G=!1,Q=0,l=500,X=0,p=Vt,Z={},Y=i,h=null,m=null,g=0,v=0,S={},b=0,W=!1,w=0,P=-1,k=null,_=!0,C=!1,M=6,T=2,I=null,$=null,K=!1,D=jt(),y=new zt(500,2,1,{requeue:Be,send:Qe,sent:Xe,drop:Ye,rspFail:et,oth:ct}),Le(),S[4]={batches:[],iKeyMap:{}},S[3]={batches:[],iKeyMap:{}},S[2]={batches:[],iKeyMap:{}},S[1]={batches:[],iKeyMap:{}},lt()}function Ce(e,t){0===t&&g&&(t=1);var r=1e3;return g&&(r=wt(g-1)),D.set(e,t*r)}function Me(){return null!==h&&(h.cancel(),h=null,v=0,!0)}function Te(e,t){Me(),s&&(s.cancel(),s=null),G||ce(1,e,t)}function Ie(e,t,r){var n=S[t];n||(n=S[t=1]);var i=n.iKeyMap[e];return!i&&r&&(i=dt.create(e),n.batches[ge](i),n.iKeyMap[e]=i),i}function Ae(t,r){y[ze]()&&!g&&(b>0&&X>b&&(r=!0),r&&null==s&&e.flush(t,(function(){}),20))}function De(e,t){_&&(e=(0,L.Ax)(e));var r=e[st],n=Ie(e[pe],r,!0);return!!n.addEvent(e)&&(4!==r?(X++,t&&0===e[at]&&Ae(!e.sync,w>0&&n[he]()>=w)):Q++,!0)}function Ee(){for(var e=0,t=0,r=function(r){var n=S[r];n&&n[Fe]&&(0,f.t)(n[Fe],(function(n){4===r?e+=n[he]():t+=n[he]()}))},n=1;n<=4;n++)r(n);X=t,Q=e}function Oe(t,r,n){var i=!1,o=0===r;return!o||y[ze]()?(0,j.Lm)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],r=4;r>=t;){var n=S[r];n&&n.batches&&n.batches[de]>0&&((0,f.t)(n[Fe],(function(t){y.addBatch(t)?i=i||t&&t[he]()>0:e=e[fe](t[me]()),4===r?Q-=t[he]():X-=t[he]()})),n[Fe]=[],n.iKeyMap={}),r--}e[de]>0&&He(qt,e,F.h.KillSwitch),i&&P>=t&&(P=-1,k=0)}),(function(){return{latency:t,sendType:r,sendReason:n}}),!o):(P=P>=0?Math.min(P,t):t,k=Math.max(k,n)),i}function xe(e,t){ce(1,0,t),Ee(),Ne((function(){e&&e(),H[de]>0?s=Ce((function(){s=null,xe(H.shift(),t)}),0):(s=null,Se())}))}function Ne(e){y[qe]()?e():s=Ce((function(){s=null,Ne(e)}),.25)}function Le(){(Z={})[i]=[2,1,0],Z[o]=[6,3,0],Z[a]=[18,9,0]}function Be(t,r){var n=[],i=M;C&&(i=T),(0,f.t)(t,(function(t){t&&t[he]()>0&&(0,f.t)(t[me](),(function(t){t&&(t[ut]&&(t[st]=4,t[ut]=!1),t[at]<i?(A(t,e[rt]),ue(t,!1)):n[ge](t))}))})),n[de]>0&&He(qt,n,F.h.NonRetryableStatus),C&&Te(2,2)}function Ke(t,r){var n=q||{},i=n[t];if(i)try{i.apply(n,r)}catch(r){(0,B.kP)(e.diagLog(),1,74,t+" notification failed: "+r)}}function He(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t&&t[de]>0&&Ke(e,[t][fe](r))}function Ge(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t&&t[de]>0&&(0,f.t)(t,(function(t){t&&t[he]()>0&&Ke(e,[t.events()][fe](r))}))}function Qe(e,t,r){e&&e[de]>0&&Ke("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==r])}function Xe(e,t){Ge("eventsSent",e,t),Se()}function Ye(e,t){Ge(qt,e,t>=8e3&&t<=8999?t-8e3:F.h.Unknown)}function et(e){Ge(qt,e,F.h.NonRetryableStatus),Se()}function ct(e,t){Ge(qt,e,F.h.Unknown),Se()}function lt(){w=V?0:Math.max(1500,p/6)}we(),e._getDbgPlgTargets=function(){return[y,r]},e[Pe]=function(i,o,a){(0,j.Lm)(o,(function(){return"PostChannel:initialize"}),(function(){t[Pe](i,o,a),q=o.getNotifyMgr();try{I=(0,R.jU)((0,O.J)(e[rt]),o.evtNamespace&&o.evtNamespace()),e._addHook((0,x.k)(i,(function(t){var i=t.cfg,a=(0,N.CD)(null,i,o);r=a.getExtCfg(e[rt],$t),D=jt(r[ke],r[_e]),_=!r.disableOptimizeObj&&!!(0,c.vs)("chrome"),U=r.ignoreMc1Ms0CookieProcessing,function(e){var t=e[Je];e[Je]=function(){var r=0;return U&&(r|=2),r|t.call(e)}}(o),p=r[nt],l=r.immediateEventLimit,b=r[it],M=r.maxEventRetryAttempts,T=r.maxUnloadEventRetryAttempts,V=r.disableAutoBatchFlushLimit,lt(),$=r.overrideInstrumentationKey,K=!!r.disableTelemetry,W&&n();var s=i.disablePageUnloadEvents||[];W=(0,R.c9)(ne,s,I),W=(0,R.TJ)(ne,s,I)||W,W=(0,R.nD)(ae,i.disablePageShowEvents,I)||W}))),y[Pe](i,e.core,e)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{theConfig:i,core:o,extensions:a}}))},e.processTelemetry=function(t,r){A(t,e[rt]),r=r||e._getTelCtx(r);var n=t;K||J||($&&(n[pe]=$),ue(n,!0),C?Te(2,2):Se()),e.processNext(n,r)},e.getOfflineSupport=function(){try{var e=y&&y[Re]();if(e)return{getUrl:function(){return e.url},serialize:re,batch:u,shouldProcess:function(e){return!K},createPayload:function(t){return{urlString:e.url,headers:e[be],data:t}}}}catch(e){}return null},e._doTeardown=function(e,t){Te(2,2),J=!0,y.teardown(),n(),we()},e.setEventQueueLimits=function(e,t){r[nt]=p=E(e)?e:Vt,r[it]=b=E(t)?t:0,lt();var n=X>e;if(!n&&w>0)for(var i=1;!n&&i<=3;i++){var o=S[i];o&&o[Fe]&&(0,f.t)(o[Fe],(function(e){e&&e[he]()>=w&&(n=!0)}))}Ae(!0,n)},e.pause=function(){Me(),G=!0,y.pause()},e.resume=function(){G=!1,y.resume(),Se()},e._loadTransmitProfiles=function(e){Me(),Le(),Y=i,Se(),(0,d.r)(e,(function(e,t){var r=t[de];if(r>=2){var n=r>2?t[2]:0;if(t[ye](0,r-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}n>=0&&t[1]>=0&&n>t[1]&&(n=t[1]),t[ge](n),Z[e]=t}}))},e.flush=function(e,t,r){var n;if(void 0===e&&(e=!0),!G)if(r=r||1,e)t||(n=(0,z.wv)((function(e){t=e}))),null==s?(Me(),Oe(1,0,r),s=Ce((function(){s=null,xe(t,r)}),0)):H[ge](t);else{var i=Me();ce(1,1,r),t&&t(),i&&Se()}return n},e.setMsaAuthTicket=function(e){y[Ue](ee,e)},e.setAuthPluginHeader=function(e){y[Ue](te,e)},e.removeAuthPluginHeader=function(){y.removeHeader(te)},e.hasEvents=le,e._setTransmitProfile=function(e){Y!==e&&void 0!==Z[e]&&(Me(),Y=e,Se())},(0,L.Vb)(e,(function(){return y}),["addResponseHandler"]),e[tt]=function(){g<4&&(g++,Me(),Se())},e._clearBackOff=function(){g&&(g=0,Me(),Se())}})),n}return(0,s.ne)(t,e),t.__ieDyn=1,t}(U.i)},673:(e,t,r)=>{"use strict";r.d(t,{N:()=>d,X:()=>l});var n=r(3942),i=r(4696),o=r(8714),a=r(508),s=r(1895),u=";",c="=";function l(e){if(!e)return{};var t=e[s.w6](u),r=(0,n.X)(t,(function(e,t){var r=t[s.w6](c);if(2===r[s.R5]){var n=r[0][s.T1](),i=r[1];e[n]=i}return e}),{});if((0,i.FY)(r)[s.R5]>0){if(r.endpointsuffix){var l=r.location?r.location+".":"";r[s.ok]=r[s.ok]||"https://"+l+"dc."+r.endpointsuffix}r[s.ok]=r[s.ok]||a.cA,(0,o.I)(r[s.ok],"/")&&(r[s.ok]=r[s.ok].slice(0,-1))}return r}var d={parse:l}},508:(e,t,r)=>{"use strict";r.d(t,{b2:()=>c,cA:()=>s,cV:()=>o,fb:()=>i,ly:()=>l,qp:()=>u,tP:()=>n,w$:()=>a});var n="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",i="sampleRate",o="ProcessLegacy",a="http.method",s="https://dc.services.visualstudio.com",u="/v2/track",c="not_specified",l="iKey"},200:(e,t,r)=>{"use strict";r.d(t,{IN:()=>a,Z1:()=>i,vp:()=>o});var n=r(488),i=(0,n.B)({LocalStorage:0,SessionStorage:1}),o=(0,n.B)({AI:0,AI_AND_W3C:1,W3C:2}),a=(0,n.B)({Normal:1,Critical:2})},9722:(e,t,r)=>{"use strict";r.d(t,{CO:()=>s,eN:()=>u,uI:()=>l,y1:()=>c});var n=r(636),i=r(1606),o=r(1895),a="";function s(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString()[o.T1]()}function u(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=a+e%1e3,r=a+Math.floor(e/1e3)%60,n=a+Math.floor(e/6e4)%60,i=a+Math.floor(e/36e5)%24,s=Math.floor(e/864e5);return t=1===t[o.R5]?"00"+t:2===t[o.R5]?"0"+t:t,r=r[o.R5]<2?"0"+r:r,n=n[o.R5]<2?"0"+n:n,i=i[o.R5]<2?"0"+i:i,(s>0?s+".":a)+i+":"+n+":"+r+"."+t}function c(e,t){var r=null;return(0,n.t)(e,(function(e){if(e.identifier===t)return r=e,-1})),r}function l(e,t,r,n,o){return!o&&(0,i.HD)(e)&&("Script error."===e||"Script error"===e)}},8266:(e,t,r)=>{"use strict";r.d(t,{n:()=>h});var n=r(2012),i=r(8769);function o(e){var t="ai."+e+".";return function(e){return t+e}}var a=o("application"),s=o("device"),u=o("location"),c=o("operation"),l=o("session"),d=o("user"),f=o("cloud"),p=o("internal"),h=function(e){function t(){return e.call(this)||this}return(0,n.ne)(t,e),t}((0,i.hl)({applicationVersion:a("ver"),applicationBuild:a("build"),applicationTypeId:a("typeId"),applicationId:a("applicationId"),applicationLayer:a("layer"),deviceId:s("id"),deviceIp:s("ip"),deviceLanguage:s("language"),deviceLocale:s("locale"),deviceModel:s("model"),deviceFriendlyName:s("friendlyName"),deviceNetwork:s("network"),deviceNetworkName:s("networkName"),deviceOEMName:s("oemName"),deviceOS:s("os"),deviceOSVersion:s("osVersion"),deviceRoleInstance:s("roleInstance"),deviceRoleName:s("roleName"),deviceScreenResolution:s("screenResolution"),deviceType:s("type"),deviceMachineName:s("machineName"),deviceVMName:s("vmName"),deviceBrowser:s("browser"),deviceBrowserVersion:s("browserVersion"),locationIp:u("ip"),locationCountry:u("country"),locationProvince:u("province"),locationCity:u("city"),operationId:c("id"),operationName:c("name"),operationParentId:c("parentId"),operationRootId:c("rootId"),operationSyntheticSource:c("syntheticSource"),operationCorrelationVector:c("correlationVector"),sessionId:l("id"),sessionIsFirst:l("isFirst"),sessionIsNew:l("isNew"),userAccountAcquisitionDate:d("accountAcquisitionDate"),userAccountId:d("accountId"),userAgent:d("userAgent"),userId:d("id"),userStoreRegion:d("storeRegion"),userAuthUserId:d("authUserId"),userAnonymousUserAcquisitionDate:d("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:d("authUserAcquisitionDate"),cloudName:f("name"),cloudRole:f("role"),cloudRoleVer:f("roleVer"),cloudRoleInstance:f("roleInstance"),cloudEnvironment:f("environment"),cloudLocation:f("location"),cloudDeploymentUnit:f("deploymentUnit"),internalNodeName:p("nodeName"),internalSdkVersion:p("sdkVersion"),internalAgentVersion:p("agentVersion"),internalSnippet:p("snippet"),internalSdkSrc:p("sdkSrc")}))},8967:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n=(0,r(488).B)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4})},1874:(e,t,r)=>{"use strict";r.d(t,{I:()=>i,Y:()=>o});var n=r(8266),i={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},o=new n.n},5358:(e,t,r)=>{"use strict";r.d(t,{g:()=>l});var n=r(3668),i=r(6864),o=r(1606),a=r(3831),s=r(636),u=r(1895);function c(e,t){(0,n.QY)(e,null,null,t)}function l(e){var t=(0,i.Me)(),r=(0,i.jW)(),l=!1,d=[],f=1;!r||(0,o.le)(r.onLine)||r.onLine||(f=2);var p=0,h=y(),m=(0,n.jU)((0,a.J)("OfflineListener"),e);try{if(v((0,i.Jj)())&&(l=!0),t){var g=t.body||t;g.ononline&&v(g)&&(l=!0)}}catch(e){l=!1}function v(e){var t=!1;return e&&(t=(0,n.XO)(e,"online",b,m))&&(0,n.XO)(e,"offline",w,m),t}function y(){return 2!==p&&2!==f}function S(){var e=y();h!==e&&(h=e,(0,s.t)(d,(function(e){var t={isOnline:h,rState:f,uState:p};try{e(t)}catch(e){}})))}function b(){f=1,S()}function w(){f=2,S()}return{isOnline:function(){return h},isListening:function(){return l},unload:function(){var e=(0,i.Jj)();if(e&&l){if(c(e,m),t){var r=t.body||t;(0,o.o8)(r.ononline)||c(r,m)}l=!1}},addListener:function(e){return d[u.MW](e),{rm:function(){var t=d.indexOf(e);return t>-1?d.splice(t,1):void 0}}},setOnlineState:function(e){p=e,S()}}}},6708:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var n=(0,r(488).c)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]})},1464:(e,t,r)=>{"use strict";r.d(t,{B1:()=>y,D3:()=>C,KX:()=>_,LN:()=>P,MB:()=>b,TY:()=>k,Vd:()=>T,d4:()=>w,lC:()=>M,ll:()=>A,mh:()=>S,yp:()=>I});var n=r(1606),i=r(8363),o=r(6864),a=r(8942),s=r(8769),u=r(6028),c=r(7158),l=r(200),d=r(1895),f=void 0,p=void 0,h="";function m(){return w()?g(l.Z1.LocalStorage):null}function g(e){try{if((0,n.le)((0,i.Rd)()))return null;var t=(new Date)[d.r_](),r=(0,o.vs)(e===l.Z1.LocalStorage?"localStorage":"sessionStorage"),a=h+t;r.setItem(a,t);var s=r.getItem(a)!==t;if(r[d.XI](a),!s)return r}catch(e){}return null}function v(){return C()?g(l.Z1.SessionStorage):null}function y(){f=!1,p=!1}function S(e){h=e||""}function b(){f=w(!0),p=C(!0)}function w(e){return(e||void 0===f)&&(f=!!g(l.Z1.LocalStorage)),f}function P(e,t){var r=m();if(null!==r)try{return r.getItem(t)}catch(t){f=!1,(0,a.kP)(e,2,1,"Browser failed read of local storage. "+(0,s.jj)(t),{exception:(0,u.e)(t)})}return null}function k(e,t,r){var n=m();if(null!==n)try{return n.setItem(t,r),!0}catch(t){f=!1,(0,a.kP)(e,2,3,"Browser failed write to local storage. "+(0,s.jj)(t),{exception:(0,u.e)(t)})}return!1}function _(e,t){var r=m();if(null!==r)try{return r[d.XI](t),!0}catch(t){f=!1,(0,a.kP)(e,2,5,"Browser failed removal of local storage item. "+(0,s.jj)(t),{exception:(0,u.e)(t)})}return!1}function C(e){return(e||void 0===p)&&(p=!!g(l.Z1.SessionStorage)),p}function M(){var e=[];return C()&&(0,c.r)((0,o.vs)("sessionStorage"),(function(t){e[d.MW](t)})),e}function T(e,t){var r=v();if(null!==r)try{return r.getItem(t)}catch(t){p=!1,(0,a.kP)(e,2,2,"Browser failed read of session storage. "+(0,s.jj)(t),{exception:(0,u.e)(t)})}return null}function I(e,t,r){var n=v();if(null!==n)try{return n.setItem(t,r),!0}catch(t){p=!1,(0,a.kP)(e,2,4,"Browser failed write to session storage. "+(0,s.jj)(t),{exception:(0,u.e)(t)})}return!1}function A(e,t){var r=v();if(null!==r)try{return r[d.XI](t),!0}catch(t){p=!1,(0,a.kP)(e,2,6,"Browser failed removal of session storage item. "+(0,s.jj)(t),{exception:(0,u.e)(t)})}return!1}},7979:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t}},733:(e,t,r)=>{"use strict";r.d(t,{AL:()=>f,G9:()=>v,GO:()=>g,HS:()=>m,NN:()=>y,O$:()=>p,X0:()=>d,ev:()=>w,oN:()=>b,oO:()=>S,rr:()=>h});var n=r(3710),i=r(8942),o=r(7158),a=r(1606),s=r(9233),u=r(9991),c=r(5450),l=r(1895);function d(e,t,r){var n=t[l.R5],i=f(e,t);if(i[l.R5]!==n){for(var o=0,a=i;void 0!==r[a];)o++,a=(0,u.k4)(i,0,147)+w(o);i=a}return i}function f(e,t){var r;return t&&(t=(0,n.nd)((0,c.X)(t)))[l.R5]>150&&(r=(0,u.k4)(t,0,150),(0,i.kP)(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}function p(e,t,r){var o;return void 0===r&&(r=1024),t&&(r=r||1024,(t=(0,n.nd)((0,c.X)(t)))[l.R5]>r&&(o=(0,u.k4)(t,0,r),(0,i.kP)(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),o||t}function h(e,t){return b(e,t,2048,66)}function m(e,t){var r;return t&&t[l.R5]>32768&&(r=(0,u.k4)(t,0,32768),(0,i.kP)(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}function g(e,t){var r;if(t){var n=""+t;n[l.R5]>32768&&(r=(0,u.k4)(n,0,32768),(0,i.kP)(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}function v(e,t){if(t){var r={};(0,o.r)(t,(function(t,n){if((0,a.Kn)(n)&&(0,s.nS)())try{n=(0,s.xA)()[l.MB](n)}catch(t){(0,i.kP)(e,2,49,"custom property is not valid",{exception:t},!0)}n=p(e,n,8192),t=d(e,t,r),r[t]=n})),t=r}return t}function y(e,t){if(t){var r={};(0,o.r)(t,(function(t,n){t=d(e,t,r),r[t]=n})),t=r}return t}function S(e,t){return t?b(e,t,128,69)[l.r_]():t}function b(e,t,r,o){var a;return t&&(t=(0,n.nd)((0,c.X)(t)))[l.R5]>r&&(a=(0,u.k4)(t,0,r),(0,i.kP)(e,2,o,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),a||t}function w(e){var t="00"+e;return(0,u.s1)(t,t[l.R5]-3)}},5922:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(8769),i=r(508),o=r(1895),a=r(733),s=function(e,t,r){var s=this,u=this;u.ver=1,u.sampleRate=100,u.tags={},u[o.I]=(0,a.O$)(e,r)||i.b2,u.data=t,u.time=(0,n.Y6)(new Date),u.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===s.sampleRate?4:1},tags:1,data:1}}},6938:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(508),i=r(1895),o=r(733),a=function(){function e(e,t,r,a){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var s=this;s.ver=2,s[i.I]=(0,o.O$)(e,t)||n.b2,s[i.qZ]=(0,o.G9)(e,r),s[i.Ee]=(0,o.NN)(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}()},4045:(e,t,r)=>{"use strict";r.d(t,{Pp:()=>M});var n=r(2012),i=r(1606),o=r(636),a=r(4962),s=r(3710),u=r(862),c=r(6864),l=r(508),d=r(1895),f=r(733),p="error",h="stack",m="stackDetails",g="errorSrc",v="message",y="description";function S(e,t){var r=e;return r&&!(0,i.HD)(r)&&(JSON&&JSON[d.MB]?(r=JSON[d.MB](e),!t||r&&"{}"!==r||(r=(0,i.mf)(e[d.r_])?e[d.r_]():""+e)):r=e+" - (Missing JSON.stringify)"),r||""}function b(e,t){var r=e;return e&&(r&&!(0,i.HD)(r)&&(r=e[v]||e[y]||r),r&&!(0,i.HD)(r)&&(r=S(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(0,u.M)(r||"",t)&&(r=t+": "+r),r||""}function w(e){return e&&e.src&&(0,i.HD)(e.src)&&e.obj&&(0,i.kJ)(e.obj)}function P(e){var t=e||"";(0,i.HD)(t)||(t=(0,i.HD)(t[h])?t[h]:""+t);var r=t[d.w6]("\n");return{src:t,obj:r}}function k(e){var t=null;if(e)try{if(e[h])t=P(e[h]);else if(e[p]&&e[p][h])t=P(e[p][h]);else if(e.exception&&e.exception[h])t=P(e.exception[h]);else if(w(e))t=e;else if(w(e[m]))t=e[m];else if((0,c.Jj)()&&(0,c.Jj)().opera&&e[v])t=function(e){for(var t=[],r=e[d.w6]("\n"),n=0;n<r[d.R5];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),t[d.MW](i)}return{src:e,obj:t}}(e[d.gU]);else if(e.reason&&e.reason[h])t=P(e.reason[h]);else if((0,i.HD)(e))t=P(e);else{var r=e[v]||e[y]||"";(0,i.HD)(e[g])&&(r&&(r+="\n"),r+=" from "+e[g]),r&&(t=P(r))}}catch(e){t=P(e)}return t||{src:"",obj:null}}function _(e){var t="";if(e&&!(t=e.typeName||e[d.I]||""))try{var r=/function (.{1,200})\(/.exec(e.constructor[d.r_]());t=r&&r[d.R5]>1?r[1]:""}catch(e){}return t}function C(e){if(e)try{if(!(0,i.HD)(e)){var t=_(e),r=S(e,!1);return r&&"{}"!==r||(e[p]&&(t=_(e=e[p])),r=S(e,!0)),0!==(0,u.M)(r,t)&&"String"!==t?t+":"+r:r}}catch(e){}return""+(e||"")}var M=function(){function e(e,t,r,n,o,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var s=this;s.ver=2,function(e){try{if((0,i.Kn)(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(s[d.pj]=t[d.pj]||[],s[d.qZ]=t[d.qZ],s[d.Ee]=t[d.Ee],t[d.uO]&&(s[d.uO]=t[d.uO]),t.id&&(s.id=t.id,t[d.qZ].id=t.id),t[d.oJ]&&(s[d.oJ]=t[d.oJ]),(0,i.le)(t[d.NE])||(s[d.NE]=t[d.NE])):(r||(r={}),a&&(r.id=a),s[d.pj]=[new T(e,t,r)],s[d.qZ]=(0,f.G9)(e,r),s[d.Ee]=(0,f.NN)(e,n),o&&(s[d.uO]=o),a&&(s.id=a))}return e.CreateAutoException=function(e,t,r,n,i,o,a,s){var u,c=_(i||o||e);return(u={})[d.gU]=b(e,c),u.url=t,u.lineNumber=r,u.columnNumber=n,u.error=C(i||o||e),u.evt=C(o||e),u[d.YX]=c,u.stackDetails=k(a||i||o),u.errorSrc=s,u},e.CreateFromInterface=function(t,r,i,o){var s=r[d.pj]&&(0,a.M)(r[d.pj],(function(e){return T[d.HO](t,e)}));return new e(t,(0,n.uc)((0,n.uc)({},r),{exceptions:s}),i,o)},e.prototype.toInterface=function(){var e,t=this,r=t.exceptions,n=t.properties,i=t.measurements,o=t.severityLevel,s=t.problemGroup,u=t.id,c=t.isManual,l=r instanceof Array&&(0,a.M)(r,(function(e){return e.toInterface()}))||void 0;return(e={ver:"4.0"})[d.pj]=l,e.severityLevel=o,e.properties=n,e.measurements=i,e.problemGroup=s,e.id=u,e.isManual=c,e},e.CreateSimpleException=function(e,t,r,n,i,o){var a;return{exceptions:[(a={},a[d.A5]=!0,a.message=e,a.stack=i,a.typeName=t,a)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=C,e}(),T=function(){function e(e,t,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var n=this;if(function(e){try{if((0,i.Kn)(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))n[d.YX]=t[d.YX],n[d.gU]=t[d.gU],n[h]=t[h],n[d.Xo]=t[d.Xo]||[],n[d.A5]=t[d.A5];else{var s=t,u=s&&s.evt;(0,i.VZ)(s)||(s=s[p]||u||s),n[d.YX]=(0,f.O$)(e,_(s))||l.b2,n[d.gU]=(0,f.HS)(e,b(t||s,n[d.YX]))||l.b2;var c=t[m]||k(t);n[d.Xo]=function(e){var t,r=e.obj;if(r&&r[d.R5]>0){t=[];var n=0,i=0;if((0,o.t)(r,(function(e){var r=e[d.r_]();if(I.regex.test(r)){var o=new I(r,n++);i+=o[d.$t],t[d.MW](o)}})),i>32768)for(var a=0,s=t[d.R5]-1,u=0,c=a,l=s;a<s;){if((u+=t[a][d.$t]+t[s][d.$t])>32768){var f=l-c+1;t.splice(c,f);break}c=a,l=s,a++,s--}}return t}(c),(0,i.kJ)(n[d.Xo])&&(0,a.M)(n[d.Xo],(function(t){t[d.wp]=(0,f.O$)(e,t[d.wp]),t[d.us]=(0,f.O$)(e,t[d.us])})),n[h]=(0,f.GO)(e,function(e){var t="";return e&&(e.obj?(0,o.t)(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(c)),n.hasFullStack=(0,i.kJ)(n.parsedStack)&&n.parsedStack[d.R5]>0,r&&(r[d.YX]=r[d.YX]||n[d.YX])}}return e.prototype.toInterface=function(){var e,t=this,r=t[d.Xo]instanceof Array&&(0,a.M)(t[d.Xo],(function(e){return e.toInterface()}));return(e={id:t.id,outerId:t.outerId,typeName:t[d.YX],message:t[d.gU],hasFullStack:t[d.A5],stack:t[h]})[d.Xo]=r||void 0,e},e.CreateFromInterface=function(t,r){var i=r[d.Xo]instanceof Array&&(0,a.M)(r[d.Xo],(function(e){return I[d.HO](e)}))||r[d.Xo];return new e(t,(0,n.uc)((0,n.uc)({},r),{parsedStack:i}))},e}(),I=function(){function e(t,r){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n=this;if(n[d.$t]=0,"string"==typeof t){var i=t;n[d.qs]=r,n[d.RQ]="<no_method>",n[d.wp]=(0,s.nd)(i),n[d.us]="",n[d.sO]=0;var o=i.match(e.regex);o&&o[d.R5]>=5&&(n[d.RQ]=(0,s.nd)(o[2])||n[d.RQ],n[d.us]=(0,s.nd)(o[4]),n[d.sO]=parseInt(o[5])||0)}else n[d.qs]=t[d.qs],n[d.RQ]=t[d.RQ],n[d.wp]=t[d.wp],n[d.us]=t[d.us],n[d.sO]=t[d.sO],n[d.$t]=0;n.sizeInBytes+=n.method[d.R5],n.sizeInBytes+=n.fileName[d.R5],n.sizeInBytes+=n.assembly[d.R5],n[d.$t]+=e.baseSize,n.sizeInBytes+=n.level.toString()[d.R5],n.sizeInBytes+=n.line.toString()[d.R5]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var e=this;return{level:e[d.qs],method:e[d.RQ],assembly:e[d.wp],fileName:e[d.us],line:e[d.sO]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}()},8829:(e,t,r)=>{"use strict";r.d(t,{j:()=>s});var n=r(508),i=r(1895),o=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},a=r(733),s=function(){function e(e,t,r,s,u,c,l,d,f){this.aiDataContract={ver:1,metrics:1,properties:0};var p=this;p.ver=2;var h=new o;h[i.yM]=s>0?s:void 0,h.max=isNaN(c)||null===c?void 0:c,h.min=isNaN(u)||null===u?void 0:u,h[i.I]=(0,a.O$)(e,t)||n.b2,h.value=r,h.stdDev=isNaN(l)||null===l?void 0:l,p.metrics=[h],p[i.qZ]=(0,a.G9)(e,d),p[i.Ee]=(0,a.NN)(e,f)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}()},2642:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var n=r(508),i=r(9722),o=r(1895),a=r(733),s=function(){function e(e,t,r,s,u,c,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var d=this;d.ver=2,d.id=(0,a.oO)(e,l),d.url=(0,a.rr)(e,r),d[o.I]=(0,a.O$)(e,t)||n.b2,isNaN(s)||(d[o.az]=(0,i.eN)(s)),d[o.qZ]=(0,a.G9)(e,u),d[o.Ee]=(0,a.NN)(e,c)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}()},4486:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(508),i=r(1895),o=r(733),a=function(){function e(e,t,r,a,s,u,c){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var l=this;l.ver=2,l.url=(0,o.rr)(e,r),l[i.I]=(0,o.O$)(e,t)||n.b2,l[i.qZ]=(0,o.G9)(e,s),l[i.Ee]=(0,o.NN)(e,u),c&&(l.domProcessing=c.domProcessing,l[i.az]=c[i.az],l.networkConnect=c.networkConnect,l.perfTotal=c.perfTotal,l[i.g5]=c[i.g5],l.sentRequest=c.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}()},4124:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(9722),i=r(8861),o=r(1895),a=r(733),s=function(){function e(e,t,r,s,u,c,l,d,f,p,h,m){void 0===f&&(f="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var g=this;g.ver=2,g.id=t,g[o.az]=(0,n.eN)(u),g.success=c,g.resultCode=l+"",g.type=(0,a.O$)(e,f);var v=(0,i.BB)(e,r,d,s);g.data=(0,a.rr)(e,s)||v.data,g.target=(0,a.O$)(e,v.target),p&&(g.target="".concat(g.target," | ").concat(p)),g[o.I]=(0,a.O$)(e,v[o.I]),g[o.qZ]=(0,a.G9)(e,h),g[o.Ee]=(0,a.NN)(e,m)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}()},9856:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var n=r(508),i=r(1895),o=r(733),a=function(){function e(e,t,r,a,s){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var u=this;u.ver=2,t=t||n.b2,u[i.gU]=(0,o.HS)(e,t),u[i.qZ]=(0,o.G9)(e,a),u[i.Ee]=(0,o.NN)(e,s),r&&(u[i.uO]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}()},6979:(e,t,r)=>{"use strict";r.d(t,{NZ:()=>h,U:()=>l,ZM:()=>d,az:()=>p,hq:()=>f,oy:()=>c});var n=r(6864),i=r(1606),o=r(1895),a=(0,n.Me)()||{},s=0,u=[null,null,null,null,null];function c(e){var t=s,r=u,n=r[t];return a.createElement?r[t]||(n=r[t]=a.createElement("a")):n={host:p(e,!0)},n.href=e,++t>=r[o.R5]&&(t=0),s=t,n}function l(e){var t,r=c(e);return r&&(t=r.href),t}function d(e){var t,r=c(e);return r&&(t=r[o.wL]),t}function f(e,t){return e?e.toUpperCase()+" "+t:t}function p(e,t){var r=h(e,t)||"";if(r){var n=r.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=n&&n[o.R5]>3&&(0,i.HD)(n[2])&&n[2][o.R5]>0)return n[2]+(n[3]||"")}return r}function h(e,t){var r=null;if(e){var n=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=n&&n[o.R5]>2&&(0,i.HD)(n[2])&&n[2][o.R5]>0&&(r=n[2]||"",t&&n[o.R5]>2)){var a=(n[1]||"")[o.T1](),s=n[3]||"";("http"===a&&":80"===s||"https"===a&&":443"===s)&&(s=""),r+=s}}return r}},8861:(e,t,r)=>{"use strict";r.d(t,{BB:()=>k,EX:()=>v,HZ:()=>S,I:()=>b,Je:()=>P,QM:()=>_,m:()=>w,wc:()=>y,xx:()=>M,yZ:()=>C});var n=r(9337),i=r(636),o=r(2033),a=r(4468),s=r(1606),u=r(3866),c=r(862),l=r(508),d=r(6708),f=r(733),p=r(6979),h=r(1895),m=[l.cA+l.qp,"https://breeze.aimon.applicationinsights.io"+l.qp,"https://dc-int.services.visualstudio.com"+l.qp],g="cid-v1:";function v(e){return-1!==(0,n.U)(m,e[h.T1]())}function y(e){g=e}function S(){return g}function b(e,t,r){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[h.ZP])for(var n=0;n<e.correlationHeaderExcludePatterns[h.R5];n++)if(e[h.ZP][n].test(t))return!1;var o=(0,p.oy)(t).host[h.T1]();if(!o||-1===(0,c.M)(o,":443")&&-1===(0,c.M)(o,":80")||(o=((0,p.NZ)(t,!0)||"")[h.T1]()),(!e||!e.enableCorsCorrelation)&&o&&o!==r)return!1;var a,s=e&&e.correlationHeaderDomains;if(s&&((0,i.t)(s,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||t.test(o)})),!a))return!1;var u=e&&e.correlationHeaderExcludedDomains;if(!u||0===u[h.R5])return!0;for(n=0;n<u[h.R5];n++)if(new RegExp(u[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(o))return!1;return o&&o[h.R5]>0}function w(e){if(e){var t=P(e,d.C[1]);if(t&&t!==g)return t}}function P(e,t){if(e)for(var r=e[h.w6](","),n=0;n<r[h.R5];++n){var i=r[n][h.w6]("=");if(2===i[h.R5]&&i[0]===t)return i[1]}}function k(e,t,r,n){var i,o=n,a=n;if(t&&t[h.R5]>0){var s=(0,p.oy)(t);if(i=s.host,!o)if(null!=s[h.wL]){var u=0===s.pathname[h.R5]?"/":s[h.wL];"/"!==u.charAt(0)&&(u="/"+u),a=s[h.wL],o=(0,f.O$)(e,r?r+" "+u:u)}else o=(0,f.O$)(e,t)}else i=n,o=n;return{target:i,name:o,data:a}}function _(){var e=(0,o.r)();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return(0,a.G)()}function C(e,t){var r=null;return 0===e||0===t||(0,s.le)(e)||(0,s.le)(t)||(r=t-e),r}function M(e,t){var r=e||{};return{getName:function(){return r[h.I]},setName:function(e){t&&t.setName(e),r[h.I]=e},getTraceId:function(){return r.traceID},setTraceId:function(e){t&&t.setTraceId(e),(0,u.jN)(e)&&(r.traceID=e)},getSpanId:function(){return r.parentID},setSpanId:function(e){t&&t.setSpanId(e),(0,u.Lc)(e)&&(r.parentID=e)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),r.traceFlags=e}}}},1895:(e,t,r)=>{"use strict";r.d(t,{$t:()=>T,A5:()=>x,Ee:()=>M,G$:()=>m,GW:()=>y,Gb:()=>v,HO:()=>j,I:()=>l,MB:()=>S,MW:()=>u,NE:()=>E,R5:()=>i,RQ:()=>L,T1:()=>o,XI:()=>c,Xo:()=>_,YX:()=>I,ZP:()=>w,az:()=>B,g5:()=>U,gU:()=>d,iU:()=>p,ih:()=>P,jZ:()=>g,oJ:()=>D,ok:()=>a,pj:()=>k,qZ:()=>C,qs:()=>N,r_:()=>s,sO:()=>F,uO:()=>A,us:()=>O,w6:()=>n,wL:()=>b,wp:()=>R,x5:()=>h,yM:()=>f});var n="split",i="length",o="toLowerCase",a="ingestionendpoint",s="toString",u="push",c="removeItem",l="name",d="message",f="count",p="preTriggerDate",h="disabled",m="interval",g="daysOfMonth",v="date",y="getUTCDate",S="stringify",b="pathname",w="correlationHeaderExcludePatterns",P="extensionConfig",k="exceptions",_="parsedStack",C="properties",M="measurements",T="sizeInBytes",I="typeName",A="severityLevel",D="problemGroup",E="isManual",j="CreateFromInterface",R="assembly",O="fileName",x="hasFullStack",N="level",L="method",F="line",B="duration",U="receivedResponse"},3238:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnalyticsPluginIdentifier:()=>K,BreezeChannelIdentifier:()=>$,ConfigurationManager:()=>A,ConnectionStringParser:()=>g.N,ContextTagKeys:()=>D.n,CtxTagKeys:()=>x.Y,DEFAULT_BREEZE_ENDPOINT:()=>y.cA,DEFAULT_BREEZE_PATH:()=>y.qp,Data:()=>T.V,DisabledPropertyName:()=>y.tP,DistributedTracingModes:()=>N.vp,Envelope:()=>S.w,Event:()=>b.j,EventPersistence:()=>N.IN,Exception:()=>w.Pp,Extensions:()=>x.I,HttpMethod:()=>y.w$,Metric:()=>P.j,PageView:()=>k.B,PageViewPerformance:()=>M.y,ProcessLegacy:()=>y.cV,PropertiesPluginIdentifier:()=>W,RemoteDependencyData:()=>_.H,RequestHeaders:()=>v.C,SampleRate:()=>y.fb,SeverityLevel:()=>I._,TelemetryItemCreator:()=>O,ThrottleMgr:()=>m,Trace:()=>C.f,correlationIdCanIncludeCorrelationHeader:()=>n.I,correlationIdGetCorrelationContext:()=>n.m,correlationIdGetCorrelationContextValue:()=>n.Je,correlationIdGetPrefix:()=>n.HZ,correlationIdSetPrefix:()=>n.wc,createDistributedTraceContextFromTrace:()=>n.xx,createDomEvent:()=>z,createOfflineListener:()=>q.g,createTelemetryItem:()=>R,createTraceParent:()=>B.SU,dataSanitizeException:()=>E.GO,dataSanitizeId:()=>E.oO,dataSanitizeInput:()=>E.oN,dataSanitizeKey:()=>E.AL,dataSanitizeKeyAndAddUniqueness:()=>E.X0,dataSanitizeMeasurements:()=>E.NN,dataSanitizeMessage:()=>E.HS,dataSanitizeProperties:()=>E.G9,dataSanitizeString:()=>E.O$,dataSanitizeUrl:()=>E.rr,dateTimeUtilsDuration:()=>n.yZ,dateTimeUtilsNow:()=>n.QM,dsPadNumber:()=>E.ev,findW3cTraceParent:()=>B.lq,formatTraceParent:()=>B.aR,getExtensionByName:()=>L.y1,isBeaconApiSupported:()=>F.MF,isCrossOriginError:()=>L.uI,isInternalApplicationInsightsEndpoint:()=>n.EX,isSampledFlag:()=>B.Pn,isValidSpanId:()=>B.Lc,isValidTraceId:()=>B.jN,isValidTraceParent:()=>B.J6,msToTimeSpan:()=>L.eN,parseConnectionString:()=>g.X,parseTraceParent:()=>B.j_,strNotSpecified:()=>y.b2,stringToBoolOrDefault:()=>L.CO,urlGetAbsoluteUrl:()=>V.U,urlGetCompleteUrl:()=>V.hq,urlGetPathName:()=>V.ZM,urlParseFullHost:()=>V.NZ,urlParseHost:()=>V.az,urlParseUrl:()=>V.oy,utlCanUseLocalStorage:()=>p.d4,utlCanUseSessionStorage:()=>p.D3,utlDisableStorage:()=>p.B1,utlEnableStorage:()=>p.MB,utlGetLocalStorage:()=>p.LN,utlGetSessionStorage:()=>p.Vd,utlGetSessionStorageKeys:()=>p.lC,utlRemoveSessionStorage:()=>p.ll,utlRemoveStorage:()=>p.KX,utlSetLocalStorage:()=>p.TY,utlSetSessionStorage:()=>p.yp,utlSetStoragePrefix:()=>p.mh});var n=r(8861),i=r(1606),o=r(8942),a=r(8769),s=r(3128),u=r(9337),c=r(3710),l=r(5778),d=r(636),f=r(7158),p=r(1464),h=r(1895),m=function(e,t){var r,n,m,g,v,y,S,b=this,w=!1,P=!1;function k(e,t,i,o){if(w){var a=function(e){try{var t=_(e);return(0,l.az)(1e6)<=t.limit.samplingRate}catch(e){}return!1}(e);if(!a)return;var s=_(e),u=j(e),c=M(s,r,u),d=!1,f=0,p=R(e);try{c&&!p?(f=Math.min(s.limit.maxSendNumber,u[h.yM]+1),u[h.yM]=0,d=!0,v[e]=!0,u[h.iU]=new Date):(v[e]=c,u[h.yM]+=1);var m=T(e);A(n,m,u);for(var g=0;g<f;g++)E(e,n,t,i)}catch(e){}return{isThrottled:d,throttleNum:f}}return o&&O(e)[h.MW]({msgID:e,message:t,severity:i}),null}function _(e){return m[e]||m[109]}function C(e,t){var r,n,o,a,s;try{var u=t||{},c={};c[h.x5]=!!u[h.x5];var l=u[h.G$]||{};P=(null==l?void 0:l.daysOfMonth)&&(null==l?void 0:l.daysOfMonth[h.R5])>0,c[h.G$]=(a=null===(o=(o=l)||{})||void 0===o?void 0:o.monthInterval,s=null==o?void 0:o.dayInterval,(0,i.le)(a)&&(0,i.le)(s)&&(o.monthInterval=3,P||(o[h.jZ]=[28],P=!0)),o={monthInterval:null==o?void 0:o.monthInterval,dayInterval:null==o?void 0:o.dayInterval,daysOfMonth:null==o?void 0:o.daysOfMonth});var d={samplingRate:(null===(r=u.limit)||void 0===r?void 0:r.samplingRate)||100,maxSendNumber:(null===(n=u.limit)||void 0===n?void 0:n.maxSendNumber)||1};c.limit=d,m[e]=c}catch(e){}}function M(e,t,r){if(e&&!e[h.x5]&&t&&(0,a.BX)(r)){var n=I(),i=r[h.Gb],o=e[h.G$],s=1;if(null==o?void 0:o.monthInterval){var c=12*(n.getUTCFullYear()-i.getUTCFullYear())+n.getUTCMonth()-i.getUTCMonth();s=D(o.monthInterval,0,c)}var l=1;if(P)l=(0,u.U)(o[h.jZ],n[h.GW]());else if(null==o?void 0:o.dayInterval){var d=Math.floor((n.getTime()-i.getTime())/864e5);l=D(o.dayInterval,0,d)}return s>=0&&l>=0}return!1}function T(e,t){var r=(0,a.BX)(t)?t:"";return e?"appInsightsThrottle"+r+"-"+e:null}function I(e){try{if(!e)return new Date;var t=new Date(e);if(!isNaN(t.getDate()))return t}catch(e){}return null}function A(e,t,r){try{return(0,p.TY)(e,t,(0,c.nd)(JSON[h.MB](r)))}catch(e){}return!1}function D(e,t,r){return e<=0?1:r>=t&&(r-t)%e==0?Math.floor((r-t)/e)+1:-1}function E(e,t,r,n){(0,o.kP)(t,n||1,e,r)}function j(e){try{var t=g[e];if(!t){var r=T(e,y);t=function(e,t,r){try{var n={date:I(),count:0};if(e){var i=JSON.parse(e);return{date:I(i[h.Gb])||n[h.Gb],count:i[h.yM]||n[h.yM],preTriggerDate:i.preTriggerDate?I(i[h.iU]):void 0}}return A(t,r,n),n}catch(e){}return null}((0,p.LN)(n,r),n,r),g[e]=t}return g[e]}catch(e){}return null}function R(e){var t=v[e];if((0,i.le)(t)){t=!1;var r=j(e);r&&(t=function(e){try{if(e){var t=new Date;return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e[h.GW]()===t[h.GW]()}}catch(e){}return!1}(r[h.iU])),v[e]=t}return v[e]}function O(e){return S=S||{},(0,i.le)(S[e])&&(S[e]=[]),S[e]}n=(0,o.vH)(e),v={},g={},S={},m={},C(109),y=(0,a.BX)(t)?t:"",e.addUnloadHook((0,s.k)(e.config,(function(e){var t=e.cfg;r=(0,p.d4)();var n=t.throttleMgrCfg||{};(0,f.r)(n,(function(e,t){C(parseInt(e),t)}))}))),b._getDbgPlgTargets=function(){return[S]},b.getConfig=function(){return m},b.canThrottle=function(e){var t=j(e);return M(_(e),r,t)},b.isTriggered=function(e){return R(e)},b.isReady=function(){return w},b.flush=function(e){try{var t=O(e);if(t&&t[h.R5]>0){var r=t.slice(0);return S[e]=[],(0,d.t)(r,(function(e){k(e.msgID,e[h.gU],e.severity,!1)})),!0}}catch(e){}return!1},b.flushAll=function(){try{if(S){var e=!0;return(0,f.r)(S,(function(t){var r=b.flush(parseInt(t));e=e&&r})),e}}catch(e){}return!1},b.onReadyState=function(e,t){return void 0===t&&(t=!0),(w=!!(0,i.le)(e)||e)&&t?b.flushAll():null},b.sendMessage=function(e,t,r){return k(e,t,r,!0)}},g=r(673),v=r(6708),y=r(508),S=r(5922),b=r(6938),w=r(4045),P=r(8829),k=r(2642),_=r(4124),C=r(9856),M=r(4486),T=r(7979),I=r(8967),A=function(){function e(){}return e.getConfig=function(e,t,r,n){var o;return void 0===n&&(n=!1),o=r&&e[h.ih]&&e[h.ih][r]&&!(0,i.le)(e[h.ih][r][t])?e[h.ih][r][t]:e[t],(0,i.le)(o)?n:o},e}(),D=r(8266),E=r(733),j=r(6326);function R(e,t,r,n,o,s){var u;r=(0,E.O$)(n,r)||y.b2,((0,i.le)(e)||(0,i.le)(t)||(0,i.le)(r))&&(0,j._y)("Input doesn't contain all required fields");var c="";e[y.ly]&&(c=e[y.ly],delete e[y.ly]);var l=((u={})[h.I]=r,u.time=(0,a.Y6)(new Date),u.iKey=c,u.ext=s||{},u.tags=[],u.data={},u.baseType=t,u.baseData=e,u);return(0,i.le)(o)||(0,f.r)(o,(function(e,t){l.data[e]=t})),l}var O=function(){function e(){}return e.create=R,e}(),x=r(1874),N=r(200),L=r(9722),F=r(9233),B=r(3866),U=r(6864);function z(e){var t=null;if((0,i.mf)(Event))t=new Event(e);else{var r=(0,U.Me)();r&&r.createEvent&&(t=r.createEvent("Event")).initEvent(e,!0,!0)}return t}var V=r(6979),q=r(5358),W="AppInsightsPropertiesPlugin",$="AppInsightsChannelPlugin",K="ApplicationInsightsAnalytics"},7082:(e,t,r)=>{"use strict";r.d(t,{bK:()=>s,gI:()=>u,up:()=>c});var n=r(1606),i=r(5450),o=r(7372);function a(e,t,r){return!e&&(0,n.le)(e)?t:(0,n.jn)(e)?e:"true"===(0,i.X)(e)[o.D7]()}function s(e){return{mrg:!0,v:e}}function u(e,t,r){return{fb:r,isVal:e,v:t}}function c(e,t){return{fb:t,set:a,v:!!e}}},4619:(e,t,r)=>{"use strict";r.d(t,{e:()=>f});var n=r(1606),i=r(709),o=r(5450),a=r(1364),s=r(7158),u=r(7372);function c(e){return e&&(0,n.Kn)(e)&&(e.isVal||e.fb||(0,i.w)(e,"v")||(0,i.w)(e,"mrg")||(0,i.w)(e,"ref")||e.set)}function l(e,t,r){var i,a=r.dfVal||n.$K;if(t&&r.fb){var s=r.fb;(0,n.kJ)(s)||(s=[s]);for(var c=0;c<s[u.R5];c++){var l=s[c],d=t[l];if(a(d)?i=d:e&&(a(d=e.cfg[l])&&(i=d),e.set(e.cfg,(0,o.X)(l),d)),a(i))break}}return!a(i)&&a(r.v)&&(i=r.v),i}function d(e,t,r){var i,o=r;return r&&c(r)&&(o=l(e,t,r)),o&&(c(o)&&(o=d(e,t,o)),(0,n.kJ)(o)?(i=[])[u.R5]=o[u.R5]:(0,a.P)(o)&&(i={}),i&&((0,s.r)(o,(function(r,n){n&&c(n)&&(n=d(e,t,n)),i[r]=n})),o=i)),o}function f(e,t,r,i){var o,p,h,m,g,v,y,S,b=i;c(b)?(o=b.isVal,p=b.set,v=b[u.aV],y=b[u.vd],m=b.mrg,!(g=b.ref)&&(0,n.o8)(g)&&(g=!!m),h=l(e,t,b)):h=i,y&&e[u.vd](t,r);var w=!0,P=t[r];!P&&(0,n.le)(P)||(S=P,w=!1,o&&S!==h&&!o(S)&&(S=h,w=!0),p&&(w=(S=p(S,h,t))===h)),w?S=h?d(e,t,h):h:((0,a.P)(S)||(0,n.kJ)(h))&&m&&h&&((0,a.P)(h)||(0,n.kJ)(h))&&(0,s.r)(h,(function(t,r){f(e,S,t,r)})),e.set(t,r,S),g&&e.ref(t,r),v&&e[u.aV](t,r)}},3128:(e,t,r)=>{"use strict";r.d(t,{o:()=>L,k:()=>F});var n=r(8877),i=r(1606),o=r(7158),a=r(6028),s=r(3831),u=r(370),c=r(7372),l=r(4619),d=r(636),f=r(2008),p=r(9337),h=r(388),m=["push","pop","shift","unshift","splice"],g=function(e,t,r,n){e&&e[c.v1](3,108,"".concat(r," [").concat(t,"] failed - ")+(0,a.e)(n))};function v(e,t){var r=(0,f.S)(e,t);return r&&r.get}function y(e,t,r,i){if(t){var s=v(t,r);s&&s[e.prop]?t[r]=i:function(e,t,r,i){var s={n:r,h:[],trk:function(t){t&&t.fn&&(-1===(0,p.U)(s.h,t)&&s.h[c.MW](t),e.trk(t,s))},clr:function(e){var t=(0,p.U)(s.h,e);-1!==t&&s.h[c.cb](t,1)}},l=!0,d=!1;function f(){l&&(d=d||(0,h.QT)(f,e,i),i&&!i[h.iM]&&d&&(i=b(e,i,r,"Converting")),l=!1);var t=e.act;return t&&s.trk(t),i}f[e.prop]={chng:function(){e.add(s)}},(0,n.g$)(t,s.n,{g:f,s:function(n){if(i!==n){f[e.ro]&&!e.upd&&(0,h.bh)("["+r+"] is read-only:"+(0,a.e)(t)),l&&(d=d||(0,h.QT)(f,e,i),l=!1);var p=d&&f[e.rf];if(d)if(p){(0,o.r)(i,(function(e){i[e]=n?n[e]:u.c8}));try{(0,o.r)(n,(function(t,r){y(e,i,t,r)})),n=i}catch(t){g((e.hdlr||{})[c.eZ],r,"Assigning",t),d=!1}}else i&&i[h.iM]&&(0,o.r)(i,(function(t){var r=v(i,t);if(r){var n=r[e.prop];n&&n.chng()}}));if(n!==i){var m=n&&(0,h.QT)(f,e,n);!p&&m&&(n=b(e,n,r,"Converting")),i=n,d=m}e.add(s)}}})}(e,t,r,i)}return t}function S(e,t,r,n){if(t){var i=v(t,r),o=i&&!!i[e.prop],a=n&&n[0],s=n&&n[1],u=n&&n[2];if(!o){if(u)try{(0,h.qx)(t)}catch(t){g((e.hdlr||{})[c.eZ],r,"Blocking",t)}try{y(e,t,r,t[r]),i=v(t,r)}catch(t){g((e.hdlr||{})[c.eZ],r,"State",t)}}a&&(i[e.rf]=a),s&&(i[e.ro]=s),u&&(i[e.blkVal]=!0)}return t}function b(e,t,r,a){try{(0,o.r)(t,(function(r,n){y(e,t,r,n)})),t[h.iM]||((0,n.iU)(t,h.iM,{get:function(){return e[c.Hp]}}),function(e,t,r){(0,i.kJ)(t)&&(0,d.t)(m,(function(n){var i=t[n];t[n]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=i[c.ZV](this,n);return b(e,t,r,"Patching"),a}}))}(e,t,r))}catch(t){g((e.hdlr||{})[c.eZ],r,a,t)}return t}var w,P=r(5703),k=r(7926),_=r(9200),C=r(6534),M=r(6326),T=C.Pw.create||function(e){if(!e)return{};var t=typeof e;function r(){}return t!==C.$l&&t!==C.cy&&(0,M.ZU)("Prototype must be an Object or function: "+(0,a.e)(e)),r[C.sw]=e,new r},I=r(4696),A=r(8984);function D(e,t){return(C.Pw.setPrototypeOf||function(e,t){!w&&(w=(0,A.d$)((function(){var e;return(e={})[C.b6]=[],e instanceof Array}))),w.v?e[C.b6]=t:(0,o.r)(t,(function(t,r){return e[t]=r}))})(e,t)}var E,j=r(6373);function R(e,t){t&&(e[C.A1]=t)}var O="[[ai_",x="]]";function N(e){var t,r,i=(0,P.eM)(O+"get"+e.uid+x),o=(0,P.eM)(O+"ro"+e.uid+x),s=(0,P.eM)(O+"rf"+e.uid+x),u=(0,P.eM)(O+"blkVal"+e.uid+x),l=(0,P.eM)(O+"dtl"+e.uid+x),f=null,h=null;function m(t,n){var i=r.act;try{r.act=t,t&&t[l]&&((0,d.t)(t[l],(function(e){e.clr(t)})),t[l]=[]),n({cfg:e.cfg,set:e.set.bind(e),setDf:e[c.Ag].bind(e),ref:e.ref.bind(e),rdOnly:e[c.aV].bind(e)})}catch(t){var o=e[c.eZ];throw o&&o[c.v1](1,107,(0,a.e)(t)),t}finally{r.act=i||null}}function g(){if(f){var e=f;f=null,h&&h[c.SG](),h=null;var t=[];if((0,d.t)(e,(function(e){if(e&&(e[l]&&((0,d.t)(e[l],(function(t){t.clr(e)})),e[l]=null),e.fn))try{m(e,e.fn)}catch(e){t[c.MW](e)}})),f)try{g()}catch(e){t[c.MW](e)}t[c.R5]>0&&function(e,t){var r,i,o,s,u,l;E||(r="AggregationError",i=function(e,t){t[c.R5]>1&&(e.errors=t[1])},s=o||Error,u=s[C.sw][C.A1],l=Error.captureStackTrace,E=function(e,t,r){function i(){this.constructor=t,(0,j.T)(n.g$,[this,C.A1,{v:e,c:!0,e:!1}])}return(0,j.T)(n.g$,[t,C.A1,{v:e,c:!0,e:!1}]),(t=D(t,r))[C.sw]=r===C.Il?T(r):(i[C.sw]=r[C.sw],new i),t}(r,(function(){var e=this,t=arguments;try{(0,j.T)(R,[s,r]);var n=(0,_.j2)(s,e,C.Q1[C.D0](t))||e;if(n!==e){var o=(0,I.uV)(e);o!==(0,I.uV)(n)&&D(n,o)}return l&&l(n,e[C.Q]),i&&i(n,t),n}finally{(0,j.T)(R,[s,u])}}),s));var f="Watcher error(s): ";throw(0,d.t)(t,(function(e,t){f+="\n".concat(t," > ").concat((0,a.e)(e))})),new E(f,t||[])}(0,t)}}return(t={prop:i,ro:o,rf:s})[c.vd]=u,t[c.Hp]=e,t.add=function(e){if(e&&e.h[c.R5]>0){f||(f=[]),h||(h=(0,k.tX)((function(){h=null,g()}),0));for(var t=0;t<e.h[c.R5];t++){var r=e.h[t];r&&-1===(0,p.U)(f,r)&&f[c.MW](r)}}},t[c.jW]=g,t.use=m,t.trk=function(e,t){if(e){var r=e[l]=e[l]||[];-1===(0,p.U)(r,t)&&r[c.MW](t)}},r=t}function L(e,t,r,a){var u=function(e,t,r){var a,u=(0,h.Rw)(t);if(u)return u;var d,f=(0,s.J)("dyncfg",!0),p=t&&!1!==r?t:(0,h.$1)(t),m=((a={uid:null,cfg:p})[c.eZ]=e,a[c.jW]=function(){d[c.jW]()},a.set=function(t,r,n){try{t=y(d,t,r,n)}catch(t){g(e,r,"Setting value",t)}return t[r]},a[c.Ag]=function(e,t){return t&&(0,o.r)(t,(function(t,r){(0,l.e)(m,e,t,r)})),e},a[c.DI]=function(e){return function(e,t){var r={fn:t,rm:function(){r.fn=null,e=null,t=null}};return(0,n.g$)(r,"toJSON",{v:function(){return"WatcherHandler"+(r.fn?"":"[X]")}}),e.use(r,t),r}(d,e)},a.ref=function(e,t){var r;return S(d,e,t,(r={},r[0]=!0,r))[t]},a[c.aV]=function(e,t){var r;return S(d,e,t,(r={},r[1]=!0,r))[t]},a[c.vd]=function(e,t){var r;return S(d,e,t,(r={},r[2]=!0,r))[t]},a._block=function(e,t){d.use(null,(function(r){var n=d.upd;try{(0,i.o8)(t)||(d.upd=t),e(r)}finally{d.upd=n}}))},a);return(0,n.g$)(m,"uid",{c:!1,e:!1,w:!1,v:f}),b(d=N(m),p,"config","Creating"),m}(r,e||{},a);return t&&u[c.Ag](u.cfg,t),u}function F(e,t,r){var n=e[h.iM]||e;return!n.cfg||n.cfg!==e&&n.cfg[h.iM]!==n?(function(e,t){e?(e[c.pQ](t),e[c.v1](2,108,t)):(0,h.bh)(t)}(r,u.XS+(0,a.e)(e)),L(e,null,r)[c.DI](t)):n[c.DI](t)}},388:(e,t,r)=>{"use strict";r.d(t,{$1:()=>f,QT:()=>g,Rw:()=>p,bh:()=>v,iM:()=>c,qx:()=>h,sP:()=>m});var n=r(5703),i=r(1606),o=r(1364),a=r(7158),s=r(6326),u=r(7372),c=(0,n.dv)("[[ai_dynCfg_1]]"),l=(0,n.dv)("[[ai_blkDynCfg_1]]"),d=(0,n.dv)("[[ai_frcDynCfg_1]]");function f(e){var t;return e&&((0,i.kJ)(e)?(t=[])[u.R5]=e[u.R5]:(0,o.P)(e)&&(t={}),t)?((0,a.r)(e,(function(e,r){t[e]=f(r)})),t):e}function p(e){if(e){var t=e[c]||e;if(t.cfg&&(t.cfg===e||t.cfg[c]===t))return t}return null}function h(e){if(e&&((0,o.P)(e)||(0,i.kJ)(e)))try{e[l]=!0}catch(e){}return e}function m(e){if(e)try{e[d]=!0}catch(e){}return e}function g(e,t,r){var n=!1;return r&&!e[t.blkVal]&&((n=r[d])||r[l]||(n=(0,o.P)(r)||(0,i.kJ)(r))),n}function v(e){(0,s.ZU)("InvalidAccess:"+e)}},488:(e,t,r)=>{"use strict";r.d(t,{B:()=>i,c:()=>o});var n=r(2509),i=n.$S,o=n.Oz},3657:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(488),i=(0,n.B)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5});(0,n.B)({Unknown:0,NonRetryableStatus:1,CleanStorage:2,MaxInStorageTimeExceeded:3})},8545:(e,t,r)=>{"use strict";r.d(t,{F:()=>X});var n=r(2012),i=r(7862),o=r(9873),a=r(4696),s=r(636),u=r(1606),c=r(6326),l=r(7158),d=r(1364),f=r(8877),p=r(7926),h=r(6534);function m(e){return e.value&&S(e),!0}var g=[function(e){var t=e.value;if((0,u.kJ)(t)){var r=e.result=[];return r.length=t.length,e.copyTo(r,t),!0}return!1},S,function(e){return e.type===h.cy},function(e){var t=e.value;return!!(0,u.J_)(t)&&(e.result=new Date(t.getTime()),!0)}];function v(e,t,r,n){var i=r.handler,o=r.path?n?r.path.concat(n):r.path:[],a={handler:r.handler,src:r.src,path:o},c=typeof t,l=!1,p=!1;t&&c===h.$l?l=(0,d.P)(t):p=t===h.Il||(0,u.ty)(c);var S={type:c,isPrim:p,isPlain:l,value:t,result:t,path:o,origin:r.src,copy:function(t,n){return v(e,t,n?a:r,n)},copyTo:function(t,r){return y(e,t,r,a)}};return S.isPrim?i&&i[h.D0](r,S)?S.result:t:function(e,t,n,o){var a;return(0,s.t)(e,(function(e){if(e.k===t)return a=e,-1})),a||(a={k:t,v:t},e.push(a),function(e){(0,f.g$)(S,"result",{g:function(){return e.v},s:function(t){e.v=t}});for(var t=0,n=i;!(n||(t<g.length?g[t++]:m))[h.D0](r,S);)n=h.Il}(a)),a.v}(e,t)}function y(e,t,r,n){if(!(0,u.le)(r))for(var i in r)t[i]=v(e,r[i],n,i);return t}function S(e){var t=e.value;if(t&&e.isPlain){var r=e.result={};return e.copyTo(r,t),!0}return!1}function b(e,t,r,n,i,o,a){return function(e,t){return(0,s.t)(t,(function(t){!function(e,t,r){y([],e,t,{handler:void 0,src:t,path:[]})}(e,t)})),e}(v([],u=e,{handler:undefined,src:u})||{},h.Q1[h.D0](arguments));var u}var w,P=r(709),k=r(6864),_=r(9105),C=r(9337),M=r(3128),T=r(7372),I=r(7568),A=r(7970),D=r(2450),E=r(3831),j=r(9266),R=r(8942),O=r(8769),x=r(370),N=r(1016),L=r(7019),F=r(8570),B=r(7076),U=r(6028),z=function(e){function t(){var r,n,o=e.call(this)||this;function a(){r=0,n=[]}return o.identifier="TelemetryInitializerPlugin",o.priority=199,a(),(0,i.Z)(t,o,(function(e,t){e.addTelemetryInitializer=function(e){return function(e,t,r){var n={id:t,fn:r};return(0,_.W)(e,n),{remove:function(){(0,s.t)(e,(function(t,r){if(t.id===n.id)return e[T.cb](r,1),-1}))}}}(n,r++,e)},e[x.hL]=function(t,r){(function(e,t,r){for(var n=!1,i=e[T.R5],o=0;o<i;++o){var a=e[o];if(a)try{if(!1===a.fn[T.ZV](null,[t])){n=!0;break}}catch(e){(0,R.kP)(r,2,64,"Telemetry initializer failed: "+(0,O.jj)(e),{exception:(0,U.e)(e)},!0)}}return!n})(n,t,r?r[T.mc]():e[T.mc]())&&e[T.uL](t,r)},e[T.F3]=function(){a()}})),o}return(0,n.ne)(t,e),t.__ieDyn=1,t}(r(8264).i),V=r(6096),q=r(9925),W="Plugins must provide initialize method",$="SDK is still unloading...",K=(0,a.He)(((w={cookieCfg:{}})[x.js]={rdOnly:!0,ref:!0,v:[]},w[x.Z]={rdOnly:!0,ref:!0,v:[]},w[x.Zh]={ref:!0,v:{}},w[x.DN]=x.c8,w.loggingLevelConsole=0,w.diagnosticLogInterval=x.c8,w));function J(e,t){return new L.Jk(t)}function H(e,t){var r=!1;return(0,s.t)(t,(function(t){if(t===e)return r=!0,-1})),r}function G(e,t,r,n){r&&(0,l.r)(r,(function(r,i){n&&(0,d.P)(i)&&(0,d.P)(t[r])&&G(e,t[r],i,n),n&&(0,d.P)(i)&&(0,d.P)(t[r])?G(e,t[r],i,n):e.set(t,r,i)}))}function Q(e,t){var r=null,n=-1;return(0,s.t)(e,(function(e,i){if(e.w===t)return r=e,n=i,-1})),{i:n,l:r}}var X=function(){function e(){var t,r,d,h,m,g,v,y,S,w,U,X,Z,Y,ee,te,re,ne,ie,oe,ae,se,ue,ce,le,de,fe,pe;(0,i.Z)(e,this,(function(e){function i(e){return de&&de[T.jP]||pe||(e||d&&d.queue[T.R5]>0)&&(fe||(fe=!0,Me(t[T.DI]((function(e){var t=e.cfg.diagnosticLogInterval;t&&t>0||(t=1e4);var r=!1;de&&(r=de[T.jP],de[T.SG]()),(de=(0,p._w)(we,t)).unref(),de[T.jP]=r})))),de[T.jP]=!0),de}function he(){var e={};ce=[];var t=function(t){t&&(0,s.t)(t,(function(t){if(t[T.pZ]&&t[T.PA]&&!e[t.identifier]){var r=t[T.pZ]+"="+t[T.PA];ce[T.MW](r),e[t.identifier]=t}}))};t(X),U&&(0,s.t)(U,(function(e){t(e)})),t(w)}function me(){r=!1,(t=(0,M.o)({},K,e[T.eZ])).cfg[T.KW]=1,(0,f.g$)(e,"config",{g:function(){return t.cfg},s:function(t){e.updateCfg(t,!1)}}),(0,f.g$)(e,"pluginVersionStringArr",{g:function(){return ce||he(),ce}}),(0,f.g$)(e,"pluginVersionString",{g:function(){return le||(ce||he(),le=ce.join(";")),le||x.qS}}),(0,f.g$)(e,"logger",{g:function(){return d||(d=new R.AQ(t.cfg),t[T.eZ]=d),d},s:function(e){t[T.eZ]=e,d!==e&&((0,I.e)(d,!1),d=e)}}),e[T.eZ]=new R.AQ(t.cfg),ue=[];var n=e.config[x.js]||[];n.splice(0,n[T.R5]),(0,_.W)(n,ue),Y=new z,h=[],(0,I.e)(m,!1),m=null,g=null,v=null,(0,I.e)(y,!1),y=null,S=null,w=[],U=null,X=null,Z=!1,ee=null,te=(0,E.J)("AIBaseCore",!0),re=(0,V.Y)(),oe=null,ae=null,ne=(0,q.t)(),se=[],le=null,ce=null,pe=!1,de=null,fe=!1}function ge(){var r=(0,F.CD)(Se(),t.cfg,e);return r[T.Fc](i),r}function ve(t){var r=function(e,t,r){var n,i=[],o=[],a={};return(0,s.t)(r,(function(r){((0,u.le)(r)||(0,u.le)(r[T.VL]))&&(0,c._y)(W);var n=r[x.yi],s=r[T.pZ];r&&n&&((0,u.le)(a[n])?a[n]=s:(0,R.jV)(e,"Two extensions have same priority #"+n+" - "+a[n]+", "+s)),!n||n<t?i[T.MW](r):o[T.MW](r)})),(n={})[x.oV]=i,n[x.Z]=o,n}(e[T.eZ],A.A,w);S=null,le=null,ce=null,X=(U||[])[0]||[],X=(0,B.AA)((0,_.W)(X,r[x.Z]));var n=(0,_.W)((0,B.AA)(r[x.oV]),X);ue=(0,a.FL)(n);var i=e.config[x.js]||[];i.splice(0,i[T.R5]),(0,_.W)(i,ue);var o=ge();X&&X[T.R5]>0&&(0,B.bP)(o[T.zV](X),n),(0,B.bP)(o,n),t&&ke(t)}function ye(e){var t=null,r=null,n=[];return(0,s.t)(ue,(function(t){if(t[T.pZ]===e&&t!==Y)return r=t,-1;t.getChannel&&n[T.MW](t)})),!r&&n[T.R5]>0&&(0,s.t)(n,(function(t){if(!(r=t.getChannel(e)))return-1})),r&&(t={plugin:r,setEnabled:function(e){(0,B.OY)(r)[x.mE]=!e},isEnabled:function(){var e=(0,B.OY)(r);return!e[T.fi]&&!e[x.mE]},remove:function(e,t){var n;void 0===e&&(e=!0);var i=[r],o=((n={reason:1})[T.d]=e,n);be(i,o,(function(e){e&&ve({reason:32,removed:i}),t&&t(e)}))}}),t}function Se(){if(!S){var r=(ue||[]).slice();-1===(0,C.U)(r,Y)&&r[T.MW](Y),S=(0,F.jV)((0,B.AA)(r),t.cfg,e)}return S}function be(r,n,o){if(r&&r[T.R5]>0){var a=(0,F.jV)(r,t.cfg,e),u=(0,F.Bt)(a,e);u[T.Fc]((function(){var e=!1,t=[];(0,s.t)(w,(function(n,i){H(n,r)?e=!0:t[T.MW](n)})),w=t,le=null,ce=null;var n=[];U&&((0,s.t)(U,(function(t,i){var o=[];(0,s.t)(t,(function(t){H(t,r)?e=!0:o[T.MW](t)})),n[T.MW](o)})),U=n),o&&o(e),i()})),u[T.uL](n)}else o(!1)}function we(){if(d&&d.queue){var t=d.queue.slice(0);d.queue[T.R5]=0,(0,s.t)(t,(function(t){var r,n=((r={})[T.I]=ee||"InternalMessageId: "+t[T.Gc],r.iKey=ae,r[T.Z_]=(0,O.Y6)(new Date),r.baseType=R.lQ.dataType,r.baseData={message:t[T.gU]},r);e.track(n)}))}}function Pe(e,t,r,n){var i=1,o=!1,a=null;function s(){i--,o&&0===i&&(a&&a[T.SG](),a=null,t&&t(o),t=null)}return n=n||5e3,X&&X[T.R5]>0&&ge()[T.zV](X).iterate((function(t){if(t.flush){i++;var o=!1;t.flush(e,(function(){o=!0,s()}),r)||o||(e&&null==a?a=(0,p.tX)((function(){a=null,s()}),n):s())}})),o=!0,s(),!0}function ke(t){var r=(0,F.xy)(Se(),e);r[T.Fc](i),e._updateHook&&!0===e._updateHook(r,t)||r[T.uL](t)}function _e(t){var r=e[T.eZ];r?((0,R.kP)(r,2,73,t),i()):(0,c._y)(t)}function Ce(t){var r=e[T.tb]();r&&r[x.$F]([t],2)}function Me(e){ne.add(e)}me(),e._getDbgPlgTargets=function(){return[ue]},e[T.yl]=function(){return r},e[T.VL]=function(i,o,a,f){var p;Z&&(0,c._y)($),e[T.yl]()&&(0,c._y)("Core cannot be initialized more than once"),i=(t=(0,M.o)(i,K,a||e[T.eZ],!1)).cfg,Me(t[T.DI]((function(e){ae=e.cfg.instrumentationKey;var t=e.ref(e.cfg,x.Zh);(0,l.r)(t,(function(r){e.ref(t,r)})),(0,u.le)(ae)&&(0,c._y)("Please provide instrumentation key")}))),ie=function(e,t,r,n){return t.add(e[T.DI]((function(e){var t=e.cfg.disableDbgExt;!0===t&&n&&(r[T.nG](n),n=null),r&&!n&&!0!==t&&(n=(0,j.p)(e.cfg),r[T.g](n))}))),n}(t,ne,(m=f)&&e[T.tb](),ie),Me(t[T.DI]((function(t){if(t.cfg.enablePerfMgr){var r=t.cfg[x.DN];p!==r&&(r||(r=J),(0,O.qK)(t.cfg,x.DN,r),p=r,v=null),g||v||!(0,u.mf)(r)||(v=r(e,e[T.tb]()))}else v=null,p=null}))),e[T.eZ]=a;var h=i[x.js];if((w=[])[T.MW].apply(w,(0,n.$h)((0,n.$h)([],o,!1),h,!1)),U=i[x.Z],ve(null),X&&0!==X[T.R5]||(0,c._y)("No "+x.Z+" available"),U&&U[T.R5]>1){var y=e[T.TO]("TeeChannelController");y&&y.plugin||(0,R.kP)(d,1,28,"TeeChannel required")}!function(e,t,r){(0,s.t)(t,(function(t){var n=(0,M.k)(e,t.w,r);delete t.w,t.rm=function(){n.rm()}}))}(i,se,d),se=null,r=!0,e.releaseQueue(),e[T.T1]()},e.getChannels=function(){var e=[];return X&&(0,s.t)(X,(function(t){e[T.MW](t)})),(0,a.FL)(e)},e.track=function(t){(0,L.Lm)(e[x.kl](),(function(){return"AppInsightsCore:track"}),(function(){null===t&&(Ce(t),(0,c._y)("Invalid telemetry item")),!t[T.I]&&(0,u.le)(t[T.I])&&(Ce(t),(0,c._y)("telemetry name required")),t.iKey=t.iKey||ae,t[T.Z_]=t[T.Z_]||(0,O.Y6)(new Date),t.ver=t.ver||"4.0",!Z&&e[T.yl]()?ge()[T.uL](t):h[T.MW](t)}),(function(){return{item:t}}),!t.sync)},e[T.fs]=ge,e[T.tb]=function(){return m||(m=new N.f(t.cfg),e._notificationManager=m),m},e[T.g]=function(t){e.getNotifyMgr()[T.g](t)},e[T.nG]=function(e){m&&m[T.nG](e)},e.getCookieMgr=function(){return y||(y=(0,D.Nz)(t.cfg,e[T.eZ])),y},e.setCookieMgr=function(e){y!==e&&((0,I.e)(y,!1),y=e)},e[x.kl]=function(){return g||v||(0,L.j5)()},e.setPerfMgr=function(e){g=e},e.eventCnt=function(){return h[T.R5]},e.releaseQueue=function(){if(r&&h[T.R5]>0){var e=h;h=[],(0,s.t)(e,(function(e){ge()[T.uL](e)}))}},e[T.T1]=function(e){return ee=e||null,pe=!1,de&&de[T.SG](),i(!0)},e[T.LS]=function(){pe=!0,de&&de[T.SG](),we()},(0,O.Vb)(e,(function(){return Y}),["addTelemetryInitializer"]),e[T.c7]=function(t,n,i){var a;void 0===t&&(t=!0),r||(0,c._y)("SDK is not initialized"),Z&&(0,c._y)($);var s,u=((a={reason:50})[T.d]=t,a.flushComplete=!1,a);t&&!n&&(s=(0,o.wv)((function(e){n=e})));var l=(0,F.Bt)(Se(),e);function f(t){u.flushComplete=t,Z=!0,re.run(l,u),e[T.LS](),l[T.uL](u)}return l[T.Fc]((function(){ne.run(e[T.eZ]),(0,I.G)([y,m,d],t,(function(){me(),n&&n(u)}))}),e),we(),Pe(t,f,6,i)||f(!1),s},e[T.TO]=ye,e.addPlugin=function(e,t,r,n){if(!e)return n&&n(!1),void _e(W);var i=ye(e[T.pZ]);if(i&&!t)return n&&n(!1),void _e("Plugin ["+e[T.pZ]+"] is already loaded!");var o={reason:16};function a(t){w[T.MW](e),o.added=[e],ve(o),n&&n(!0)}if(i){var s=[i.plugin];be(s,{reason:2,isAsync:!!r},(function(e){e?(o.removed=s,o.reason|=32,a()):n&&n(!1)}))}else a()},e.updateCfg=function(r,n){var i;if(void 0===n&&(n=!0),e[T.yl]()){i={reason:1,cfg:t.cfg,oldCfg:b({},t.cfg),newConfig:b({},r),merge:n},r=i.newConfig;var o=t.cfg;r[x.js]=o[x.js],r[x.Z]=o[x.Z]}t._block((function(e){var t=e.cfg;G(e,t,r,n),n||(0,l.r)(t,(function(n){(0,P.w)(r,n)||e.set(t,n,x.c8)})),e[T.Ag](t,K)}),!0),t[T.jW](),i&&ke(i)},e.evtNamespace=function(){return te},e.flush=Pe,e.getTraceCtx=function(e){return oe||(oe=(0,B.Yn)()),oe},e.setTraceCtx=function(e){oe=e||null},e.addUnloadHook=Me,(0,O.Oi)(e,"addUnloadCb",(function(){return re}),"add"),e.onCfgChange=function(n){var i,o,a,s;return r?i=(0,M.k)(t.cfg,n,e[T.eZ]):((s=Q(o=se,a=n).l)||(s={w:a,rm:function(){var e=Q(o,a);-1!==e.i&&o[T.cb](e.i,1)}},o[T.MW](s)),i=s),function(e){return(0,f.g$)({rm:function(){e.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"}})}(i)},e.getWParam=function(){return(0,k.Nv)()||t.cfg.enableWParam?0:-1}}))}return e.__ieDyn=1,e}()},7568:(e,t,r)=>{"use strict";r.d(t,{G:()=>c,e:()=>u});var n=r(9873),i=r(3241),o=r(9728),a=r(6534),s=r(7372);function u(e,t){if(e&&e[s.c7])return e[s.c7](t)}function c(e,t,r){var s;return r||(s=(0,n.wv)((function(e){r=e}))),e&&(0,o.x)(e)>0?(0,i.Zm)(u(e[0],t),(function(){c(function(e,t,r){return(e&&e.slice||a.Q1).apply(e,a.Q1[a.D0](arguments,1))}(e,1),t,r)})):r(),s}},8264:(e,t,r)=>{"use strict";r.d(t,{i:()=>v});var n,i=r(7862),o=r(8877),a=r(1606),s=r(3128),u=r(7372),c=r(8942),l=r(8769),d=r(370),f=r(8570),p=r(6096),h=r(9925),m="getPlugin",g=((n={})[d.Zh]={isVal:l.BX,v:{}},n),v=function(){function e(){var t,r,n,v,y,S=this;function b(e){void 0===e&&(e=null);var t=e;if(!t){var i=r||(0,f.CD)(null,{},S[d.oV]);t=n&&n[m]?i[u.zV](null,n[m]):i[u.zV](null,n)}return t}function w(e,t,i){(0,s.o)(e,g,(0,c.vH)(t)),!i&&t&&(i=t[u.fs]()[u.Fr]());var o=n;n&&n[m]&&(o=n[m]()),S[d.oV]=t,r=(0,f.CD)(i,e,t,o)}function P(){t=!1,S[d.oV]=null,r=null,n=null,y=(0,h.t)(),v=(0,p.Y)()}P(),(0,i.Z)(e,S,(function(e){e[u.VL]=function(e,r,n,i){w(e,r,i),t=!0},e[u.fi]=function(t,r){var i,o=e[d.oV];if(o&&(!t||o===t[d.oV]())){var a,s=!1,c=t||(0,f.Bt)(null,o,n&&n[m]?n[m]():n),l=r||((i={reason:0})[u.d]=!1,i);return e[u.F3]&&!0===e[u.F3](c,l,p)?a=!0:p(),a}function p(){s||(s=!0,v.run(c,r),y.run(c[u.mc]()),!0===a&&c[u.uL](l),P())}},e[u.Tu]=function(t,r){var i=e[d.oV];if(i&&(!t||i===t[d.oV]())){var o,a=!1,s=t||(0,f.xy)(null,i,n&&n[m]?n[m]():n),c=r||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?o=!0:l(),o}function l(){a||(a=!0,w(s.getCfg(),s.core(),s[u.Fr]()))}},(0,l.Oi)(e,"_addUnloadCb",(function(){return v}),"add"),(0,l.Oi)(e,"_addHook",(function(){return y}),"add"),(0,o.g$)(e,"_unloadHooks",{g:function(){return y}})})),S[u.mc]=function(e){return b(e)[u.mc]()},S[u.yl]=function(){return t},S.setInitialized=function(e){t=e},S[u.Jd]=function(e){n=e},S[u.uL]=function(e,t){t?t[u.uL](e):n&&(0,a.mf)(n[d.hL])&&n[d.hL](e,null)},S._getTelCtx=b}return e.__ieDyn=1,e}()},7970:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,t:()=>i});var n=500,i="Microsoft_ApplicationInsights_BypassAjaxInstrumentation"},2450:(e,t,r)=>{"use strict";r.d(t,{JP:()=>V,Nz:()=>q,UY:()=>Q,p7:()=>W});var n,i,o,a=r(8984),s=r(6864),u=r(1606),c=r(9337),l=r(3710),d=r(862),f=r(9991),p=r(4468),h=r(6028),m=r(636),g=r(7158),v=r(8714),y=r(7082),S=r(3128),b=r(7372),w=r(8942),P=r(9233),k=r(8769),_=r(370),C="toGMTString",M="toUTCString",T="cookie",I="expires",A="isCookieUseDisabled",D="disableCookiesUsage",E="_ckMgr",j=null,R=null,O=null,x={},N={},L=((n={cookieCfg:(0,y.bK)((i={},i[_.sB]={fb:"cookieDomain",dfVal:k.BX},i.path={fb:"cookiePath",dfVal:k.BX},i.enabled=_.c8,i.ignoreCookies=_.c8,i.blockedCookies=_.c8,i)),cookieDomain:_.c8,cookiePath:_.c8})[D]=_.c8,n);function F(){!o&&(o=(0,a.d$)((function(){return(0,s.Me)()})))}function B(e){return!e||e.isEnabled()}function U(e,t){return!!(t&&e&&(0,u.kJ)(e.ignoreCookies))&&-1!==(0,c.U)(e.ignoreCookies,t)}function z(e,t){var r=t[b.jP];if((0,u.le)(r)){var n=void 0;(0,u.o8)(e[A])||(n=!e[A]),(0,u.o8)(e[D])||(n=!e[D]),r=n}return r}function V(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;r=n&&n[E]?n[E]:q(t)}return r||(r=function(e,t){var r=q[E]||N[E];return r||(r=q[E]=q(e,t),N[E]=r),r}(t,(e||{})[b.eZ])),r}function q(e,t){var r,n,i,o,a,h,m,g,v;e=(0,S.o)(e||N,null,t).cfg,a=(0,S.k)(e,(function(t){t[b.Ag](t.cfg,L),n=t.ref(t.cfg,"cookieCfg"),i=n[_.W8]||"/",o=n[_.sB],h=!1!==z(e,n),m=n.getCookie||H,g=n.setCookie||G,v=n.delCookie||G}),t);var y=((r={isEnabled:function(){var r=!1!==z(e,n)&&h&&W(t),i=N[E];return r&&i&&y!==i&&(r=B(i)),r},setEnabled:function(e){h=!1!==e,n[b.jP]=e},set:function(e,t,r,a,h){var m=!1;if(B(y)&&!function(e,t){return!!(t&&e&&(0,u.kJ)(e.blockedCookies)&&-1!==(0,c.U)(e.blockedCookies,t))||U(e,t)}(n,e)){var v={},S=(0,l.nd)(t||_.qS),w=(0,d.M)(S,";");if(-1!==w&&(S=(0,l.nd)((0,f.lH)(t,w)),v=$((0,f.k4)(t,w+1))),(0,k.sO)(v,_.sB,a||o,u.fQ,u.o8),!(0,u.le)(r)){var T=(0,P.w1)();if((0,u.o8)(v[I])){var A=(0,p.G)()+1e3*r;if(A>0){var D=new Date;D.setTime(A),(0,k.sO)(v,I,K(D,T?C:M)||K(D,T?C:M)||_.qS,u.fQ)}}T||(0,k.sO)(v,"max-age",_.qS+r,null,u.o8)}var E=(0,P.k$)();E&&"https:"===E[b.Po]&&((0,k.sO)(v,"secure",null,null,u.o8),null===R&&(R=!Q(((0,s.jW)()||{})[b.qV])),R&&(0,k.sO)(v,"SameSite","None",null,u.o8)),(0,k.sO)(v,_.W8,h||i,null,u.o8),g(e,J(S,v)),m=!0}return m},get:function(e){var t=_.qS;return B(y)&&!U(n,e)&&(t=m(e)),t},del:function(e,t){var r=!1;return B(y)&&(r=y.purge(e,t)),r},purge:function(e,r){var n,i=!1;if(W(t)){var o=((n={})[_.W8]=r||"/",n[I]="Thu, 01 Jan 1970 00:00:01 GMT",n);(0,P.w1)()||(o["max-age"]="0"),v(e,J(_.qS,o)),i=!0}return i}})[b.c7]=function(e){a&&a.rm(),a=null},r);return y[E]=y,y}function W(e){if(null===j){j=!1,!o&&F();try{var t=o.v||{};j=void 0!==t[T]}catch(t){(0,w.kP)(e,2,68,"Cannot access document.cookie - "+(0,k.jj)(t),{exception:(0,h.e)(t)})}}return j}function $(e){var t={};if(e&&e[b.R5]){var r=(0,l.nd)(e)[b.w6](";");(0,m.t)(r,(function(e){if(e=(0,l.nd)(e||_.qS)){var r=(0,d.M)(e,"=");-1===r?t[e]=null:t[(0,l.nd)((0,f.lH)(e,r))]=(0,l.nd)((0,f.k4)(e,r+1))}}))}return t}function K(e,t){return(0,u.mf)(e[t])?e[t]():null}function J(e,t){var r=e||_.qS;return(0,g.r)(t,(function(e,t){r+="; "+e+((0,u.le)(t)?_.qS:"="+t)})),r}function H(e){var t=_.qS;if(!o&&F(),o.v){var r=o.v[T]||_.qS;O!==r&&(x=$(r),O=r),t=(0,l.nd)(x[e]||_.qS)}return t}function G(e,t){!o&&F(),o.v&&(o.v[T]=e+"="+t)}function Q(e){return!(!(0,u.HD)(e)||!(0,k._Q)(e,"CPU iPhone OS 12")&&!(0,k._Q)(e,"iPad; CPU OS 12")&&!((0,k._Q)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,k._Q)(e,"Version/")&&(0,k._Q)(e,"Safari"))&&(!(0,k._Q)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,v.I)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,k._Q)(e,"Chrome/5")&&!(0,k._Q)(e,"Chrome/6")&&(!(0,k._Q)(e,"UnrealEngine")||(0,k._Q)(e,"Chrome"))&&!(0,k._Q)(e,"UCBrowser/12")&&!(0,k._Q)(e,"UCBrowser/11"))}},9187:(e,t,r)=>{"use strict";r.d(t,{DO:()=>s,GW:()=>a});var n=r(9991),i=r(370),o=r(5778);function a(){var e=s();return(0,n.k4)(e,0,8)+"-"+(0,n.k4)(e,8,12)+"-"+(0,n.k4)(e,12,16)+"-"+(0,n.k4)(e,16,20)+"-"+(0,n.k4)(e,20)}function s(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=i.qS,a=0;a<4;a++)r+=t[15&(e=(0,o._l)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var s=t[8+(3&(0,o._l)())|0];return(0,n.s1)(r,0,8)+(0,n.s1)(r,9,4)+"4"+(0,n.s1)(r,13,3)+s+(0,n.s1)(r,16,3)+(0,n.s1)(r,19,12)}},3831:(e,t,r)=>{"use strict";r.d(t,{J:()=>f,K:()=>p});var n=r(8877),i=r(7372),o=r(8769),a=r(370),s=r(5778),u="3.0.5",c="."+(0,s.pZ)(6),l=0;function d(e){return 1===e[i.xv]||9===e[i.xv]||!+e[i.xv]}function f(e,t){return void 0===t&&(t=!1),(0,o.Gf)(e+l+++(t?"."+u:a.qS)+c)}function p(e){var t={id:f("_aiData-"+(e||a.qS)+"."+u),accept:function(e){return d(e)},get:function(e,r,i,a){var s=e[t.id];return s?s[(0,o.Gf)(r)]:(a&&(s=function(e,t){var r=t[e.id];if(!r){r={};try{d(t)&&(0,n.g$)(t,e.id,{e:!1,v:r})}catch(e){}}return r}(t,e),s[(0,o.Gf)(r)]=i),i)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},9266:(e,t,r)=>{"use strict";r.d(t,{j:()=>l,p:()=>d});var n,i=r(6864),o=r(7372),a=r(370),s=[a.uC,a.$F,a.f_,a.C$],u=null;function c(e,t){return function(){var r=arguments,n=l(t);if(n){var i=n.listener;i&&i[e]&&i[e][o.ZV](i,r)}}}function l(e){var t,r=u;return r||!0===e.disableDbgExt||(r=u||((t=(0,i.vs)("Microsoft"))&&(u=t.ApplicationInsights),u)),r?r.ChromeDbgExt:null}function d(e){if(!n){n={};for(var t=0;t<s[o.R5];t++)n[s[t]]=c(s[t],e)}return n}},8942:(e,t,r)=>{"use strict";r.d(t,{AQ:()=>S,L4:()=>k,jV:()=>P,kP:()=>w,lQ:()=>v,vH:()=>y});var n,i=r(7862),o=r(1606),a=r(6028),s=r(3128),u=r(7372),c=r(9266),l=r(9233),d=r(370),f="warnToConsole",p={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},h=((n={})[0]=null,n[1]="errorToConsole",n[2]=f,n[3]="debugToConsole",n);function m(e){return e?'"'+e[u.i7](/\"/g,d.qS)+'"':d.qS}function g(e,t){var r=(0,l.dr)();if(r){var n="log";r[e]&&(n=e),(0,o.mf)(r[n])&&r[n](t)}}var v=function(){function e(e,t,r,n){void 0===r&&(r=!1);var i=this;i[u.Gc]=e,i[u.gU]=(r?"AI: ":"AI (Internal): ")+e;var o=d.qS;(0,l.nS)()&&(o=(0,l.xA)().stringify(n));var a=(t?" message:"+m(t):d.qS)+(n?" props:"+m(o):d.qS);i[u.gU]+=a}return e.dataType="MessageData",e}();function y(e,t){return(e||{})[u.eZ]||new S(t)}var S=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r,n,l,d,m,y=0,S={};(0,i.Z)(e,this,(function(e){function i(t,r){if(!(y>=l)){var i=!0,o="AITR_"+r[u.Gc];if(S[o]?i=!1:S[o]=!0,i&&(t<=n&&(e.queue[u.MW](r),y++,b(1===t?"error":"warn",r)),y===l)){var a="Internal events throttle limit per PageView reached for this app.",s=new v(23,a,!1);e.queue[u.MW](s),1===t?e.errorToConsole(a):e[u.pQ](a)}}}function b(e,r){var n=(0,c.j)(t||{});n&&n[u.mc]&&n[u.mc](e,r)}m=function(t){return(0,s.k)((0,s.o)(t,p,e).cfg,(function(e){var t=e.cfg;r=t[u.KW],n=t.loggingLevelTelemetry,l=t.maxMessageLimit,d=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return r},e[u.v1]=function(t,n,s,c,l){void 0===l&&(l=!1);var p=new v(n,s,l,c);if(d)throw(0,a.e)(p);var m=h[t]||f;if((0,o.o8)(p[u.gU]))b("throw"+(1===t?"Critical":"Warning"),p);else{if(l){var g=+p[u.Gc];!S[g]&&r>=t&&(e[m](p[u.gU]),S[g]=!0)}else r>=t&&e[m](p[u.gU]);i(t,p)}},e.debugToConsole=function(e){g("debug",e),b("warning",e)},e[u.pQ]=function(e){g("warn",e),b("warning",e)},e.errorToConsole=function(e){g("error",e),b("error",e)},e.resetInternalMessageCount=function(){y=0,S={}},e[u.jk]=i,e[u.c7]=function(e){m&&m.rm(),m=null}}))}return e.__ieDyn=1,e}();function b(e){return e||new S}function w(e,t,r,n,i,o){void 0===o&&(o=!1),b(e)[u.v1](t,r,n,i,o)}function P(e,t){b(e)[u.pQ](t)}function k(e,t,r){b(e)[u.jk](t,r)}},9233:(e,t,r)=>{"use strict";r.d(t,{JO:()=>L,MF:()=>N,MX:()=>E,Z3:()=>B,b$:()=>R,cp:()=>F,dI:()=>M,dr:()=>I,ed:()=>z,gz:()=>j,k$:()=>T,nS:()=>A,pI:()=>V,sA:()=>x,w1:()=>O,xA:()=>D});var n=r(3107),i=r(1606),o=r(6864),a=r(2033),s=r(7372),u=r(8769),c=r(370),l="documentMode",d="location",f="console",p="JSON",h="crypto",m="msCrypto",g="ReactNative",v="msie",y="trident/",S="XMLHttpRequest",b=null,w=null,P=!1,k=null,_=null;function C(e,t){var r=!1;if(e){try{if(!(r=t in e)){var o=e[n.hB];o&&(r=t in o)}}catch(e){}if(!r)try{var a=new e;r=!(0,i.o8)(a[t])}catch(e){}}return r}function M(e){P=e}function T(e){if(e&&P){var t=(0,o.vs)("__mockLocation");if(t)return t}return typeof location===n.fK&&location?location:(0,o.vs)(d)}function I(){return typeof console!==n.jA?console:(0,o.vs)(f)}function A(){return Boolean(typeof JSON===n.fK&&JSON||null!==(0,o.vs)(p))}function D(){return A()?JSON||(0,o.vs)(p):null}function E(){return(0,o.vs)(h)}function j(){return(0,o.vs)(m)}function R(){var e=(0,o.jW)();return!(!e||!e.product)&&e.product===g}function O(){var e=(0,o.jW)();if(e&&(e[s.qV]!==w||null===b)){var t=((w=e[s.qV])||c.qS)[s.D7]();b=(0,u._Q)(t,v)||(0,u._Q)(t,y)}return b}function x(e){if(void 0===e&&(e=null),!e){var t=(0,o.jW)()||{};e=t?(t.userAgent||c.qS)[s.D7]():c.qS}var r=(e||c.qS)[s.D7]();if((0,u._Q)(r,v)){var n=(0,o.Me)()||{};return Math.max(parseInt(r[s.w6](v)[1]),n[l]||0)}if((0,u._Q)(r,y)){var i=parseInt(r[s.w6](y)[1]);if(i)return i+4}return null}function N(e){return null!==_&&!1!==e||(_=(0,o.d6)()&&Boolean((0,o.jW)().sendBeacon)),_}function L(e){var t=!1;try{t=!!(0,o.vs)("fetch");var r=(0,o.vs)("Request");t&&e&&r&&(t=C(r,"keepalive"))}catch(e){}return t}function F(){return null===k&&(k=typeof XDomainRequest!==n.jA)&&B()&&(k=k&&!C((0,o.vs)(S),"withCredentials")),k}function B(){var e=!1;try{e=!!(0,o.vs)(S)}catch(e){}return e}function U(e,t){if(e)for(var r=0;r<e[s.R5];r++){var n=e[r];if(n[s.I]&&n[s.I]===t)return n}return{}}function z(e){var t=(0,o.Me)();return t&&e?U(t.querySelectorAll("meta"),e).content:null}function V(e){var t,r=(0,a.r)();if(r){var n=r.getEntriesByType("navigation")||[];t=U((n[s.R5]>0?n[0]:{}).serverTiming,e).description}return t}},3668:(e,t,r)=>{"use strict";r.d(t,{C1:()=>V,C9:()=>G,Ib:()=>z,JA:()=>J,QY:()=>F,TJ:()=>H,XO:()=>L,Yl:()=>X,c9:()=>K,jU:()=>N,nD:()=>Q,nJ:()=>$,pD:()=>U,pZ:()=>B,um:()=>j,yw:()=>W});var n=r(1606),i=r(636),o=r(7158),a=r(4696),s=r(6864),u=r(9337),c=r(7372),l=r(3831),d=r(370),f="on",p="attachEvent",h="addEventListener",m="detachEvent",g="removeEventListener",v="events",y="visibilitychange",S="pagehide",b="pageshow",w="unload",P="beforeunload",k=(0,l.J)("aiEvtPageHide"),_=(0,l.J)("aiEvtPageShow"),C=/\.[\.]+/g,M=/[\.]+$/,T=1,I=(0,l.K)("events"),A=/^([^.]*)(?:\.(.+)|)/;function D(e){return e&&e[c.i7]?e[c.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,d.qS):e}function E(e,t){var r;if(t){var o=d.qS;(0,n.kJ)(t)?(o=d.qS,(0,i.t)(t,(function(e){(e=D(e))&&("."!==e[0]&&(e="."+e),o+=e)}))):o=D(t),o&&("."!==o[0]&&(o="."+o),e=(e||d.qS)+o)}var a=A.exec(e||d.qS)||[];return(r={})[c.P6]=a[1],r.ns=(a[2]||d.qS).replace(C,".").replace(M,d.qS)[c.w6](".").sort().join("."),r}function j(e,t,r){var n=[],a=I.get(e,v,{},!1),s=E(t,r);return(0,o.r)(a,(function(e,t){(0,i.t)(t,(function(e){var t;s[c.P6]&&s[c.P6]!==e.evtName[c.P6]||s.ns&&s.ns!=s.ns||n[c.MW](((t={})[c.I]=e.evtName[c.P6]+(e.evtName.ns?"."+e.evtName.ns:d.qS),t.handler=e[c.Kn],t))}))})),n}function R(e,t,r){void 0===r&&(r=!0);var n=I.get(e,v,{},r),i=n[t];return i||(i=n[t]=[]),i}function O(e,t,r,n){e&&t&&t[c.P6]&&(e[g]?e[g](t[c.P6],r,n):e[m]&&e[m](f+t[c.P6],r))}function x(e,t,r,n){for(var i=t[c.R5];i--;){var o=t[i];o&&(r.ns&&r.ns!==o.evtName.ns||n&&!n(o)||(O(e,o.evtName,o[c.Kn],o.capture),t[c.cb](i,1)))}}function N(e,t){return t?E("xx",(0,n.kJ)(t)?[e].concat(t):[e,t]).ns[c.w6]("."):e}function L(e,t,r,n,i){var o;void 0===i&&(i=!1);var a=!1;if(e)try{var s=E(t,n);if(a=function(e,t,r,n){var i=!1;return e&&t&&t[c.P6]&&r&&(e[h]?(e[h](t[c.P6],r,n),i=!0):e[p]&&(e[p](f+t[c.P6],r),i=!0)),i}(e,s,r,i),a&&I.accept(e)){var u=((o={guid:T++,evtName:s})[c.Kn]=r,o.capture=i,o);R(e,s.type)[c.MW](u)}}catch(e){}return a}function F(e,t,r,n,i){if(void 0===i&&(i=!1),e)try{var s=E(t,n),u=!1;!function(e,t,r){if(t[c.P6])x(e,R(e,t[c.P6]),t,r);else{var n=I.get(e,v,{});(0,o.r)(n,(function(n,i){x(e,i,t,r)})),0===(0,a.FY)(n)[c.R5]&&I.kill(e,v)}}(e,s,(function(e){return!((!s.ns||r)&&e[c.Kn]!==r||(u=!0,0))})),u||O(e,s,r,i)}catch(e){}}function B(e,t,r,n){return void 0===n&&(n=!1),L(e,t,r,null,n)}function U(e,t,r,n){void 0===n&&(n=!1),F(e,t,r,null,n)}function z(e,t,r){var n=!1,i=(0,s.Jj)();i&&(n=L(i,e,t,r),n=L(i.body,e,t,r)||n);var o=(0,s.Me)();return o&&(n=L(o,e,t,r)||n),n}function V(e,t,r){var n=(0,s.Jj)();n&&(F(n,e,t,r),F(n.body,e,t,r));var i=(0,s.Me)();i&&F(i,e,t,r)}function q(e,t,r,n){var o=!1;return t&&e&&e[c.R5]>0&&(0,i.t)(e,(function(e){e&&(r&&-1!==(0,u.U)(r,e)||(o=z(e,t,n)||o))})),o}function W(e,t,r,i){var o=!1;return t&&e&&(0,n.kJ)(e)&&!(o=q(e,t,r,i))&&r&&r[c.R5]>0&&(o=q(e,t,null,i)),o}function $(e,t,r){e&&(0,n.kJ)(e)&&(0,i.t)(e,(function(e){e&&V(e,t,r)}))}function K(e,t,r){return W([P,w,S],e,t,r)}function J(e,t){$([P,w,S],e,t)}function H(e,t,r){var n=N(k,r),i=q([S],e,t,n);return t&&-1!==(0,u.U)(t,y)||(i=q([y],(function(t){var r=(0,s.Me)();e&&r&&"hidden"===r.visibilityState&&e(t)}),t,n)||i),!i&&t&&(i=H(e,null,r)),i}function G(e,t){var r=N(k,t);$([S],e,r),$([y],null,r)}function Q(e,t,r){var n=N(_,r),i=q([b],e,t,n);return!(i=q([y],(function(t){var r=(0,s.Me)();e&&r&&"visible"===r.visibilityState&&e(t)}),t,n)||i)&&t&&(i=Q(e,null,r)),i}function X(e,t){var r=N(_,t);$([b],e,r),$([y],null,r)}},8769:(e,t,r)=>{"use strict";r.d(t,{An:()=>O,Ax:()=>D,BX:()=>y,F3:()=>z,Fz:()=>$,Gf:()=>S,Np:()=>R,Oi:()=>T,Vb:()=>I,XE:()=>U,Y6:()=>w,_Q:()=>b,cf:()=>M,fM:()=>x,hl:()=>A,jj:()=>P,mm:()=>E,ot:()=>B,qK:()=>_,sO:()=>k,tV:()=>j});var n=r(6761),i=r(3107),o=r(1606),a=r(862),s=r(709),u=r(8877),c=r(636),l=r(7158),d=r(1364),f=r(3710),p=r(7372),h=r(370),m=/-([a-z])/g,g=/([^\w\d_$])/g,v=/^(\d+[\w\d_$])/;function y(e){return!(0,o.le)(e)}function S(e){var t=e;return t&&(0,o.HD)(t)&&(t=(t=(t=t[p.i7](m,(function(e,t){return t.toUpperCase()})))[p.i7](g,"_"))[p.i7](v,(function(e,t){return"_"+t}))),t}function b(e,t){return!(!e||!t)&&-1!==(0,a.M)(e,t)}function w(e){return e&&e.toISOString()||""}function P(e){return(0,o.VZ)(e)?e[p.I]:h.qS}function k(e,t,r,n,i){var o=r;return e&&((o=e[t])===r||i&&!i(o)||n&&!n(r)||(o=r,e[t]=o)),o}function _(e,t,r){var n;return e?!(n=e[t])&&(0,o.le)(n)&&(n=(0,o.o8)(r)?{}:r,e[t]=n):n=(0,o.o8)(r)?{}:r,n}function C(e,t){var r=null,n=null;return(0,o.mf)(e)?r=e:n=e,function(){var e=arguments;if(r&&(n=r()),n)return n[t][p.ZV](n,e)}}function M(e,t,r){if(e&&t&&(0,o.Kn)(e)&&(0,o.Kn)(t)){var n=function(n){if((0,o.HD)(n)){var i=t[n];(0,o.mf)(i)?r&&!r(n,!0,t,e)||(e[n]=C(t,n)):r&&!r(n,!1,t,e)||((0,s.w)(e,n)&&delete e[n],(0,u.g$)(e,n,{g:function(){return t[n]},s:function(e){t[n]=e}}))}};for(var i in t)n(i)}return e}function T(e,t,r,n,i){e&&t&&r&&(!1!==i||(0,o.o8)(e[t]))&&(e[t]=C(r,n))}function I(e,t,r,n){return e&&t&&(0,o.Kn)(e)&&(0,o.kJ)(r)&&(0,c.t)(r,(function(r){(0,o.HD)(r)&&T(e,r,t,r,n)})),e}function A(e){return function(){var t=this;e&&(0,l.r)(e,(function(e,r){t[e]=r}))}}function D(e){return e&&n.z$&&(e=(0,i.Pw)((0,n.z$)({},e))),e}function E(e,t,r,n,i,a){var u=arguments,c=u[0]||{},l=u[p.R5],f=!1,h=1;for(l>0&&(0,o.jn)(c)&&(f=c,c=u[h]||{},h++),(0,o.Kn)(c)||(c={});h<l;h++){var m=u[h],g=(0,o.kJ)(m),v=(0,o.Kn)(m);for(var y in m)if(g&&y in m||v&&(0,s.w)(m,y)){var S=m[y],b=void 0;if(f&&S&&((b=(0,o.kJ)(S))||(0,d.P)(S))){var w=c[y];b?(0,o.kJ)(w)||(w=[]):(0,d.P)(w)||(w={}),S=E(f,w,S)}void 0!==S&&(c[y]=S)}}return c}function j(e){try{return e.responseText}catch(e){}return null}function R(e,t){return e?"XDomainRequest,Response:"+j(e)||0:t}function O(e,t){return e?"XMLHttpRequest,Status:"+e[p.Yz]+",Response:"+j(e)||0:t}function x(e,t){return t&&((0,o.hj)(t)?e=[t].concat(e):(0,o.kJ)(t)&&(e=t.concat(e))),e}Object.getPrototypeOf;var N="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",L="withCredentials",F="timeout";function B(e,t,r,n,i,o){function a(e,t,r){try{e[t]=r}catch(e){}}void 0===n&&(n=!1),void 0===i&&(i=!1);var s=new XMLHttpRequest;return n&&a(s,N,n),r&&a(s,L,r),s.open(e,t,!i),r&&a(s,L,r),!i&&o&&a(s,F,o),s}function U(e){var t={};if((0,o.HD)(e)){var r=(0,f.nd)(e)[p.w6](/[\r\n]+/);(0,c.t)(r,(function(e){if(e){var r=e.indexOf(": ");if(-1!==r){var n=(0,f.nd)(e.substring(0,r))[p.D7](),i=(0,f.nd)(e.substring(r+1));t[n]=i}else t[(0,f.nd)(e)]=1}}))}return t}function z(e,t,r){if(!e[r]&&t&&t[p.rb]){var n=t[p.rb](r);n&&(e[r]=(0,f.nd)(n))}return e}var V="kill-duration",q="kill-duration-seconds",W="time-delta-millis";function $(e,t){var r={};return e[p.l8]?r=U(e[p.l8]()):t&&(r=z(r,e,W),r=z(r,e,V),r=z(r,e,q)),r}},370:(e,t,r)=>{"use strict";r.d(t,{$F:()=>h,C$:()=>g,DN:()=>s,W$:()=>y,W8:()=>P,XS:()=>k,Z:()=>o,Zh:()=>c,c8:()=>n,f_:()=>m,hL:()=>d,js:()=>l,kl:()=>b,lO:()=>v,mE:()=>u,oV:()=>a,qS:()=>i,sB:()=>w,uC:()=>p,v_:()=>S,yi:()=>f});var n=void 0,i="",o="channels",a="core",s="createPerfMgr",u="disabled",c="extensionConfig",l="extensions",d="processTelemetry",f="priority",p="eventsSent",h="eventsDiscarded",m="eventsSendRequest",g="perfEvent",v="offlineEventsStored",y="offlineBatchSent",S="offlineBatchDrop",b="getPerfMgr",w="domain",P="path",k="Not dynamic - "},1016:(e,t,r)=>{"use strict";r.d(t,{f:()=>v});var n=r(7862),i=r(9873),o=r(3241),a=r(636),s=r(6373),u=r(7926),c=r(8877),l=r(9337),d=r(3128),f=r(7372),p=r(370),h={perfEvtsSendAll:!1};function m(e){e.h=null;var t=e.cb;e.cb=[],(0,a.t)(t,(function(e){(0,s.T)(e.fn,[e.arg])}))}function g(e,t,r,n){(0,a.t)(e,(function(e){e&&e[t]&&(r?(r.cb[f.MW]({fn:n,arg:e}),r.h=r.h||(0,u.tX)(m,0,r)):(0,s.T)(n,[e]))}))}var v=function(){function e(t){var r,a;this.listeners=[];var s=[],m={h:null,cb:[]},v=(0,d.o)(t,h);a=v[f.DI]((function(e){r=!!e.cfg.perfEvtsSendAll})),(0,n.Z)(e,this,(function(e){(0,c.g$)(e,"listeners",{g:function(){return s}}),e[f.g]=function(e){s[f.MW](e)},e[f.nG]=function(e){for(var t=(0,l.U)(s,e);t>-1;)s[f.cb](t,1),t=(0,l.U)(s,e)},e[p.uC]=function(e){g(s,p.uC,m,(function(t){t[p.uC](e)}))},e[p.$F]=function(e,t){g(s,p.$F,m,(function(r){r[p.$F](e,t)}))},e[p.f_]=function(e,t){g(s,p.f_,t?m:null,(function(r){r[p.f_](e,t)}))},e[p.C$]=function(e){e&&(!r&&e[f.PL]()||g(s,p.C$,null,(function(t){e[f.d]?(0,u.tX)((function(){return t[p.C$](e)}),0):t[p.C$](e)})))},e[p.lO]=function(e){e&&e[f.R5]&&g(s,p.lO,m,(function(t){t[p.lO](e)}))},e[p.W$]=function(e){e&&e[f.ob]&&g(s,p.W$,m,(function(t){t[p.W$](e)}))},e[p.v_]=function(e,t){if(e>0){var r=t||0;g(s,p.v_,m,(function(t){t[p.v_](e,r)}))}},e[f.c7]=function(e){var t,r=function(){a&&a.rm(),a=null,s=[],m.h&&m.h[f.SG](),m.h=null,m.cb=[]};if(g(s,"unload",null,(function(r){var n=r[f.c7](e);n&&(t||(t=[]),t[f.MW](n))})),t)return(0,i.wv)((function(e){return(0,o.Zm)((0,i.Tp)(t),(function(){r(),e()}))}));r()}}))}return e.__ieDyn=1,e}()},7019:(e,t,r)=>{"use strict";r.d(t,{Jk:()=>h,Lm:()=>g,j5:()=>v,zn:()=>p});var n=r(7862),i=r(4468),o=r(1606),a=r(8877),s=r(7372),u=r(370),c="ctx",l="ParentContextKey",d="ChildrenContextKey",f=null,p=function(){function e(t,r,n){var u,f=this;f.start=(0,i.G)(),f[s.I]=t,f[s.d]=n,f[s.PL]=function(){return!1},(0,o.mf)(r)&&(0,a.g$)(f,"payload",{g:function(){return!u&&(0,o.mf)(r)&&(u=r(),r=null),u}}),f[s.T]=function(t){return t?t===e[l]||t===e[d]?f[t]:(f[c]||{})[t]:null},f[s.wu]=function(t,r){t&&(t===e[l]?(f[t]||(f[s.PL]=function(){return!0}),f[t]=r):t===e[d]?f[t]=r:(f[c]=f[c]||{})[t]=r)},f[s.Km]=function(){var t=0,r=f[s.T](e[d]);if((0,o.kJ)(r))for(var n=0;n<r[s.R5];n++){var a=r[n];a&&(t+=a[s.Z_])}f[s.Z_]=(0,i.G)()-f.start,f.exTime=f[s.Z_]-t,f[s.Km]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),h=function(){function e(t){this.ctx={},(0,n.Z)(e,this,(function(e){e.create=function(e,t,r){return new p(e,t,r)},e.fire=function(e){e&&(e[s.Km](),t&&(0,o.mf)(t[u.C$])&&t[u.C$](e))},e[s.wu]=function(t,r){t&&((e[c]=e[c]||{})[t]=r)},e[s.T]=function(t){return(e[c]||{})[t]}}))}return e.__ieDyn=1,e}(),m="CoreUtils.doPerf";function g(e,t,r,n,i){if(e){var o=e;if(o[u.kl]&&(o=o[u.kl]()),o){var a=void 0,c=o[s.T](m);try{if(a=o.create(t(),n,i)){if(c&&a[s.wu]&&(a[s.wu](p[l],c),c[s.T]&&c[s.wu])){var f=c[s.T](p[d]);f||(f=[],c[s.wu](p[d],f)),f[s.MW](a)}return o[s.wu](m,a),r(a)}}catch(e){a&&a[s.wu]&&a[s.wu]("exception",e)}finally{a&&o.fire(a),o[s.wu](m,c)}}}return r()}function v(){return f}},8570:(e,t,r)=>{"use strict";r.d(t,{Bt:()=>P,CD:()=>w,Vi:()=>C,jV:()=>_,xy:()=>k});var n=r(1606),i=r(636),o=r(6028),a=r(7158),s=r(4696),u=r(4619),c=r(3128),l=r(7372),d=r(8942),f=r(8769),p=r(370),h=r(7019),m=r(7076),g="TelemetryPluginChain",v="_hasRun",y="_getTelCtx",S=0;function b(e,t,r,s){var f=null,h=[];t||(t=(0,c.o)({},null,r[l.eZ])),null!==s&&(f=s?function(e,t,r){for(;e;){if(e[l.TO]()===r)return e;e=e[l.Fr]()}return _([r],t.config||{},t)}(e,r,s):e);var m={_next:function(){var e=f;if(f=e?e[l.Fr]():null,!e){var t=h;t&&t[l.R5]>0&&((0,i.t)(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){(0,d.kP)(r[l.eZ],2,73,"Unexpected Exception during onComplete - "+(0,o.e)(e))}})),h=[])}return e},ctx:{core:function(){return r},diagLog:function(){return(0,d.vH)(r,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,r){var i=g(e,!0);return r&&(0,a.r)(r,(function(e,r){if((0,n.le)(i[e])){var o=t.cfg[e];!o&&(0,n.le)(o)||(i[e]=o)}(0,u.e)(t,i,e,r)})),t[l.Ag](i,r)},getConfig:function(e,r,i){void 0===i&&(i=!1);var o,a=g(e,!1),s=t.cfg;return!a||!a[r]&&(0,n.le)(a[r])?!s[r]&&(0,n.le)(s[r])||(o=s[r]):o=a[r],o||!(0,n.le)(o)?o:i},hasNext:function(){return!!f},getNext:function(){return f},setNext:function(e){f=e},iterate:function(e){for(var t;t=m._next();){var r=t[l.TO]();r&&e(r)}},onComplete:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e&&h[l.MW]({func:e,self:(0,n.o8)(t)?m.ctx:t,args:r})}}};function g(e,r){var n=null,i=t.cfg;if(i&&e){var o=i[p.Zh];!o&&r&&(o={}),i[p.Zh]=o,(o=t.ref(i,p.Zh))&&(!(n=o[e])&&r&&(n={}),o[e]=n,n=t.ref(o,e))}return n}return m}function w(e,t,r,i){var o=(0,c.o)(t),a=b(e,o,r,i),s=a.ctx;return s[l.uL]=function(e){var t=a._next();return t&&t[p.hL](e,s),!t},s[l.zV]=function(e,t){return void 0===e&&(e=null),(0,n.kJ)(e)&&(e=_(e,o.cfg,r,t)),w(e||s[l.Fr](),o.cfg,r,t)},s}function P(e,t,r){var i=(0,c.o)(t.config),o=b(e,i,t,r),a=o.ctx;return a[l.uL]=function(e){var t=o._next();return t&&t[l.c7](a,e),!t},a[l.zV]=function(e,r){return void 0===e&&(e=null),(0,n.kJ)(e)&&(e=_(e,i.cfg,t,r)),P(e||a[l.Fr](),t,r)},a}function k(e,t,r){var i=(0,c.o)(t.config),o=b(e,i,t,r).ctx;return o[l.uL]=function(e){return o.iterate((function(t){(0,n.mf)(t[l.Tu])&&t[l.Tu](o,e)}))},o[l.zV]=function(e,r){return void 0===e&&(e=null),(0,n.kJ)(e)&&(e=_(e,i.cfg,t,r)),k(e||o[l.Fr](),t,r)},o}function _(e,t,r,a){var u=null,c=!a;if((0,n.kJ)(e)&&e[l.R5]>0){var f=null;(0,i.t)(e,(function(e){if(c||a!==e||(c=!0),c&&e&&(0,n.mf)(e[p.hL])){var i=function(e,t,r){var i,a=null,u=(0,n.mf)(e[p.hL]),c=(0,n.mf)(e[l.Jd]),f={getPlugin:function(){return e},getNext:function(){return a},processTelemetry:function(i,o){b(o=o||function(){var i;return e&&(0,n.mf)(e[y])&&(i=e[y]()),i||(i=w(f,t,r)),i}(),(function(t){if(!e||!u)return!1;var r=(0,m.OY)(e);return!r[l.fi]&&!r[p.mE]&&(c&&e[l.Jd](a),e[p.hL](i,t),!0)}),"processTelemetry",(function(){return{item:i}}),!i.sync)||o[l.uL](i)},unload:function(t,r){b(t,(function(){var n=!1;if(e){var i=(0,m.OY)(e),o=e[p.oV]||i[p.oV];!e||o&&o!==t.core()||i[l.fi]||(i[p.oV]=null,i[l.fi]=!0,i[l.yl]=!1,e[l.fi]&&!0===e[l.fi](t,r)&&(n=!0))}return n}),"unload",(function(){}),r[l.d])||t[l.uL](r)},update:function(t,r){b(t,(function(){var n=!1;if(e){var i=(0,m.OY)(e),o=e[p.oV]||i[p.oV];!e||o&&o!==t.core()||i[l.fi]||e[l.Tu]&&!0===e[l.Tu](t,r)&&(n=!0)}return n}),"update",(function(){}),!1)||t[l.uL](r)},_id:i=e?e[l.pZ]+"-"+e[p.yi]+"-"+S++:"Unknown-0-"+S++,_setNext:function(e){a=e}};function b(t,r,n,s,u){var c=!1,f=e?e[l.pZ]:g,m=t[v];return m||(m=t[v]={}),t.setNext(a),e&&(0,h.Lm)(t[p.oV](),(function(){return f+":"+n}),(function(){m[i]=!0;try{var e=a?a._id:p.qS;e&&(m[e]=!1),c=r(t)}catch(e){var s=!a||m[a._id];s&&(c=!0),a&&s||(0,d.kP)(t[l.mc](),1,73,"Plugin ["+f+"] failed during "+n+" - "+(0,o.e)(e)+", run flags: "+(0,o.e)(m))}}),s,u),c}return(0,s.FL)(f)}(e,t,r);u||(u=i),f&&f._setNext(i),f=i}}))}return a&&!u?_([a],t,r):u}var C=function(e,t,r,n){var i=w(e,t,r,n);(0,f.Vb)(this,i,(0,s.FY)(i))}},5778:(e,t,r)=>{"use strict";r.d(t,{_l:()=>g,az:()=>m,pZ:()=>v});var n=r(4468),i=r(7372),o=r(9233),a=r(370),s=4294967296,u=4294967295,c=123456789,l=987654321,d=!1,f=c,p=l;function h(){try{var e=2147483647&(0,n.G)();(t=(Math.random()*s^e)+e)<0&&(t>>>=0),f=c+t&u,p=l-t&u,d=!0}catch(e){}var t}function m(e){return e>0?Math.floor(g()/u*(e+1))>>>0:0}function g(e){var t=0,r=(0,o.MX)()||(0,o.gz)();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&u),0===t&&(0,o.w1)()&&(d||h(),t=function(e){var t=((p=36969*(65535&p)+(p>>16)&u)<<16)+(65535&(f=18e3*(65535&f)+(f>>16)&u))>>>0&u|0;return t>>>=0}()&u),0===t&&(t=Math.floor(s*Math.random()|0)),e||(t>>>=0),t}function v(e){void 0===e&&(e=22);for(var t=g()>>>0,r=0,n=a.qS;n[i.R5]<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(g()<<2&4294967295|3&t)>>>0,r=0);return n}},7781:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(6028),i=r(7372),o=r(8942),a=r(9233);function s(e,t){try{if(e&&""!==e){var r=(0,a.xA)().parse(e);if(r&&r[i.QQ]&&r[i.QQ]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[i.R5])return r}}catch(r){(0,o.kP)(t,1,43,"Cannot parse the response. "+(r[i.I]||(0,n.e)(r)),{response:e})}return null}},8224:(e,t,r)=>{"use strict";r.d(t,{s:()=>S});var n=r(7862),i=r(9873),o=r(3241),a=r(6864),s=r(1606),u=r(6028),c=r(636),l=r(4696),d=r(7372),f=r(7970),p=r(8942),h=r(9233),m=r(8769),g="",v="&NoResponseBody=true",y="POST",S=function(){function e(){var t,r,S,b,w,P,k,_,C,M,T,I,A,D=0;(0,n.Z)(e,this,(function(e,n){var E=!0;function j(e,t){(0,p.kP)(S,2,26,"Failed to send telemetry.",{message:e}),O(t,400,{})}function R(e){j("No endpoint url is provided for the batch",e)}function O(e,t,r,n){try{e&&e(t,r,n)}catch(e){}}function x(e,t){var r=(0,a.jW)(),n=e[d.jx];if(!n)return R(t),!0;n=e[d.jx]+(I?v:g);var i=e[d.ob],o=b?i:new Blob([i],{type:"text/plain;charset=UTF-8"});return r.sendBeacon(n,o)}function N(e,t,r){var n=e[d.ob];try{if(n)if(x(e,t))O(t,200,{},g);else{var i=w&&w.beaconOnRetry;i&&(0,s.mf)(i)?i(e,t,x):(k&&k[d.Jz](e,t,!0),(0,p.kP)(S,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(e){b&&(0,p.jV)(S,"Failed to send telemetry using sendBeacon API. Ex:"+(0,u.e)(e)),O(t,b?0:400,{},g)}}function L(e,r,n){var o,a,u,f=e[d.JA]||{};!n&&t&&(o=(0,i.wv)((function(e,t){a=e,u=t}))),b&&n&&e.disableXhrSync&&(n=!1);var p=e[d.jx];if(!p)return R(r),void(a&&a(!1));var h=(0,m.ot)(y,p,E,!0,n,e[d.jh]);function v(t){var n=w&&w.xhrOnComplete;if(n&&(0,s.mf)(n))n(t,r,e);else{var i=(0,m.tV)(t);O(r,t[d.Yz],(0,m.Fz)(t,b),i)}}return h[d.tp]("Content-type","application/json"),(0,c.t)((0,l.FY)(f),(function(e){h[d.tp](e,f[e])})),h.onreadystatechange=function(){b||(v(h),4===h.readyState&&a&&a(!0))},h.onload=function(){b&&v(h)},h.onerror=function(e){O(r,b?h[d.Yz]:400,(0,m.Fz)(h,b),b?g:(0,m.An)(h)),u&&u(e)},h.ontimeout=function(){O(r,b?h[d.Yz]:500,(0,m.Fz)(h,b),b?g:(0,m.An)(h)),a&&a(!1)},h.send(e[d.ob]),o}function F(e,r,n){var a,p,h,m,S=e[d.jx],P=e[d.ob],k=b?P:new Blob([P],{type:"application/json"}),_=new Headers,C=P[d.R5],M=!1,T=!1,j=e[d.JA]||{},x=((a={method:y,body:k})[f.t]=!0,a);e.headers&&(0,l.FY)(e.headers)[d.R5]>0&&((0,c.t)((0,l.FY)(j),(function(e){_.append(e,j[e])})),x[d.JA]=_),E&&b&&(x.credentials="include"),n&&(x.keepalive=!0,D+=C,b?2===e._sendReason&&(M=!0,I&&(S+=v)):M=!0);var N=new Request(S,x);try{N[f.t]=!0}catch(e){}if(!n&&t&&(p=(0,i.wv)((function(e,t){h=e,m=t}))),!S)return R(r),void(h&&h(!1));function L(e){O(r,b?0:400,{},b?g:e)}function F(e,t,n){var i=e[d.Yz],o=w.fetchOnComplete;o&&(0,s.mf)(o)?o(e,r,n||g,t):O(r,i,{},n||g)}try{(0,o.Zm)(fetch(b?S:N,b?x:null),(function(t){if(n&&(D-=C,C=0),!T)if(T=!0,t.rejected)L(t.reason&&t.reason[d.gU]),m&&m(t.reason);else{var r=t.value;try{b||r.ok?b&&!r.body?(F(r,null,g),h&&h(!0)):(0,o.Zm)(r.text(),(function(t){F(r,e,t.value),h&&h(!0)})):(L(r.statusText),h&&h(!1))}catch(e){L((0,u.e)(e)),m&&m(e)}}}))}catch(e){T||(L((0,u.e)(e)),m&&m(e))}return M&&!T&&(T=!0,O(r,200,{}),h&&h(!0)),b&&!T&&e[d.jh]>0&&A&&A.set((function(){T||(T=!0,O(r,500,{}),h&&h(!0))}),e[d.jh]),p}function B(e,t,r){var n=(0,a.Jj)(),i=new XDomainRequest,o=e[d.ob];i.onload=function(){var r=(0,m.tV)(i),n=w&&w.xdrOnComplete;n&&(0,s.mf)(n)?n(i,t,e):O(t,200,{},r)},i.onerror=function(){O(t,400,{},b?g:(0,m.Np)(i))},i.ontimeout=function(){O(t,500,{})},i.onprogress=function(){};var u=n&&n.location&&n.location[d.Po]||"",c=e[d.jx];if(c){if(!b&&0!==c.lastIndexOf(u,0)){var l="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";return(0,p.kP)(S,2,40,". "+l),void j(l,t)}var f=b?c:c[d.i7](/^(https?:)/,"");i.open(y,f),e[d.jh]&&(i[d.jh]=e[d.jh]),i.send(o),b&&r?A&&A.set((function(){i.send(o)}),0):i.send(o)}else R(t)}function U(){D=0,r=!1,t=!1,S=null,b=null,w=null,P=null,k=null,_=!1,C=!1,M=!1,T=!1,I=!1,A=null}U(),e[d.VL]=function(t,n){S=n,r&&(0,p.kP)(S,1,28,"Sender is already initialized"),e.SetConfig(t),r=!0},e._getDbgPlgTargets=function(){return[r,b,P,t]},e.SetConfig=function(e){try{if(w=e.senderOnCompleteCallBack||{},P=!!e.disableCredentials,b=!!e.isOneDs,t=!!e.enableSendPromise,_=!!e.disableXhr,C=!!e.disableBeacon,M=!!e.disableBeaconSync,A=e.timeWrapper,I=!!e.addNoResponse,T=!!e.disableFetchKeepAlive,k={sendPOST:L},b||(E=!1),P){var r=(0,h.k$)();r&&r.protocol&&"file:"===r.protocol[d.D7]()&&(E=!1)}return!0}catch(e){}return!1},e.getSyncFetchPayload=function(){return D},e.getSenderInst=function(e,t){return e&&e[d.R5]?function(e,t){for(var r,n=0,i=null,o=0;null==i&&o<e[d.R5];)n=e[o],_||1!==n?2!==n||!(0,h.JO)(t)||t&&T?3!==n||!(0,h.MF)()||(t?M:C)||(i=N):i=F:(0,h.cp)()?i=B:(0,h.Z3)()&&(i=L),o++;return i?((r={_transport:n,_isSync:t})[d.Jz]=i,r):null}(e,t):null},e.getFallbackInst=function(){return k},e[d.F3]=function(e,t){U()}}))}return e.__ieDyn=1,e}()},7076:(e,t,r)=>{"use strict";r.d(t,{AA:()=>d,OY:()=>c,Yn:()=>f,bP:()=>l});var n=r(636),i=r(7372),o=r(3831),a=r(370),s=r(3866),u=(0,o.K)("plugin");function c(e){return u.get(e,"state",{},!0)}function l(e,t){for(var r,o=[],s=null,u=e[i.Fr]();u;){var l=u[i.TO]();if(l){s&&s[i.Jd]&&l[a.hL]&&s[i.Jd](l);var d=!!(r=c(l))[i.yl];l[i.yl]&&(d=l[i.yl]()),d||o[i.MW](l),s=l,u=u[i.Fr]()}}(0,n.t)(o,(function(n){var o=e[a.oV]();n[i.VL](e.getCfg(),o,t,e[i.Fr]()),r=c(n),n[a.oV]||r[a.oV]||(r[a.oV]=o),r[i.yl]=!0,delete r[i.fi]}))}function d(e){return e.sort((function(e,t){var r=0;if(t){var n=t[a.hL];e[a.hL]?r=n?e[a.yi]-t[a.yi]:1:n&&(r=-1)}else r=e?1:-1;return r}))}function f(e){var t={};return{getName:function(){return t[i.I]},setName:function(r){e&&e.setName(r),t[i.I]=r},getTraceId:function(){return t[i.nY]},setTraceId:function(r){e&&e.setTraceId(r),(0,s.jN)(r)&&(t[i.nY]=r)},getSpanId:function(){return t[i._d]},setSpanId:function(r){e&&e.setSpanId(r),(0,s.Lc)(r)&&(t[i._d]=r)},getTraceFlags:function(){return t[i.T0]},setTraceFlags:function(r){e&&e.setTraceFlags(r),t[i.T0]=r}}}},6096:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(636),i=r(6028),o=r(7372),a=r(8942);function s(){var e=[];return{add:function(t){t&&e[o.MW](t)},run:function(t,r){(0,n.t)(e,(function(e){try{e(t,r)}catch(e){(0,a.kP)(t[o.mc](),2,73,"Unexpected error calling unload handler - "+(0,i.e)(e))}})),e=[]}}}},9925:(e,t,r)=>{"use strict";r.d(t,{f:()=>l,t:()=>d});var n,i,o=r(636),a=r(6028),s=r(9105),u=r(7372),c=r(8942);function l(e,t){n=e,i=t}function d(){var e=[];return{run:function(t){var r=e;e=[],(0,o.t)(r,(function(e){try{(e.rm||e.remove).call(e)}catch(e){(0,c.kP)(t,2,73,"Unloading:"+(0,a.e)(e))}})),n&&r[u.R5]>n&&(i?i("doUnload",r):(0,c.kP)(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))},add:function(t){t&&((0,s.W)(e,t),n&&e[u.R5]>n&&(i?i("Add",e):(0,c.kP)(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}}}},3866:(e,t,r)=>{"use strict";r.d(t,{J6:()=>k,Lc:()=>P,Pn:()=>_,SU:()=>S,aR:()=>C,jN:()=>w,j_:()=>b,lq:()=>M});var n=r(9991),i=r(1606),o=r(3710),a=r(7372),s=r(9187),u=r(9233),c=r(370),l=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,d="00",f="ff",p="00000000000000000000000000000000",h="0000000000000000",m=1;function g(e,t,r){return!(!e||e[a.R5]!==t||e===r||!e.match(/^[\da-f]*$/i))}function v(e,t,r){return g(e,t)?e:r}function y(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[a.R5]<2;)t="0"+t;return t}function S(e,t,r,i){var o;return(o={})[a.PA]=g(i,2,f)?i:d,o[a.nY]=w(e)?e:(0,s.DO)(),o[a._d]=P(t)?t:(0,n.lH)((0,s.DO)(),16),o.traceFlags=r>=0&&r<=255?r:1,o}function b(e,t){var r;if(!e)return null;if((0,i.kJ)(e)&&(e=e[0]||""),!e||!(0,i.HD)(e)||e[a.R5]>8192)return null;if(-1!==e.indexOf(",")){var n=e[a.w6](",");e=n[t>0&&n[a.R5]>t?t:0]}var s=l.exec((0,o.nd)(e));return s&&s[1]!==f&&s[2]!==p&&s[3]!==h?((r={version:(s[1]||c.qS)[a.D7](),traceId:(s[2]||c.qS)[a.D7](),spanId:(s[3]||c.qS)[a.D7]()})[a.T0]=parseInt(s[4],16),r):null}function w(e){return g(e,32,p)}function P(e){return g(e,16,h)}function k(e){return!!(e&&g(e[a.PA],2,f)&&g(e[a.nY],32,p)&&g(e[a._d],16,h)&&g(y(e[a.T0]),2))}function _(e){return!!k(e)&&(e[a.T0]&m)===m}function C(e){if(e){var t=y(e[a.T0]);g(t,2)||(t="01");var r=e[a.PA]||d;return"00"!==r&&"ff"!==r&&(r=d),"".concat(r.toLowerCase(),"-").concat(v(e.traceId,32,p).toLowerCase(),"-").concat(v(e.spanId,16,h).toLowerCase(),"-").concat(t.toLowerCase())}return""}function M(e){var t="traceparent",r=b((0,u.ed)(t),e);return r||(r=b((0,u.pI)(t),e)),r}},7372:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>l,D7:()=>n,DI:()=>d,F3:()=>V,Fc:()=>R,Fr:()=>W,Gc:()=>F,Hp:()=>g,I:()=>M,JA:()=>de,Jd:()=>$,Jz:()=>le,KW:()=>x,Km:()=>se,Kn:()=>Y,LS:()=>E,MW:()=>h,P6:()=>Z,PA:()=>O,PL:()=>ne,Po:()=>K,QQ:()=>ue,R5:()=>o,SG:()=>v,T:()=>oe,T0:()=>ge,T1:()=>C,TO:()=>_,Tu:()=>q,VL:()=>y,Yz:()=>ee,ZV:()=>p,Z_:()=>T,_d:()=>me,aV:()=>a,c7:()=>j,cb:()=>m,d:()=>U,eZ:()=>f,fi:()=>L,fs:()=>A,g:()=>w,gU:()=>B,i7:()=>Q,jP:()=>D,jW:()=>s,jh:()=>fe,jk:()=>X,jx:()=>ce,l8:()=>re,mc:()=>z,nG:()=>b,nY:()=>he,ob:()=>ie,pQ:()=>u,pZ:()=>S,qV:()=>J,rb:()=>te,tb:()=>k,tp:()=>pe,uL:()=>I,v1:()=>c,vd:()=>i,w6:()=>H,wu:()=>ae,xv:()=>G,yl:()=>P,zV:()=>N});var n="toLowerCase",i="blkVal",o="length",a="rdOnly",s="notify",u="warnToConsole",c="throwInternal",l="setDf",d="watch",f="logger",p="apply",h="push",m="splice",g="hdlr",v="cancel",y="initialize",S="identifier",b="removeNotificationListener",w="addNotificationListener",P="isInitialized",k="getNotifyMgr",_="getPlugin",C="pollInternalLogs",M="name",T="time",I="processNext",A="getProcessTelContext",D="enabled",E="stopPollingInternalLogs",j="unload",R="onComplete",O="version",x="loggingLevelConsole",N="createNew",L="teardown",F="messageId",B="message",U="isAsync",z="diagLog",V="_doTeardown",q="update",W="getNext",$="setNextPlugin",K="protocol",J="userAgent",H="split",G="nodeType",Q="replace",X="logInternalMessage",Z="type",Y="handler",ee="status",te="getResponseHeader",re="getAllResponseHeaders",ne="isChildEvt",ie="data",oe="getCtx",ae="setCtx",se="complete",ue="itemsReceived",ce="urlString",le="sendPOST",de="headers",fe="timeout",pe="setRequestHeader",he="traceId",me="spanId",ge="traceFlags"},3107:(e,t,r)=>{"use strict";r.d(t,{Pw:()=>s,V4:()=>u,cb:()=>n,fK:()=>i,hB:()=>a,jA:()=>o});var n="function",i="object",o="undefined",a="prototype",s=Object,u=s[a]},2012:(e,t,r)=>{"use strict";r.d(t,{uc:()=>d,ne:()=>p,$h:()=>h});var n=r(8363),i=r(6761),o=r(1825),a=r(3529);function s(e,t){var r=o.E_;if((0,a.VZ)(e))r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'";else try{r=JSON.stringify(e,o.Il,t?(0,a.hj)(t)?t:4:o.z_)}catch(e){r=" - "+s(e,t)}return(0,a.Mu)(e)+": "+r}var u=o.Pw.create||function(e){if(!e)return{};var t=typeof e;if(t!==o.$l&&t!==o.cy)throw new TypeError("Prototype must be an Object or function: "+s(e));function r(){}return r[o.sw]=e,new r},c=r(3107),l=(((0,n.Rd)()||{}).Symbol,((0,n.Rd)()||{}).Reflect,"hasOwnProperty"),d=i.z$||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])c.V4[l].call(t,i)&&(e[i]=t[i]);return e},f=function(e,t){return f=c.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t[l](r)&&(e[r]=t[r])},f(e,t)};function p(e,t){function r(){this.constructor=e}typeof t!==c.cb&&null!==t&&function(e){throw new TypeError(e)}("Class extends value "+String(t)+" is not a constructor or null"),f(e,t),e[c.hB]=null===t?u(t):(r[c.hB]=t[c.hB],new r)}function h(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}},3529:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>s,Mu:()=>a,VZ:()=>c,hj:()=>u});var n=r(1825);function i(e){return function(t){return typeof t===e}}function o(e){var t="[object "+e+"]";return function(e){return!(!e||a(e)!==t)}}function a(e){return n.V4.toString.call(e)}function s(e){return!(!e&&function(e){return e===n.Il||function(e){return typeof e===n.i_||e===n.i_}(e)}(e)||!e||typeof e!==n.$l)}n.jd,n.Wu,n.IX,n.i_,i(n.jd),i(n.cy),n.Ch.isArray,o("Date");var u=i(n.Wu),c=(i(n.IX),o("RegExp"),o("File"),o("FormData"),o("Blob"),o("ArrayBuffer"),o("Error"))},8363:(e,t,r)=>{"use strict";r.d(t,{Rd:()=>d});var n,i=r(1825),o="__tsUtils$gblCfg";function a(){var e;return typeof globalThis!==i.i_&&(e=globalThis),e||typeof self===i.i_||(e=self),e||typeof window===i.i_||(e=window),e||typeof global===i.i_||(e=global),e}i.o9;var s,u=i.Pw.defineProperty;i.Pw.defineProperties;var c=function(){s=function(){if(!n){var e=a()||{};n=e[o]=e[o]||{}}return n}(),c=i.Il};var l,d=function(e){return(!l||!1===e||s&&s.lzy&&!l.b)&&(t=a,r=i.Il,l=function(e){var t={};return c&&c(),t.b=s.lzy,u(t,"v",{configurable:!0,get:function(){var r=e();return s.lzy||(u(t,"v",{value:r}),t.b&&delete t.b),s.lzy&&t.b!==s.lzy&&(t.b=s.lzy),r}}),t}((function(){return function(e,t){var r=t;try{r=e()}catch(e){}return r}(t,r)}))),l.v;var t,r}},1825:(e,t,r)=>{"use strict";r.d(t,{$l:()=>c,Ch:()=>v,E_:()=>o,IX:()=>a,Il:()=>i,Pw:()=>m,V4:()=>g,Wu:()=>u,b6:()=>d,cy:()=>s,i_:()=>p,jd:()=>f,o9:()=>h,sw:()=>l,z_:()=>n});var n=void 0,i=null,o="",a="boolean",s="function",u="number",c="object",l="prototype",d="__proto__",f="string",p="undefined",h="value",m=Object,g=m[l],v=(String[l],Array);v[l]},6761:(e,t,r)=>{"use strict";r.d(t,{z$:()=>o});var n=r(1825),i=(r(3529),n.Pw.getOwnPropertyDescriptor);n.Pw.hasOwn;n.Pw.freeze;var o=n.Pw.assign;n.Pw.seal,n.Pw.getPrototypeOf,n.Pw.entries,n.Pw.values},4843:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppInsightsCore:()=>yt.F,ApplicationInsights:()=>Mt,Sender:()=>gt,SeverityLevel:()=>_t._,arrForEach:()=>M.t,isNullOrUndefined:()=>E.le,proxyFunctions:()=>b.Vb,throwError:()=>St._y});var n=r(7862),i=r(2012),o=r(508),a=r(6938),s=r(9856),u=r(2642),c=r(4486),l=r(4045),d=r(8829),f=r(4124),p=r(3238),h=r(5358),m=r(1464),g=r(8861),v=r(6708),y=r(7082),S=r(8942),b=r(8769),w=r(6028),P=r(3668),k=r(3831),_=r(3128),C=r(8570),M=r(636),T=r(9233),I=r(8224),A=r(7568),D=r(7781),E=r(1606),j=r(4468),R=r(8264),O=r(4696),x=r(8877),N=r(7926),L=r(1874),F=r(733),B=r(5922),U=r(7979),z=r(7158),V="duration",q="tags",W="deviceType",$="data",K="name",J="traceID",H="length",G="stringify",Q="measurements",X="dataType",Z="envelopeType",Y="toString",ee="_get",te="enqueue",re="count",ne="eventsLimitInMem",ie="push",oe="emitLineDelimitedJson",ae="clear",se="createNew",ue="markAsSent",ce="clearSent",le="bufferOverride",de="BUFFER_KEY",fe="SENT_BUFFER_KEY",pe="MAX_BUFFER_SIZE",he="triggerSend",me="diagLog",ge="initialize",ve="_sender",ye="customHeaders",Se="maxBatchSizeInBytes",be="onunloadDisableBeacon",we="isBeaconApiDisabled",Pe="alwaysUseXhrOverride",ke="disableXhr",_e="enableSessionStorageBuffer",Ce="_buffer",Me="onunloadDisableFetch",Te="disableSendBeaconSplit",Ie="instrumentationKey",Ae="enableSendPromise",De="getSenderInst",Ee="unloadTransports",je="convertUndefined",Re="maxBatchInterval",Oe="serialize",xe="_onError",Ne="_onPartialSuccess",Le="_onSuccess",Fe="itemsAccepted",Be="oriPayload",Ue="baseType",ze="sampleRate",Ve="eventsSendRequest",qe="getSamplingScore",We="baseType",$e="baseData",Ke="properties",Je="true";function He(e,t,r){return(0,b.sO)(e,t,r,E.fQ)}function Ge(e,t,r){(0,E.le)(e)||(0,z.r)(e,(function(e,n){(0,E.hj)(n)?r[e]=n:(0,E.HD)(n)?t[e]=n:(0,T.nS)()&&(t[e]=(0,T.xA)()[G](n))}))}function Qe(e,t){(0,E.le)(e)||(0,z.r)(e,(function(r,n){e[r]=n||t}))}function Xe(e,t,r,n){var a=new B.w(e,n,t);He(a,"sampleRate",r[o.fb]),(r[$e]||{}).startTime&&(a.time=(0,b.Y6)(r[$e].startTime)),a.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return a[K]=a[K].replace("{0}",s),function(e,t,r){var n=r[q]=r[q]||{},o=t.ext=t.ext||{},a=t[q]=t[q]||[],s=o.user;s&&(He(n,L.Y.userAuthUserId,s.authId),He(n,L.Y.userId,s.id||s.localId));var u=o.app;u&&He(n,L.Y.sessionId,u.sesId);var c=o.device;c&&(He(n,L.Y.deviceId,c.id||c.localId),He(n,L.Y[W],c.deviceClass),He(n,L.Y.deviceIp,c.ip),He(n,L.Y.deviceModel,c.model),He(n,L.Y[W],c[W]));var l=t.ext.web;if(l){He(n,L.Y.deviceLanguage,l.browserLang),He(n,L.Y.deviceBrowserVersion,l.browserVer),He(n,L.Y.deviceBrowser,l.browser);var d=r[$]=r[$]||{},f=d[$e]=d[$e]||{},p=f[Ke]=f[Ke]||{};He(p,"domain",l.domain),He(p,"isManual",l.isManual?Je:null),He(p,"screenRes",l.screenRes),He(p,"userConsent",l.userConsent?Je:null)}var h=o.os;h&&He(n,L.Y.deviceOS,h[K]);var m=o.trace;m&&(He(n,L.Y.operationParentId,m.parentID),He(n,L.Y.operationName,(0,F.O$)(e,m[K])),He(n,L.Y.operationId,m[J]));for(var g={},v=a[H]-1;v>=0;v--){var y=a[v];(0,z.r)(y,(function(e,t){g[e]=t})),a.splice(v,1)}(0,z.r)(a,(function(e,t){g[e]=t}));var S=(0,i.uc)((0,i.uc)({},n),g);S[L.Y.internalSdkVersion]||(S[L.Y.internalSdkVersion]=(0,F.O$)(e,"javascript:".concat(Ye.Version),64)),r[q]=(0,b.Ax)(S)}(e,r,a),r[q]=r[q]||[],(0,b.Ax)(a)}function Ze(e,t){(0,E.le)(t[$e])&&(0,S.kP)(e,1,46,"telemetryItem.baseData cannot be null.")}var Ye={Version:"3.1.2"};function et(e,t,r){Ze(e,t);var n={},i={};t[We]!==a.j[X]&&(n.baseTypeSource=t[We]),t[We]===a.j[X]?(n=t[$e][Ke]||{},i=t[$e][Q]||{}):t[$e]&&Ge(t[$e],n,i),Ge(t[$],n,i),(0,E.le)(r)||Qe(n,r);var o=t[$e][K],s=new a.j(e,o,n,i),u=new U.V(a.j[X],s);return Xe(e,a.j[Z],t,u)}var tt,rt,nt=r(9337),it=function(){function e(t,r){var i=[],o=!1;this[ee]=function(){return i},this._set=function(e){return i=e},(0,n.Z)(e,this,(function(e){e[te]=function(n){e[re]()>=r[ne]?o||((0,S.kP)(t,2,105,"Maximum in-memory buffer size reached: "+e[re](),!0),o=!0):i[ie](n)},e[re]=function(){return i[H]},e.size=function(){for(var e=i[H],t=0;t<i[H];t++)e+=i[t][H];return r[oe]||(e+=2),e},e[ae]=function(){i=[],o=!1},e.getItems=function(){return i.slice(0)},e.batchPayloads=function(e){return e&&e[H]>0?r[oe]?e.join("\n"):"["+e.join(",")+"]":null},e[se]=function(e,r,n){var o=i.slice(0);e=e||t,r=r||{};var a=n?new at(e,r):new ot(e,r);return(0,M.t)(o,(function(e){a[te](e)})),a}}))}return e.__ieDyn=1,e}(),ot=function(e){function t(r,i){var o=e.call(this,r,i)||this;return(0,n.Z)(t,o,(function(e,t){e[ue]=function(e){t[ae]()},e[ce]=function(e){}})),o}return(0,i.ne)(t,e),t.__ieDyn=1,t}(it),at=function(e){function t(r,i){var o=e.call(this,r,i)||this,a=!1,s=null==i?void 0:i.namePrefix,u=i[le]||{getItem:m.Vd,setItem:m.yp},c=u.getItem,l=u.setItem;return(0,n.Z)(t,o,(function(e,n){var i=f(t[de]),o=f(t[fe]),u=e._set(i.concat(o));function d(e,t){var r=[];return(0,M.t)(t,(function(t){(0,E.mf)(t)||-1!==(0,nt.U)(e,t)||r[ie](t)})),r}function f(e){var t=e;try{var n=c(r,t=s?s+"_"+t:t);if(n){var i=(0,T.xA)().parse(n);if((0,E.HD)(i)&&(i=(0,T.xA)().parse(i)),i&&(0,E.kJ)(i))return i}}catch(e){(0,S.kP)(r,1,42," storage key: "+t+", "+(0,b.jj)(e),{exception:(0,w.e)(e)})}return[]}function p(e,t){var n=e;try{n=s?s+"_"+n:n;var i=JSON[G](t);l(r,n,i)}catch(e){l(r,n,JSON[G]([])),(0,S.kP)(r,2,41," storage key: "+n+", "+(0,b.jj)(e)+". Buffer cleared",{exception:(0,w.e)(e)})}}u[H]>t[pe]&&(u[H]=t[pe]),p(t[fe],[]),p(t[de],u),e[te]=function(i){e[re]()>=t[pe]?a||((0,S.kP)(r,2,67,"Maximum buffer size reached: "+e[re](),!0),a=!0):(n[te](i),p(t.BUFFER_KEY,e[ee]()))},e[ae]=function(){n[ae](),p(t.BUFFER_KEY,e[ee]()),p(t[fe],[]),a=!1},e[ue]=function(n){p(t[de],e._set(d(n,e[ee]())));var i=f(t[fe]);i instanceof Array&&n instanceof Array&&((i=i.concat(n))[H]>t[pe]&&((0,S.kP)(r,1,67,"Sent buffer reached its maximum size: "+i[H],!0),i[H]=t[pe]),p(t[fe],i))},e[ce]=function(e){var r=f(t[fe]);r=d(e,r),p(t[fe],r)},e[se]=function(n,i,o){o=!!o;var a=e[ee]().slice(0),s=f(t[fe]).slice(0);n=n||r,i=i||{},e[ae]();var u=o?new t(n,i):new ot(n,i);return(0,M.t)(a,(function(e){u[te](e)})),o&&u[ue](s),u}})),o}return(0,i.ne)(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(it),st=function(){function e(t){(0,n.Z)(e,this,(function(e){function r(e,o){var a="__aiCircularRefCheck",s={};if(!e)return(0,S.kP)(t,1,48,"cannot serialize object because it is null or undefined",{name:o},!0),s;if(e[a])return(0,S.kP)(t,2,50,"Circular reference detected while serializing object",{name:o},!0),s;if(!e.aiDataContract){if("measurements"===o)s=i(e,"number",o);else if("properties"===o)s=i(e,"string",o);else if("tags"===o)s=i(e,"string",o);else if((0,E.kJ)(e))s=n(e,o);else{(0,S.kP)(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{(0,T.xA)()[G](e),s=e}catch(e){(0,S.kP)(t,1,48,e&&(0,E.mf)(e[Y])?e[Y]():"Error serializing object",null,!0)}}return s}return e[a]=!0,(0,z.r)(e.aiDataContract,(function(i,a){var u=(0,E.mf)(a)?1&a():1&a,c=(0,E.mf)(a)?4&a():4&a,l=2&a,d=void 0!==e[i],f=(0,E.Kn)(e[i])&&null!==e[i];if(!u||d||l){if(!c){var p;void 0!==(p=f?l?n(e[i],i):r(e[i],i):e[i])&&(s[i]=p)}}else(0,S.kP)(t,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:o})})),delete e[a],s}function n(e,n){var i;if(e)if((0,E.kJ)(e)){i=[];for(var o=0;o<e[H];o++){var a=r(e[o],n+"["+o+"]");i[ie](a)}}else(0,S.kP)(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:n},!0);return i}function i(e,r,n){var i;return e&&(i={},(0,z.r)(e,(function(e,o){if("string"===r)void 0===o?i[e]="undefined":null===o?i[e]="null":o[Y]?i[e]=o[Y]():i[e]="invalid field: toString() is not defined.";else if("number"===r)if(void 0===o)i[e]="undefined";else if(null===o)i[e]="null";else{var a=parseFloat(o);i[e]=a}else i[e]="invalid field: "+n+" is of unknown type.",(0,S.kP)(t,1,i[e],null,!0)}))),i}e[Oe]=function(e){var n=r(e,"root");try{return(0,T.xA)()[G](n)}catch(e){(0,S.kP)(t,1,48,e&&(0,E.mf)(e[Y])?e[Y]():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),ut=r(8266),ct=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[H]<8;)e=e.concat(e);for(var t=5381,r=0;r<e[H];++r)t=(t<<5)+t+e.charCodeAt(r),t&=t;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),lt=function(){var e=new ct,t=new ut.n;this[qe]=function(r){return r[q]&&r[q][t.userId]?e.getHashCodeScore(r[q][t.userId]):r.ext&&r.ext.user&&r.ext.user.id?e.getHashCodeScore(r.ext.user.id):r[q]&&r[q][t.operationId]?e.getHashCodeScore(r[q][t.operationId]):r.ext&&r.ext.telemetryTrace&&r.ext.telemetryTrace[J]?e.getHashCodeScore(r.ext.telemetryTrace[J]):100*Math.random()}},dt=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var r=t||(0,S.vH)(null);(e>100||e<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[ze]=e,this.samplingScoreGenerator=new lt}return e.prototype.isSampledIn=function(e){var t=this[ze];return null==t||t>=100||e.baseType===d.j[X]||this.samplingScoreGenerator[qe](e)<t},e}(),ft=void 0;function pt(e){try{return e.responseText}catch(e){}return null}var ht=(0,O.He)(((tt={endpointUrl:(0,y.gI)(E.fQ,o.cA+o.qp)})[oe]=(0,y.up)(),tt[Re]=15e3,tt[Se]=102400,tt.disableTelemetry=(0,y.up)(),tt[_e]=(0,y.up)(!0),tt.isRetryDisabled=(0,y.up)(),tt[we]=(0,y.up)(!0),tt[Te]=(0,y.up)(!0),tt[ke]=(0,y.up)(),tt[Me]=(0,y.up)(),tt[be]=(0,y.up)(),tt[Ie]=ft,tt.namePrefix=ft,tt.samplingPercentage=(0,y.gI)((function(e){return!isNaN(e)&&e>0&&e<=100}),100),tt[ye]=ft,tt[je]=ft,tt[ne]=1e4,tt[le]=!1,tt.httpXHROverride={isVal:function(e){return e&&e.sendPOST},v:ft},tt[Pe]=(0,y.up)(),tt.transports=ft,tt.retryCodes=ft,tt)),mt=((rt={})[a.j.dataType]=et,rt[s.f.dataType]=function(e,t,r){Ze(e,t);var n=t[$e].message,i=t[$e].severityLevel,o=t[$e][Ke]||{},a=t[$e][Q]||{};Ge(t[$],o,a),(0,E.le)(r)||Qe(o,r);var u=new s.f(e,n,i,o,a),c=new U.V(s.f[X],u);return Xe(e,s.f[Z],t,c)},rt[u.B.dataType]=function(e,t,r){var n;Ze(e,t);var i=t[$e];(0,E.le)(i)||(0,E.le)(i[Ke])||(0,E.le)(i[Ke][V])?(0,E.le)(t[$])||(0,E.le)(t[$][V])||(n=t[$][V],delete t[$][V]):(n=i[Ke][V],delete i[Ke][V]);var o,a=t[$e];((t.ext||{}).trace||{})[J]&&(o=t.ext.trace[J]);var s=a.id||o,c=a[K],l=a.uri,d=a[Ke]||{},f=a[Q]||{};if((0,E.le)(a.refUri)||(d.refUri=a.refUri),(0,E.le)(a.pageType)||(d.pageType=a.pageType),(0,E.le)(a.isLoggedIn)||(d.isLoggedIn=a.isLoggedIn[Y]()),!(0,E.le)(a[Ke])){var p=a[Ke];(0,z.r)(p,(function(e,t){d[e]=t}))}Ge(t[$],d,f),(0,E.le)(r)||Qe(d,r);var h=new u.B(e,c,l,n,d,f,s),m=new U.V(u.B[X],h);return Xe(e,u.B[Z],t,m)},rt[c.y.dataType]=function(e,t,r){Ze(e,t);var n=t[$e],i=n[K],o=n.uri||n.url,a=n[Ke]||{},s=n[Q]||{};Ge(t[$],a,s),(0,E.le)(r)||Qe(a,r);var u=new c.y(e,i,o,void 0,a,s,n),l=new U.V(c.y[X],u);return Xe(e,c.y[Z],t,l)},rt[l.Pp.dataType]=function(e,t,r){Ze(e,t);var n=t[$e][Q]||{},i=t[$e][Ke]||{};Ge(t[$],i,n),(0,E.le)(r)||Qe(i,r);var o=t[$e],a=l.Pp.CreateFromInterface(e,o,i,n),s=new U.V(l.Pp[X],a);return Xe(e,l.Pp[Z],t,s)},rt[d.j.dataType]=function(e,t,r){Ze(e,t);var n=t[$e],i=n[Ke]||{},o=n[Q]||{};Ge(t[$],i,o),(0,E.le)(r)||Qe(i,r);var a=new d.j(e,n[K],n.average,n.sampleCount,n.min,n.max,n.stdDev,i,o),s=new U.V(d.j[X],a);return Xe(e,d.j[Z],t,s)},rt[f.H.dataType]=function(e,t,r){Ze(e,t);var n=t[$e][Q]||{},i=t[$e][Ke]||{};Ge(t[$],i,n),(0,E.le)(r)||Qe(i,r);var a=t[$e];if((0,E.le)(a))return(0,S.jV)(e,"Invalid input for dependency data"),null;var s=a[Ke]&&a[Ke][o.w$]?a[Ke][o.w$]:"GET",u=new f.H(e,a.id,a.target,a[K],a[V],a.success,a.responseCode,s,a.type,a.correlationContext,i,n),c=new U.V(f.H[X],u);return Xe(e,f.H[Z],t,c)},rt),gt=function(e){function t(){var r,i,a,s,u,c,l,d=e.call(this)||this;d.priority=1001,d.identifier=p.BreezeChannelIdentifier;var f,y,R,O,L,F,B,U,z,V,W,K,J,G,Q,X,Z,Y,ee,ne,oe,de,fe,pe,qe,We,$e,Ke=0;return(0,n.Z)(t,d,(function(e,n){function p(t,n){var i=pt(t);if(!t||i+""!="200"&&""!==i){var o=(0,D.L)(i);o&&o.itemsReceived&&o.itemsReceived>o[Fe]&&!G?e[Ne](n,o):e[xe](n,(0,b.Np)(t))}else r=0,e[Le](n,0)}function Je(e,t,r){4===e.readyState&&it(e.status,t,e.responseURL,r,(0,b.An)(e),pt(e)||e.response)}function He(e){try{if(e){var t=e[Be];return t&&t[H]?t:null}}catch(e){}return null}function Ge(t,r){return!(W||(t?t.baseData&&!t[Ue]?(r&&(0,S.kP)(r,1,70,"Cannot send telemetry without baseData and baseType"),1):(t[Ue]||(t[Ue]="EventData"),e[ve]?(n=t,e._sample.isSampledIn(n)?(t[o.fb]=e._sample[ze],0):(r&&(0,S.kP)(r,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample[ze]}),1)):(r&&(0,S.kP)(r,1,28,"Sender was not initialized"),1)):(r&&(0,S.kP)(r,1,7,"Cannot send empty telemetry"),1)));var n}function Qe(e,r){var n=e.iKey||K,i=t.constructEnvelope(e,n,r,J);if(i){var a=!1;if(e[q]&&e[q][o.cV]&&((0,M.t)(e[q][o.cV],(function(e){try{e&&!1===e(i)&&(a=!0,(0,S.jV)(r,"Telemetry processor check returns false"))}catch(e){(0,S.kP)(r,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,b.jj)(e),{exception:(0,w.e)(e)},!0)}})),delete e[q][o.cV]),!a)return i}else(0,S.kP)(r,1,47,"Unable to create an AppInsights envelope")}function Xe(t){var r="",n=e[me]();try{var i=Ge(t,n),o=null;i&&(o=Qe(t,n)),o&&(r=u[Oe](o))}catch(e){}return r}function Ze(e){var t="";return e&&e[H]&&(t="["+e.join(",")+"]"),t}function Ye(e){var t,r=rt();return(t={urlString:O})[$]=e,t.headers=r,t}function et(t,r,n,i){void 0===i&&(i=!0);var o=tt(r),a=t&&t.sendPOST;return a&&o?(i&&e._buffer[ue](r),a(o,(function(t,n,i){return function(t,r,n,i){200===r&&t?e._onSuccess(t,t[H]):i&&e[xe](t,i)}(r,t,0,i)}),!n)):null}function tt(t){var r;if((0,E.kJ)(t)&&t[H]>0){var n=e[Ce].batchPayloads(t),i=rt();return(r={})[$]=n,r.urlString=O,r.headers=i,r.disableXhrSync=oe,r.disableFetchKeepAlive=!de,r[Be]=t,r}return null}function rt(){try{var e=l||{};return(0,g.EX)(O)&&(e[v.C[6]]=v.C[7]),e}catch(e){}return null}function nt(t){var r=t?t[H]:0;return e[Ce].size()+r>F&&(y&&!y.isOnline()||e[he](!0,null,10),!0)}function it(t,n,i,o,a,s){var u=null;if(e._appId||(u=(0,D.L)(s))&&u.appId&&(e._appId=u.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!ut(i))return void e[xe](n,a);!G&&yt(t)?(mt(n),(0,S.kP)(e[me](),2,40,". Response code "+t+". Will retry to send "+n[H]+" items.")):e[xe](n,a)}else y&&!y.isOnline()?G||(mt(n,10),(0,S.kP)(e[me](),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!y.isOnline(),". Will retry to send ").concat(n.length," items."))):(ut(i),206===t?(u||(u=(0,D.L)(s)),u&&!G?e[Ne](n,u):e[xe](n,a)):(r=0,e[Le](n,o)))}function ut(e){return!(c>=10||(0,E.le)(e)||""===e||e===O||(O=e,++c,0))}function ct(e,t){if(!f)return et(We&&We[De]([3],!0),e,t);f(e,!1)}function lt(t,r){var n=null;if((0,E.kJ)(t)){for(var i=t[H],o=0;o<t[H];o++)i+=t[o][H];return We.getSyncFetchPayload()+i<=65e3?n=2:(0,T.MF)()?n=3:(n=1,(0,S.kP)(e[me](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender.")),et(We&&We[De]([n],!0),t,r)}return null}function mt(t,n){if(void 0===n&&(n=1),t&&0!==t[H]){var o=e[Ce];o[ce](t),r++;for(var a=0,s=t;a<s.length;a++){var u=s[a];o[te](u)}!function(e){var t;if(r<=1)t=10;else{var n=(Math.pow(2,r)-1)/2,o=Math.floor(Math.random()*n*10)+1;o*=e,t=Math.max(Math.min(o,3600),10)}var a=(0,j.G)()+1e3*t;i=a}(n),gt()}}function gt(){if(!s&&!a){var t=i?Math.max(0,i-(0,j.G)()):0,r=Math.max(Q,t);s=(0,N.tX)((function(){s=null,e[he](!0,null,1)}),r)}}function vt(){s&&s.cancel(),s=null,i=null}function yt(e){return(0,E.le)($e)?401===e||408===e||429===e||500===e||502===e||503===e||504===e:$e[H]&&$e.indexOf(e)>-1}function St(){e[ve]=null,e[Ce]=null,e._appId=null,e._sample=null,l={},y=null,r=0,i=null,a=!1,s=null,u=null,c=0,Ke=0,f=null,R=null,O=null,L=null,F=0,B=!1,V=null,W=!1,K=null,J=ft,G=!1,X=null,Y=ft,oe=!1,de=!1,qe=!1,fe=null,pe=null,We=null,(0,x.g$)(e,"_senderConfig",{g:function(){return(0,b.mm)({},ht)}})}St(),e.pause=function(){vt(),a=!0},e.resume=function(){a&&(a=!1,i=null,nt(),gt())},e.flush=function(t,r,n){if(void 0===t&&(t=!0),!a){vt();try{return e[he](t,null,n||1)}catch(t){(0,S.kP)(e[me](),1,22,"flush failed, telemetry will not be collected: "+(0,b.jj)(t),{exception:(0,w.e)(t)})}}},e.onunloadFlush=function(){if(!a)if(B||ne)try{return e[he](!0,ct,2)}catch(t){(0,S.kP)(e[me](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,b.jj)(t),{exception:(0,w.e)(t)})}else e.flush(!1)},e.addHeader=function(e,t){l[e]=t},e[ge]=function(t,o,a,s){e.isInitialized()&&(0,S.kP)(e[me](),1,28,"Sender is already initialized"),n[ge](t,o,a,s);var v=e.identifier;u=new st(o.logger),r=0,i=null,e[ve]=null,c=0;var A=e[me]();R=(0,P.jU)((0,k.J)("Sender"),o.evtNamespace&&o.evtNamespace()),y=(0,h.g)(R),e._addHook((0,_.k)(t,(function(t){var r=t.cfg;r.storagePrefix&&(0,m.mh)(r.storagePrefix);var n=(0,C.CD)(null,r,o).getExtCfg(v,ht);(0,x.g$)(e,"_senderConfig",{g:function(){return n}}),L!==n.endpointUrl&&(O=L=n.endpointUrl),V&&V!==n[ye]&&(0,M.t)(V,(function(e){delete l[e.header]})),F=n[Se],B=(!1===n[be]||!1===n[we])&&(0,T.MF)(),U=!1===n[be]&&(0,T.MF)(),z=!1===n[we]&&(0,T.MF)(),ne=n[Pe],oe=!!n[ke],$e=n.retryCodes;var i=n[le],a=!!n[_e]&&(!!i||(0,m.D3)()),s=n.namePrefix,u=a!==X||a&&Y!==s||a&&Z!==i;if(e[Ce]){if(u)try{e._buffer=e._buffer[se](A,n,a)}catch(t){(0,S.kP)(e[me](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+(0,b.jj)(t),{exception:(0,w.e)(t)})}nt()}else e[Ce]=a?new at(A,n):new ot(A,n);Y=s,X=a,Z=i,de=!n[Me]&&(0,T.JO)(!0),qe=!!n[Te],e._sample=new dt(n.samplingPercentage,A),function(e,t){var r=t.disableInstrumentationKeyValidation;return!((0,E.le)(r)||!r)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)}(K=n[Ie],r)||(0,S.kP)(A,1,100,"Invalid Instrumentation key "+K),V=n[ye],!(0,g.EX)(O)&&V&&V[H]>0?(0,M.t)(V,(function(e){d.addHeader(e.header,e.value)})):V=null,ee=n[Ae];var c=function(){var t;try{var r={xdrOnComplete:function(e,t,r){var n=He(r);if(n)return p(e,n)},fetchOnComplete:function(e,t,r,n){var i=He(n);if(i)return it(e.status,i,e.url,i[H],e.statusText,r||"")},xhrOnComplete:function(e,t,r){var n=He(r);if(n)return Je(e,n,n[H])},beaconOnRetry:function(t,r,n){return function(t,r,n){var i=t&&t[Be];if(qe)pe&&pe(i,!0),(0,S.kP)(e[me](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var o=[],a=0;a<i[H];a++){var s=i[a],u=[s];n(tt(u),r)?e._onSuccess(u,u[H]):o[ie](s)}o[H]>0&&(pe&&pe(o,!0),(0,S.kP)(e[me](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}(t,r,n)}};return(t={})[Ae]=ee,t.isOneDs=!1,t.disableCredentials=!1,t[ke]=oe,t.disableBeacon=!z,t.disableBeaconSync=!U,t.senderOnCompleteCallBack=r,t}catch(e){}return null}();We?We.SetConfig(c):(We=new I.s)[ge](c,A);var h=n.httpXHROverride,y=null,P=null,k=(0,b.fM)([3,1,2],n.transports);y=We&&We[De](k,!1);var _=We&&We.getFallbackInst();fe=function(e,t){return et(_,e,t)},pe=function(e,t){return et(_,e,t,!1)},y=ne?h:y||h||_,e[ve]=function(e,t){return et(y,e,t)},de&&(f=lt);var D=(0,b.fM)([3,1],n[Ee]);de||(D=D.filter((function(e){return 2!==e}))),P=We&&We[De](D,!0),P=ne?h:P||h,(ne||n[Ee]||!f)&&P&&(f=function(e,t){return et(P,e,t)}),f||(f=fe),W=n.disableTelemetry,J=n[je]||ft,G=n.isRetryDisabled,Q=n[Re]})))},e.processTelemetry=function(t,r){var n=(r=e._getTelCtx(r))[me]();try{if(!Ge(t,n))return;var i=Qe(t,n);if(!i)return;var o=u[Oe](i),a=e[Ce];nt(o),a[te](o),gt()}catch(e){(0,S.kP)(n,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,b.jj)(e),{exception:(0,w.e)(e)})}e.processNext(t,r)},e.isCompletelyIdle=function(){return!a&&0===Ke&&0===e._buffer[re]()},e._xhrReadyStateChange=function(e,t,r){return Je(e,t,r)},e[he]=function(t,r,n){var i;if(void 0===t&&(t=!0),!a)try{var o=e[Ce];if(W)o[ae]();else{if(o[re]()>0){var s=o.getItems();!function(t,r){var n,i=(n="getNotifyMgr",e.core[n]?e.core[n]():e.core._notificationManager);if(i&&i[Ve])try{i[Ve](t,r)}catch(t){(0,S.kP)(e[me](),1,74,"send request notification failed: "+(0,b.jj)(t),{exception:(0,w.e)(t)})}}(n||0,t),i=r?r.call(e,s,t):e[ve](s,t)}new Date}vt()}catch(t){var u=(0,T.sA)();(!u||u>9)&&(0,S.kP)(e[me](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,b.jj)(t),{exception:(0,w.e)(t)})}return i},e.getOfflineSupport=function(){var e;return(e={getUrl:function(){return O},createPayload:Ye})[Oe]=Xe,e.batch=Ze,e.shouldProcess=function(e){return!!Ge(e)},e},e._doTeardown=function(t,r){e.onunloadFlush(),(0,A.e)(y,!1),St()},e[xe]=function(t,r,n){(0,S.kP)(e[me](),2,26,"Failed to send telemetry.",{message:r}),e._buffer&&e._buffer[ce](t)},e[Ne]=function(t,r){for(var n=[],i=[],o=0,a=r.errors.reverse();o<a.length;o++){var s=a[o],u=t.splice(s.index,1)[0];yt(s.statusCode)?i[ie](u):n[ie](u)}t[H]>0&&e[Le](t,r[Fe]),n[H]>0&&e[xe](n,(0,b.An)(null,["partial success",r[Fe],"of",r.itemsReceived].join(" "))),i[H]>0&&(mt(i),(0,S.kP)(e[me](),2,40,"Partial success. Delivered: "+t[H]+", Failed: "+n[H]+". Will retry to send "+i[H]+" our of "+r.itemsReceived+" items"))},e[Le]=function(t,r){e._buffer&&e._buffer[ce](t)},e._xdrOnLoad=function(e,t){return p(e,t)}})),d}return(0,i.ne)(t,e),t.constructEnvelope=function(e,t,r,n){var o;return o=t===e.iKey||(0,E.le)(t)?e:(0,i.uc)((0,i.uc)({},e),{iKey:t}),(mt[o.baseType]||et)(r,o,n)},t}(R.i),vt=r(673),yt=r(8545),St=r(6326),bt="instrumentationKey",wt="connectionString",Pt="endpointUrl",kt="userOverrideEndpointUrl",_t=r(8967),Ct={diagnosticLogInterval:(0,y.gI)((function(e){return e&&e>0}),1e4)},Mt=function(){function e(t){var r,i=new yt.F;function a(e){e&&(e.baseData=e.baseData||{},e.baseType=e.baseType||"EventData"),i.track(e)}((0,E.le)(t)||(0,E.le)(t[bt])&&(0,E.le)(t[wt]))&&(0,St._y)("Invalid input configuration"),(0,n.Z)(e,this,(function(e){function n(){var e=(0,_.o)(t||{},Ct);r=e.cfg,i.addUnloadHook((0,_.k)(e,(function(){if(r[wt]){var e=(0,vt.X)(r[wt]),t=e.ingestionendpoint;r[Pt]=r[kt]?r[kt]:t+o.qp,r[bt]=e.instrumentationkey||r[bt]}r[Pt]=r[kt]?r[kt]:r[Pt]}))),i.initialize(r,[new gt])}(0,x.g$)(e,"config",{g:function(){return r}}),n(),e.initialize=n,e.track=a,(0,b.Vb)(e,i,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"])}))}return e.__ieDyn=1,e}()},7862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>te});var n="prototype",i="undefined",o="call",a=Object,s=a[n],u=String;function c(e,t){try{return{v:e.apply(this,t)}}catch(e){return{e}}}u[n],Array[n];var l,d,f="__tsUtils$gblCfg";function p(){var e;return typeof globalThis!==i&&(e=globalThis),e||typeof self===i||(e=self),e||typeof window===i||(e=window),e||typeof global===i||(e=global),e}var h,m=a.defineProperty;function g(e,t){return!!e&&s.hasOwnProperty[o](e,t)}function v(e){throw new TypeError(e)}a.defineProperties;var y=u;function S(e,t){var r="",n=s.toString[o](e);"[object Error]"===n&&(e={stack:y(e.stack),message:y(e.message),name:y(e.name)});try{r=(r=JSON.stringify(e,null,t?"number"==typeof t?t:4:undefined))&&r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||y(e)}catch(e){r=" - "+S(e,t)}return n+": "+r}var b,w,P,k=a.create||function(e){if(!e)return{};var t=typeof e;function r(){}return"object"!==t&&"function"!==t&&v("Prototype must be an Object or function: "+S(e)),r[n]=e,new r},_="constructor",C="prototype",M="function",T="_dynInstFuncs",I="_isDynProxy",A="_dynClass",D="_dynCls$",E="_dynInstChk",j=E,R="_dfOpts",O="_unknown_",x="__proto__",N="_dyn"+x,L="__dynProto$Gbl",F="_dynInstProto",B="useBaseInst",U="setInstFuncs",z=Object,V=z.getPrototypeOf,q=z.getOwnPropertyNames,W=(!d&&(d=function(){if(!l){var e=c(p).v||{};l=e[f]=e[f]||{}}return l}()),(!h||!1===w||d.lzy)&&(P=c(p).v||null,h=m({toJSON:function(){return P}},"v",{value:P})),h.v),$=W[L]||(W[L]={o:(b={},b[U]=!0,b[B]=!0,b),n:1e3});function K(e){return e&&(e===z[C]||e===Array[C])}function J(e){return K(e)||e===Function[C]}function H(e){var t;if(e){if(V)return V(e);var r=e[x]||e[C]||(e[_]?e[_][C]:null);t=e[N]||r,g(e,N)||(delete e[F],t=e[N]=e[F]||e[N],e[F]=r)}return t}function G(e,t){var r=[];if(q)r=q(e);else for(var n in e)"string"==typeof n&&g(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function Q(e,t,r){return t!==_&&typeof e[t]===M&&(r||g(e,t))&&t!==x&&t!==C}function X(e){v("DynamicProto: "+e)}function Z(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function Y(e,t,r,n,i){if(!K(e)){var o=r[T]=r[T]||k(null);if(!K(o)){var a=o[t]=o[t]||k(null);!1!==o[j]&&(o[j]=!!i),K(a)||G(r,(function(t){Q(r,t,!1)&&r[t]!==n[t]&&(a[t]=r[t],delete r[t],(!g(e,t)||e[t]&&!e[t][I])&&(e[t]=function(e,t){var r=function(){var n=function(e,t,r,n){var i=null;if(e&&g(r,A)){var o=e[T]||k(null);if((i=(o[r[A]]||k(null))[t])||X("Missing ["+t+"] "+M),!i[E]&&!1!==o[j]){for(var a=!g(e,t),s=H(e),u=[];a&&s&&!J(s)&&!Z(u,s);){var c=s[t];if(c){a=c===n;break}u.push(s),s=H(s)}try{a&&(e[t]=i),i[E]=1}catch(e){o[j]=!1}}}return i}(this,t,e,r)||function(e,t,r){var n=t[e];return n===r&&(n=H(t)[e]),typeof n!==M&&X("["+e+"] is not a "+M),n}(t,e,r);return n.apply(this,arguments)};return r[I]=1,r}(e,t)))}))}}}function ee(e,t){return g(e,C)?e.name||t||O:((e||{})[_]||{}).name||t||O}function te(e,t,r,n){g(e,C)||X("theClass is an invalid class definition.");var i=e[C];(function(e,t){if(V){for(var r=[],n=H(t);n&&!J(n)&&!Z(r,n);){if(n===e)return!0;r.push(n),n=H(n)}return!1}return!0})(i,t)||X("["+ee(e)+"] not in hierarchy of ["+ee(t)+"]");var o=null;g(i,A)?o=i[A]:(o=D+ee(e,"_")+"$"+$.n,$.n++,i[A]=o);var a=te[R],s=!!a[B];s&&n&&void 0!==n[B]&&(s=!!n[B]);var u=function(e){var t=k(null);return G(e,(function(r){!t[r]&&Q(e,r,!1)&&(t[r]=e[r])})),t}(t),c=function(e,t,r,n){function i(e,t,r){var i=t[r];if(i[I]&&n){var o=e[T]||{};!1!==o[j]&&(i=(o[t[A]]||{})[r]||i)}return function(){return i.apply(e,arguments)}}var o=k(null);G(r,(function(e){o[e]=i(t,r,e)}));for(var a=H(e),s=[];a&&!J(a)&&!Z(s,a);)G(a,(function(e){!o[e]&&Q(a,e,!V)&&(o[e]=i(t,a,e))})),s.push(a),a=H(a);return o}(i,t,u,s);r(t,c);var l=!!V&&!!a[U];l&&n&&(l=!!n[U]),Y(i,o,t,u,!1!==l)}te[R]=$.o},1570:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorizationServiceClient=void 0;const i=n(r(9491)),o=n(r(9593));t.AuthorizationServiceClient=class{authService;ownsAuthService;isDisposed=!1;constructor(e,t=!0){this.authService=e,this.ownsAuthService=t,(0,i.default)(e),this.authService=e}async getCredentials(e=o.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(e)}async checkAuthorization(e,t=o.default.CONTINUE){if((0,i.default)(e),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(e,t)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}}},7129:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BE32MessageWriter=t.BE32MessageReader=void 0;const i=r(4389),o=n(r(9593)),a=r(2781),s=r(4017),u=r(7850);class c extends i.AbstractMessageReader{readable;decoder;constructor(e,t){super(),this.readable=e,this.decoder=t}listen(e){this.readable.on("error",(e=>this.fireError(e)));const t=o.default.create();return(async()=>{try{for(;;){const r=await(0,u.getBufferFrom)(this.readable,4,!0,t.token);if(!r)return void this.fireClose();const n=r.readInt32BE(0),i=await(0,u.getBufferFrom)(this.readable,n,!1,t.token),o=await this.decoder(i);e(o)}}catch(e){this.fireError(e)}})(),i.Disposable.create((()=>t.cancel()))}}t.BE32MessageReader=c;class l extends i.AbstractMessageWriter{writable;encoder;semaphore=new s.Semaphore(1);headerBuffer=Buffer.alloc(4);errorCount=0;constructor(e,t){super(),this.writable=e,this.encoder=t,e.on("error",(e=>this.fireError([e,void 0,void 0]))),e.once("close",(()=>this.fireClose()))}async write(e){await this.semaphore.use((async()=>{try{const t=await this.encoder(e);this.headerBuffer.writeInt32BE(t.byteLength,0),this.writable instanceof a.Writable&&this.writable.cork();const r=Promise.all([(0,u.writeAsync)(this.writable,this.headerBuffer),(0,u.writeAsync)(this.writable,t)]);this.writable instanceof a.Writable&&this.writable.uncork(),await r}catch(e){this.errorCount++,this.fireError([d(e),void 0,this.errorCount])}}))}end(){this.writable.end()}}function d(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${"string"==typeof e.message?e.message:"unknown"}`)}t.BE32MessageWriter=l},3736:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenAdapters=void 0;const i=n(r(9593)),o=r(4389);t.CancellationTokenAdapters=class{static isVSCode(e){return o.CancellationToken.is(e)}static isCancellationToken(e){return e&&!function(e){return e&&void 0!==e.ImAProxy}(e)&&"function"==typeof e.throwIfCancelled&&"function"==typeof e.onCancelled&&void 0!==e.isCancelled&&void 0!==e.canBeCancelled}static vscodeToCancellationToken(e){if(e.isCancellationRequested)return i.default.CANCELLED;if(e===o.CancellationToken.None)return i.default.CONTINUE;{const t=i.default.create();return e.onCancellationRequested((e=>t.cancel())),t.token}}static cancellationTokenToVSCode(e){if(e.isCancelled)return o.CancellationToken.Cancelled;if(e.canBeCancelled){const t=new o.CancellationTokenSource;return e.onCancelled((e=>t.cancel())),t.token}return o.CancellationToken.None}}},1911:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameworkServices=void 0;const n=r(8952),i=r(8743),o=r(8055);class a{static remoteServiceBroker=Object.freeze(new i.ServiceJsonRpcDescriptor(o.ServiceMoniker.create("RemoteServiceBroker"),n.Formatters.Utf8,n.MessageDelimiters.HttpLikeHeaders));static authorization=Object.freeze(new i.ServiceJsonRpcDescriptor(o.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),n.Formatters.Utf8,n.MessageDelimiters.HttpLikeHeaders))}t.FrameworkServices=a},7957:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.IDisposable=void 0,function(e){e.is=function(e){return"function"==typeof e.dispose}}(r||(t.IDisposable=r={}))},5408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcRelayServiceBroker=void 0;const n=r(8952),i=r(2361),o=r(2600),a=r(1808),s=r(1017);class u extends i{serviceBroker;static _rpcEventNames=Object.freeze(["availabilityChanged"]);rpcEventNames=u._rpcEventNames;completion;channelsOfferedToClient={};disposed;constructor(e){super(),this.serviceBroker=e,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise((e=>this.disposed=e))}handshake(e,t){if(!n.RemoteServiceConnections.contains(e.supportedConnections,n.RemoteServiceConnections.IpcPipe))throw new Error("The client must support IpcPipe to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,r){const i=await this.serviceBroker.getPipe(e,t,r);if(!i)return{};const u=(0,o.v4)(),c=s.join(n.PIPE_NAME_PREFIX,(0,o.v4)()),l=(0,a.createServer)((e=>{delete this.channelsOfferedToClient[u],e.pipe(i),i.pipe(e)}));return l.listen(c),this.channelsOfferedToClient[u]=l,{requestId:u,pipeName:c}}cancelServiceRequest(e,t){const r=this.channelsOfferedToClient[e];return r?(delete this.channelsOfferedToClient[e],r.close(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this));for(const e in this.channelsOfferedToClient)this.channelsOfferedToClient[e].close(),delete this.channelsOfferedToClient[e];this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}}t.IpcRelayServiceBroker=u},1529:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplexingRelayServiceBroker=void 0;const i=r(8952),o=r(2361),a=r(3543),s=r(1911),u=n(r(5458)),c=r(2600);class l extends o{serviceBroker;multiplexingStreamWithClient;multiplexingStreamWithRemoteClientOwned;static _rpcEventNames=Object.freeze(["availabilityChanged"]);channelsOfferedToClient={};completion;rpcEventNames=l._rpcEventNames;disposed;constructor(e,t,r){super(),this.serviceBroker=e,this.multiplexingStreamWithClient=t,this.multiplexingStreamWithRemoteClientOwned=r,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise((e=>this.disposed=e))}static async connectToServer(e,t,r){try{const n=await a.MultiplexingStream.CreateAsync(t,void 0,r),i=await n.offerChannelAsync("",void 0,r),o=new l(e,n,!0);return s.FrameworkServices.remoteServiceBroker.constructRpc(o,i),o}catch(e){throw t.end(),e}}handshake(e,t){if(!i.RemoteServiceConnections.contains(e.supportedConnections,i.RemoteServiceConnections.Multiplexing))throw new Error("The client must support multiplexing to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,r){const n=(0,c.v4)();(t=t?{...t}:{}).multiplexingStream=this.multiplexingStreamWithClient;const i=await this.serviceBroker.getPipe(e,t,r);if(!i)return{};const o=this.multiplexingStreamWithClient.createChannel();return o.stream.pipe(i),i.pipe(o.stream),this.channelsOfferedToClient[n]=o,(0,u.default)(o.acceptance.finally((()=>delete this.channelsOfferedToClient[n]))),{requestId:n,multiplexingChannelId:o.qualifiedId.id}}async cancelServiceRequest(e,t){const r=this.channelsOfferedToClient[e];return r?(r.dispose(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.multiplexingStreamWithRemoteClientOwned&&this.multiplexingStreamWithClient.dispose(),this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}}t.MultiplexingRelayServiceBroker=l},3169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStreamMessageWriter=t.NodeStreamMessageReader=void 0;const n=r(4389);class i extends n.ReadableStreamMessageReader{constructor(e,t){super(new a(e),t)}}t.NodeStreamMessageReader=i;class o extends n.WriteableStreamMessageWriter{constructor(e,t){super(new s(e),t)}}t.NodeStreamMessageWriter=o;class a{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),n.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),n.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),n.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),n.Disposable.create((()=>this.stream.off("data",e)))}}class s{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),n.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),n.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),n.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((r,n)=>{const i=e=>{null==e?r():n(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}},3515:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProtectedOperation=void 0;const i=n(r(9491));var o;!function(e){e.create=function(e,t){return Object.freeze({operationMoniker:e,requiredTrustLevel:t})},e.isSupersetOf=function(e,t){return(0,i.default)(e),(0,i.default)(t),e.operationMoniker===t.operationMoniker&&(e.requiredTrustLevel===t.requiredTrustLevel||!!e.requiredTrustLevel&&!!t.requiredTrustLevel&&e.requiredTrustLevel>t.requiredTrustLevel)},e.equals=function(e,t){return e===t||!(!e||!t)&&e.operationMoniker===t.operationMoniker&&e.requiredTrustLevel===t.requiredTrustLevel}}(o||(t.ProtectedOperation=o={}))},3257:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteServiceBroker=void 0;const i=n(r(9491)),o=n(r(9593)),a=r(2361),s=r(3543),u=r(1570),c=r(8952),l=r(7464),d=r(5447),f=r(1808),p=r(1911);class h extends a.EventEmitter{serviceBroker;multiplexingStream;static fullConnectionSupport=c.RemoteServiceConnections.Multiplexing|c.RemoteServiceConnections.IpcPipe;static async connectToDuplex(e,t=o.default.CONTINUE){(0,i.default)(e);const r=p.FrameworkServices.remoteServiceBroker.constructRpc(e);return await h.initializeBrokerConnection(r,t)}static async connectToRemoteServiceBroker(e,t=o.default.CONTINUE){return(0,i.default)(e),await h.initializeBrokerConnection(e,t)}static async connectToMultiplexingDuplex(e,t,r=o.default.CONTINUE){(0,i.default)(e);const n=await s.MultiplexingStream.CreateAsync(e,t,r),a=await n.acceptChannelAsync("",void 0,r),u=p.FrameworkServices.remoteServiceBroker.constructRpc(a.stream),c=await this.connectToMultiplexingRemoteServiceBroker(u,n,r);return c.ownsMxStream=!0,c}static async connectToMultiplexingRemoteServiceBroker(e,t,r=o.default.CONTINUE){(0,i.default)(e),(0,i.default)(t);const n={supportedConnections:h.fullConnectionSupport},a=await h.initializeBrokerConnection(e,r,n,t);return a.ownsMxStream=!1,a}static async initializeBrokerConnection(e,t=o.default.CONTINUE,r,n){if(!r){let e=this.fullConnectionSupport;n||(e&=~c.RemoteServiceConnections.Multiplexing),r={supportedConnections:e}}try{await e.handshake(r,t)}catch(t){const r=e;throw"function"==typeof r.dispose&&r.dispose(),t}return new h(e,r,n)}isDisposed=!1;ownsMxStream=!1;defaultClientCulture="en-US";defaultClientUICulture="en-US";authorizationClient;constructor(e,t,r){super(),this.serviceBroker=e,this.multiplexingStream=r,(0,i.default)(e),(0,i.default)(t),c.RemoteServiceConnections.contains(t.supportedConnections,c.RemoteServiceConnections.Multiplexing)&&(0,i.default)(r),this.serviceBroker.on("availabilityChanged",(e=>{this.emit("availabilityChanged",e)}))}setAuthorizationService(e){(0,i.default)(e),this.authorizationClient?.dispose(),this.authorizationClient=new u.AuthorizationServiceClient(e)}async getProxy(e,t,r=o.default.CONTINUE){let n;(0,i.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},t=await this.applyAuthorization(t,r);let a={};try{if(a=await this.serviceBroker.requestServiceChannel(e.moniker,t,r),!a||l.RemoteServiceConnectionInfo.isEmpty(a))return null;if(a.multiplexingChannelId&&this.multiplexingStream)n=await this.multiplexingStream.acceptChannel(a.multiplexingChannelId);else{if(!a.pipeName)throw new Error("Unsupported connection type");{const e="win32"!==process.platform||a.pipeName.startsWith(c.PIPE_NAME_PREFIX)?a.pipeName:c.PIPE_NAME_PREFIX+a.pipeName;n=(0,f.createConnection)(e)}}}catch(e){throw(0,d.isReadWriteStream)(n)?n.end():(0,d.isChannel)(n)&&n.dispose(),a?.requestId&&await this.serviceBroker.cancelServiceRequest(a.requestId,r),e}return e.constructRpc(t?.clientRpcTarget,n)}async getPipe(e,t,r=o.default.CONTINUE){if((0,i.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},(t=await this.applyAuthorization(t,r)).clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let n={},a=null,s=null;try{if(n=await this.serviceBroker.requestServiceChannel(e,t,r),!n||l.RemoteServiceConnectionInfo.isEmpty(n))return null;if(!n.multiplexingChannelId||!this.multiplexingStream)throw n.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return s=await this.multiplexingStream.acceptChannel(n.multiplexingChannelId),a=s.stream,a}catch(e){throw s?.dispose(),a?.end(),!a&&n?.requestId&&await this.serviceBroker.cancelServiceRequest(n.requestId,r),e}}dispose(){this.isDisposed=!0,this.serviceBroker.removeAllListeners(c.availabilityChangedEvent);const e=this.serviceBroker;"function"==typeof e.dispose&&e.dispose(),this.authorizationClient?.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(e,t){return this.authorizationClient&&!e.clientCredentials&&(e.clientCredentials=await this.authorizationClient.getCredentials(t)),e}}t.RemoteServiceBroker=h},7464:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteServiceConnectionInfo=void 0,function(e){e.isEmpty=function(e){return!e.multiplexingChannelId&&!e.requestId&&!e.pipeName},e.isOneOf=function(e,t){return!!e.multiplexingChannelId&&t.indexOf("multiplexing")>-1}}(r||(t.RemoteServiceConnectionInfo=r={}))},8743:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcConnection=t.ServiceJsonRpcDescriptor=void 0;const a=r(5028),s=r(8952),u=r(8055),c=r(4815),l=r(5447),d=r(7129),f=o(r(7323)),p=r(3543),h=r(2781),m=r(3169),g=r(7188);class v extends c.ServiceRpcDescriptor{formatter;messageDelimiter;protocol="json-rpc";multiplexingStreamOptions;connectionFactory;constructor(e,t,r,n){let i,o;switch(super(e),this.formatter=t,this.messageDelimiter=r,t){case s.Formatters.Utf8:i=e=>Promise.resolve(Buffer.from(JSON.stringify(e))),o=e=>JSON.parse(e.toString());break;case s.Formatters.MessagePack:i=e=>Promise.resolve(f.encode(e)),o=e=>f.decode(e);break;default:throw new Error(`Unsupported formatter: ${t}.`)}if(this.multiplexingStreamOptions=void 0===n?void 0:Object.freeze(n),r===s.MessageDelimiters.HttpLikeHeaders){if(t!==s.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=e=>(0,a.createMessageConnection)(new m.NodeStreamMessageReader(e),new m.NodeStreamMessageWriter(e))}else{if(r!==s.MessageDelimiters.BigEndianInt32LengthHeader)throw new Error(`Unsupported message delimiter: ${r}.`);this.connectionFactory=e=>(0,a.createMessageConnection)(new d.BE32MessageReader(e,o),new d.BE32MessageWriter(e,i))}}constructRpcConnection(e){if(this.multiplexingStreamOptions){const t=this.createSeedChannels();let r=(0,l.isChannel)(e)?e.stream:e;const n=p.MultiplexingStream.Create(r,t),i=n.acceptChannel(0);return i.completion.finally((()=>n.dispose())),new S((0,l.constructMessageConnection)(i,this.connectionFactory))}return new S((0,l.constructMessageConnection)(e,this.connectionFactory))}equals(e){return!!(e&&e instanceof v)&&!!u.ServiceMoniker.equals(e.moniker,this.moniker)&&this.formatter===e.formatter&&this.messageDelimiter===e.messageDelimiter}createSeedChannels(){if(void 0===this.multiplexingStreamOptions)throw new Error("multiplexingStreamOptions unset.");if(void 0===this.multiplexingStreamOptions.seededChannels||0===this.multiplexingStreamOptions.seededChannels.length){const e=(0,l.clone)(this.multiplexingStreamOptions);return e.seededChannels=[{}],e.protocolMajorVersion=3,e}return this.multiplexingStreamOptions}}t.ServiceJsonRpcDescriptor=v;const y={get:(e,t)=>{switch(t.toString()){case"dispose":return function(){e.messageConnection.dispose()};case"_jsonRpc":return e.messageConnection;case"then":return;case"on":return function(t,r){return e.eventEmitter.on(t,r),e};case"once":return function(t,r){return e.eventEmitter.once(t,r),e};case"prependListener":return function(t,r){return e.eventEmitter.prependListener(t,r),e};case"prependOnceListener":return function(t,r){return e.eventEmitter.prependOnceListener(t,r),e};case"addListener":return function(t,r){return e.eventEmitter.addListener(t,r),e};case"rawListeners":return e.eventEmitter.rawListeners;case"removeAllListeners":return function(t){return e.eventEmitter.removeAllListeners(t),e};case"removeListener":return function(t,r){return e.eventEmitter.removeListener(t,r),e};case"off":return function(t,r){return e.eventEmitter.off(t,r),e};case"listenerCount":return e.eventEmitter.listenerCount;case"getMaxListeners":return e.eventEmitter.getMaxListeners;case"setMaxListeners":return function(t){return e.eventEmitter.setMaxListeners(t),e};case"eventNames":return function(){return e.eventEmitter.eventNames(),e};case"emit":return function(t,r){return e.eventEmitter.emit(t,r),e};default:return function(){const r=t.toString();return(0,g.invokeRpc)(r,arguments,e.messageConnection)}}}};class S extends c.RpcConnection{messageConnection;constructor(e){super(),this.messageConnection=e}addLocalRpcTarget(e){if((0,g.registerInstanceMethodsAsRpcTargets)(e,this.messageConnection),c.RpcConnection.IsRpcEventServer(e))for(let t of e.rpcEventNames)e.on(t,((...e)=>{this.messageConnection.sendNotification(t,a.ParameterStructures.byPosition,...e)}));"function"==typeof e.dispose&&this.messageConnection.onDispose((()=>e.dispose()))}constructRpcClient(){const e={messageConnection:this.messageConnection,eventEmitter:new h.EventEmitter};return this.messageConnection.onNotification(((t,r)=>Array.isArray(r)?e.eventEmitter.emit(t,...r):e.eventEmitter.emit(t,r))),new Proxy(e,y)}startListening(){this.messageConnection?.listen()}dispose(){}}t.JsonRpcConnection=S},8055:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceMoniker=void 0,function(e){function t(e){return e.version?`${e.name} (${e.version})`:e.name}function r(){return t(this)}e.create=function(e,t){if(!e||""===e)throw new Error("name cannot be empty.");return Object.freeze({name:e,version:t,toString:r})},e.equals=function(e,t){return e===t||!(!e||!t)&&e.name===t.name&&e.version===t.version},e.toString=t}(r||(t.ServiceMoniker=r={}))},4815:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RpcConnection=t.ServiceRpcDescriptor=void 0;const i=n(r(9491));t.ServiceRpcDescriptor=class{moniker;constructor(e){this.moniker=e,(0,i.default)(e)}constructRpc(e,t){let r;if(t?r=e:t=e,void 0===t)throw new Error("No pipe supplied.");const n=this.constructRpcConnection(t);void 0!==r&&n.addLocalRpcTarget(r);const i=n.constructRpcClient();return n.startListening(),i}},t.RpcConnection=class{static IsRpcEventServer(e){return e.rpcEventNames&&e.on}}},8952:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.PIPE_NAME_PREFIX=t.availabilityChangedEvent=t.RemoteServiceConnections=t.MessageDelimiters=t.Formatters=void 0,function(e){e[e.Utf8=0]="Utf8",e[e.MessagePack=1]="MessagePack"}(r||(t.Formatters=r={})),function(e){e[e.HttpLikeHeaders=0]="HttpLikeHeaders",e[e.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"}(n||(t.MessageDelimiters=n={})),function(e){e[e.None=0]="None",e[e.Multiplexing=1]="Multiplexing",e[e.IpcPipe=2]="IpcPipe",e[e.ClrActivation=8]="ClrActivation"}(i||(t.RemoteServiceConnections=i={})),function(e){function t(t){let r=e.None;for(const n of t.split(","))switch(n.trim()){case"None":break;case"Multiplexing":r|=e.Multiplexing;break;case"IpcPipe":r|=e.IpcPipe;break;case"ClrActivation":r|=e.ClrActivation;break;default:throw new Error(`unrecognized element '${n.trim()}'.`)}return r}e.contains=function(e,r){return"string"==typeof e&&(e=t(e)),(e&r)===r},e.parse=t}(i||(t.RemoteServiceConnections=i={})),t.availabilityChangedEvent="availabilityChanged",t.PIPE_NAME_PREFIX="win32"===process.platform?"\\\\.\\pipe\\":"/tmp/"},4245:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCredentialsPolicy=void 0,function(e){e[e.requestOverridesDefault=0]="requestOverridesDefault",e[e.filterOverridesRequest=1]="filterOverridesRequest"}(r||(t.ClientCredentialsPolicy=r={}))},1349:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalBrokeredServiceContainer=void 0;const a=o(r(5369)),s=r(5083),u=r(1067),c=r(9080),l=r(7993),d=r(707),f=r(4245),p=r(989),h=r(9793),m=r(7327),g=r(8055);class v{static preferredSourceOrderForRemoteServices=[s.ServiceSource.trustedServer,s.ServiceSource.untrustedServer];static preferredSourceOrderForLocalServices=[s.ServiceSource.sameProcess,s.ServiceSource.otherProcessOnSameMachine];remoteSources=a.Map();profferedServiceIndex=a.Map();registeredServices=a.Map();localUserCredentials=a.Map();constructor(){}register(e){let t=this.registeredServices;const r=e.map((e=>({moniker:m.ServiceMonikerValue.from(e.moniker),registration:e.registration})));r.forEach((e=>{if(this.registeredServices.has(e.moniker))throw new Error(`${g.ServiceMoniker.toString(e.moniker)} is already registered.`);t=t.set(e.moniker,e.registration)})),this.registeredServices=t;let n=!1;return{dispose:()=>{n||(r.forEach((e=>this.registeredServices=this.registeredServices.delete(e.moniker))),n=!0)}}}profferServiceFactory(e,t){return this.profferInternal(new c.ProfferedServiceFactory(this,e,t))}profferServiceBroker(e,t){return this.profferInternal(new h.ProfferedServiceBroker(this,e,s.ServiceSource.sameProcess,t))}profferRemoteServiceBroker(e,t,r,n){if(r===s.ServiceSource.sameProcess)throw new Error("Use the proffer method for local services when they are in the same process.");return this.profferInternal(new p.ProfferedRemoteServiceBroker(this,e,t,r,this.getAllowedMonikers(r,n?.map(m.ServiceMonikerValue.from)??null)))}getFullAccessServiceBroker(){return new u.View(this,l.ServiceAudience.process,this.localUserCredentials,f.ClientCredentialsPolicy.requestOverridesDefault)}getLimitedAccessServiceBroker(e,t,r){return new u.View(this,e,t,r)}static isLocalConsumer(e){return(e&~l.ServiceAudience.local)===l.ServiceAudience.none}getSecureServiceBroker(e){return new u.View(this,l.ServiceAudience.process,e?.clientCredentials?a.Map(e.clientCredentials):a.Map(),f.ClientCredentialsPolicy.requestOverridesDefault)}getServiceRegistration(e){let t=this.registeredServices.get(e);if(t)return{registration:t,matchingMoniker:e};if(e.version){const t=new m.ServiceMonikerValue(e.name);return this.getServiceRegistration(t)}return null}async getProfferingSource(e,t){const r=m.ServiceMonikerValue.from(e),{registration:n,matchingMoniker:i}=this.getServiceRegistration(r)||{};if(!n||!i)return{errorCode:d.MissingBrokeredServiceErrorCode.notLocallyRegistered};if(v.isLocalConsumer(t),!n.isExposedTo(t))return{errorCode:d.MissingBrokeredServiceErrorCode.serviceAudienceMismatch};if(n.profferCallback){if("function"==typeof n.profferCallback){const t=n.profferCallback(this,e);n.profferCallback=t||void 0}await n.profferCallback}for(const e of v.preferredSourceOrderForLocalServices){const t=this.profferedServiceIndex.get(e);if(t){const e=t.get(i);if(e)return{proffered:e,errorCode:d.MissingBrokeredServiceErrorCode.noExplanation}}}return{errorCode:d.MissingBrokeredServiceErrorCode.serviceFactoryNotProffered}}removeRegistrations(e){const t=this.profferedServiceIndex;switch(e.source){case s.ServiceSource.sameProcess:case s.ServiceSource.otherProcessOnSameMachine:let t=this.profferedServiceIndex.get(e.source);t&&(t=t.removeAll(e.monikers),this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,t));break;default:this.profferedServiceIndex=this.profferedServiceIndex.remove(e.source),this.remoteSources=this.remoteSources.remove(e.source)}this.onAvailabilityChanged(t,e)}onAvailabilityChanged(e,t,r){}getAllowedMonikers(e,t){const r=v.convertRemoteSourceToLocalAudience(e),n=[];if(null===t)for(let[t,i]of this.registeredServices)(i.audience&r)!==r&&e!==s.ServiceSource.otherProcessOnSameMachine||n.push(t);else for(let i of t){const t=this.registeredServices.get(i);!t||(t.audience&r)!==r&&e!==s.ServiceSource.otherProcessOnSameMachine||n.push(i)}return n}static convertRemoteSourceToLocalAudience(e){switch(e){case s.ServiceSource.otherProcessOnSameMachine:return l.ServiceAudience.local;case s.ServiceSource.trustedServer:case s.ServiceSource.untrustedServer:return l.ServiceAudience.liveShareGuest;default:throw new Error(`Source not recognized: ${e}`)}}profferInternal(e){const t=this.profferedServiceIndex;e.source>s.ServiceSource.otherProcessOnSameMachine&&this.remoteSources.set(e.source,e);let r=this.profferedServiceIndex.get(e.source)??a.Map();const n=[];if(e.monikers.forEach((t=>{if(this.registeredServices.has(t)||n.push(t),r.has(t))throw new Error(`${g.ServiceMoniker.toString(t)} is already proffered.`);r=r.set(t,e)})),n.length>0)throw new Error(`Cannot proffer unregistered service(s): ${n.map((e=>g.ServiceMoniker.toString(e))).join(", ")}`);return this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,r),this.onAvailabilityChanged(t,e),e}}t.GlobalBrokeredServiceContainer=v},707:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MissingBrokeredServiceErrorCode=void 0,function(e){e[e.noExplanation=0]="noExplanation",e[e.notLocallyRegistered=1]="notLocallyRegistered",e[e.chaosConfigurationDeniedRequest=2]="chaosConfigurationDeniedRequest",e[e.serviceAudienceMismatch=3]="serviceAudienceMismatch",e[e.serviceFactoryNotProffered=4]="serviceFactoryNotProffered",e[e.serviceFactoryReturnedNull=5]="serviceFactoryReturnedNull",e[e.serviceFactoryFault=6]="serviceFactoryFault",e[e.localServiceHiddenOnRemoteClient=7]="localServiceHiddenOnRemoteClient"}(r||(t.MissingBrokeredServiceErrorCode=r={}))},989:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfferedRemoteServiceBroker=void 0;const n=r(2361),i=r(3257),o=r(7327);class a extends n.EventEmitter{container;remoteServiceBroker;multiplexingStream;source;serviceBroker;monikers;constructor(e,t,r,n,a){super(),this.container=e,this.remoteServiceBroker=t,this.multiplexingStream=r,this.source=n,this.monikers=a.map(o.ServiceMonikerValue.from),this.serviceBroker=new Promise((async(e,n)=>{try{e(r?await i.RemoteServiceBroker.connectToMultiplexingRemoteServiceBroker(t,r):await i.RemoteServiceBroker.connectToRemoteServiceBroker(t))}catch(e){n(e)}})),this.remoteServiceBroker.on("availabilityChanged",this.onAvailabilityChanged)}async getProxy(e,t,r){const n=await this.serviceBroker;return await n.getProxy(e,t,r)}async getPipe(e,t,r){const n=await this.serviceBroker;return await n.getPipe(e,t,r)}handshake(e,t){return this.remoteServiceBroker.handshake(e,t)}requestServiceChannel(e,t,r){return this.remoteServiceBroker.requestServiceChannel(e,t,r)}cancelServiceRequest(e,t){return this.remoteServiceBroker.cancelServiceRequest(e,t)}dispose(){this.remoteServiceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}}t.ProfferedRemoteServiceBroker=a},9793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfferedServiceBroker=void 0;const n=r(2361),i=r(5653),o=r(7327);class a extends n.EventEmitter{container;serviceBroker;source;monikers;remoteServiceBrokerWrapper;constructor(e,t,r,n){super(),this.container=e,this.serviceBroker=t,this.source=r,this.monikers=n.map(o.ServiceMonikerValue.from),this.serviceBroker.on("availabilityChanged",this.onAvailabilityChanged),this.remoteServiceBrokerWrapper=new i.RemoteServiceBrokerWrapper(this)}getProxy(e,t,r){return this.serviceBroker.getProxy(e,t,r)}getPipe(e,t,r){return this.serviceBroker.getPipe(e,t,r)}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,r){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,r)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}}t.ProfferedServiceBroker=a},9080:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfferedServiceFactory=void 0;const i=n(r(9593)),o=r(2361),a=r(3543),s=r(5653),u=r(7327),c=r(5083);class l extends o.EventEmitter{container;descriptor;factory;source=c.ServiceSource.sameProcess;monikers;remoteServiceBrokerWrapper;constructor(e,t,r){super(),this.container=e,this.descriptor=t,this.factory=r,this.monikers=Object.freeze([new u.ServiceMonikerValue(t.moniker)]),this.remoteServiceBrokerWrapper=new s.RemoteServiceBrokerWrapper(this)}async getProxy(e,t,r){r?.throwIfCancelled();const n=this.container.getSecureServiceBroker(t),o=await this.invokeFactory(n,e.moniker,t??{},r??i.default.CONTINUE);if(!o)return null;switch(typeof o.dispose){case"undefined":o.dispose=function(){};break;case"function":break;default:throw new Error(`Service has a dispose property of type ${typeof o.dispose} instead of a function.`)}return o}async getPipe(e,t,r){r?.throwIfCancelled();const n=a.FullDuplexStream.CreatePair(),o=this.container.getSecureServiceBroker(t),s=this.descriptor.constructRpcConnection(n.first),u=await this.invokeFactory(o,e,t??{},r??i.default.CONTINUE);try{return u?(s.addLocalRpcTarget(u),s.startListening(),n.second):(s.dispose(),null)}catch(e){throw"function"==typeof u?.dispose&&u.dispose(),e}}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,r){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,r)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.container.removeRegistrations(this)}invokeFactory(e,t,r,n){return this.container.getServiceRegistration(u.ServiceMonikerValue.from(t))?.registration.allowGuestClients,this.factory(t,r,e,n)}}t.ProfferedServiceFactory=l},5653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteServiceBrokerWrapper=void 0;const n=r(5408);class i extends n.IpcRelayServiceBroker{}t.RemoteServiceBrokerWrapper=i},7993:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceAudience=void 0,function(e){e[e.none=0]="none",e[e.process=1]="process",e[e.local=3]="local",e[e.liveShareGuest=1024]="liveShareGuest",e[e.allClientsIncludingGuests=1027]="allClientsIncludingGuests"}(r||(t.ServiceAudience=r={}))},7327:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceMonikerValue=void 0;const i=n(r(9887));class o{name;version;hash;constructor(e,t){"string"==typeof e?(this.name=e,this.version=t):(this.name=e.name,this.version=e.version)}equals(e){return e&&e.name===this.name&&e.version===this.version}hashCode(){return this.hash??=(0,i.default)(this.name)+(0,i.default)(this.version??""),this.hash}static from(e){return e instanceof o?e:new o(e)}}t.ServiceMonikerValue=o},9022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceRegistration=void 0;const n=r(7993);t.ServiceRegistration=class{audience;allowGuestClients;profferCallback;constructor(e,t,r){this.audience=e,this.allowGuestClients=t,this.profferCallback=r}get isExposedLocally(){return(this.audience&n.ServiceAudience.local)!==n.ServiceAudience.none}get isExposedRemotely(){return(this.audience&n.ServiceAudience.liveShareGuest)!==n.ServiceAudience.none}isExposedTo(e){return(e&this.audience)===e}}},5083:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceSource=void 0,function(e){e[e.sameProcess=0]="sameProcess",e[e.otherProcessOnSameMachine=1]="otherProcessOnSameMachine",e[e.trustedServer=2]="trustedServer",e[e.untrustedServer=3]="untrustedServer"}(r||(t.ServiceSource=r={}))},1067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;const n=r(2361),i=r(8952),o=r(4245);class a extends n.EventEmitter{container;audience;clientCredentials;clientCredentialsPolicy;clientCulture;clientUICulture;constructor(e,t,r,n,i,o){super(),this.container=e,this.audience=t,this.clientCredentials=r,this.clientCredentialsPolicy=n,this.clientCulture=i,this.clientUICulture=o}async getProxy(e,t,r){r?.throwIfCancelled(),t=this.applyOptionsFilter(t);const n=await this.container.getProfferingSource(e.moniker,this.audience);return n?.proffered?await n.proffered.getProxy(e,t,r):null}async getPipe(e,t,r){r?.throwIfCancelled(),t=this.applyOptionsFilter(t);const n=await this.container.getProfferingSource(e,this.audience);return n?.proffered?await n.proffered.getPipe(e,t,r):null}handshake(e,t){if(!i.RemoteServiceConnections.contains(e.supportedConnections,i.RemoteServiceConnections.IpcPipe))throw new Error("We only support pipes.");return Promise.resolve()}async requestServiceChannel(e,t,r){r?.throwIfCancelled(),t=this.applyOptionsFilter(t);const n=await this.container.getProfferingSource(e,this.audience);return n?.proffered?n.proffered.requestServiceChannel(e,t,r):Promise.resolve({})}cancelServiceRequest(e,t){throw new Error("Not yet implemented.")}applyOptionsFilter(e){const{...t}=e??{};return this.clientCredentialsPolicy!==o.ClientCredentialsPolicy.filterOverridesRequest&&0!==(t.clientCredentials?.length??0)||(t.clientCredentials=this.clientCredentials.toObject()),t.clientCulture=this.clientCulture,t.clientUICulture=this.clientUICulture,t}}t.View=a},6333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCredentialsPolicy=t.ServiceSource=t.ServiceRegistration=t.ServiceAudience=t.GlobalBrokeredServiceContainer=void 0;var n=r(1349);Object.defineProperty(t,"GlobalBrokeredServiceContainer",{enumerable:!0,get:function(){return n.GlobalBrokeredServiceContainer}});var i=r(7993);Object.defineProperty(t,"ServiceAudience",{enumerable:!0,get:function(){return i.ServiceAudience}});var o=r(9022);Object.defineProperty(t,"ServiceRegistration",{enumerable:!0,get:function(){return o.ServiceRegistration}});var a=r(5083);Object.defineProperty(t,"ServiceSource",{enumerable:!0,get:function(){return a.ServiceSource}});var s=r(4245);Object.defineProperty(t,"ClientCredentialsPolicy",{enumerable:!0,get:function(){return s.ClientCredentialsPolicy}})},9679:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Observer=t.ServiceRpcDescriptor=t.ServiceMoniker=t.JsonRpcConnection=t.ServiceJsonRpcDescriptor=t.RemoteServiceConnectionInfo=t.RemoteServiceBroker=t.ProtectedOperation=t.MultiplexingRelayServiceBroker=t.RpcMarshalable=t.IpcRelayServiceBroker=t.IDisposable=t.AuthorizationServiceClient=t.RemoteServiceConnections=t.MessageDelimiters=t.Formatters=void 0;var o=r(8952);Object.defineProperty(t,"Formatters",{enumerable:!0,get:function(){return o.Formatters}}),Object.defineProperty(t,"MessageDelimiters",{enumerable:!0,get:function(){return o.MessageDelimiters}}),Object.defineProperty(t,"RemoteServiceConnections",{enumerable:!0,get:function(){return o.RemoteServiceConnections}}),i(r(1911),t);var a=r(1570);Object.defineProperty(t,"AuthorizationServiceClient",{enumerable:!0,get:function(){return a.AuthorizationServiceClient}});var s=r(7957);Object.defineProperty(t,"IDisposable",{enumerable:!0,get:function(){return s.IDisposable}});var u=r(5408);Object.defineProperty(t,"IpcRelayServiceBroker",{enumerable:!0,get:function(){return u.IpcRelayServiceBroker}});var c=r(4008);Object.defineProperty(t,"RpcMarshalable",{enumerable:!0,get:function(){return c.RpcMarshalable}});var l=r(1529);Object.defineProperty(t,"MultiplexingRelayServiceBroker",{enumerable:!0,get:function(){return l.MultiplexingRelayServiceBroker}});var d=r(3515);Object.defineProperty(t,"ProtectedOperation",{enumerable:!0,get:function(){return d.ProtectedOperation}});var f=r(3257);Object.defineProperty(t,"RemoteServiceBroker",{enumerable:!0,get:function(){return f.RemoteServiceBroker}});var p=r(7464);Object.defineProperty(t,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return p.RemoteServiceConnectionInfo}});var h=r(8743);Object.defineProperty(t,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return h.ServiceJsonRpcDescriptor}}),Object.defineProperty(t,"JsonRpcConnection",{enumerable:!0,get:function(){return h.JsonRpcConnection}});var m=r(8055);Object.defineProperty(t,"ServiceMoniker",{enumerable:!0,get:function(){return m.ServiceMoniker}});var g=r(4815);Object.defineProperty(t,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return g.ServiceRpcDescriptor}});var v=r(3187);Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return v.Observer}}),i(r(6333),t)},4008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJsonRpcMarshaledObject=t.MarshaledObjectProxy=t.RpcMarshalable=t.registerReleaseMarshaledObjectCallback=void 0;const n=r(4389),i=r(7188),o="$/releaseMarshaledObject";function a(e,t,r){return void 0===r?`$/invokeProxy/${e}/${t}`:`$/invokeProxy/${e}/${r}.${t}`}var s,u;t.registerReleaseMarshaledObjectCallback=function(e){e.onNotification(o,(t=>{const r=Array.isArray(t)?{handle:t[0],ownedBySender:t[1]}:t,n=e;if(n._marshaledObjectTracker){const e=r.ownedBySender?n._marshaledObjectTracker.theirsByHandle:n._marshaledObjectTracker.ownByHandle;e[r.handle]?.dispose()}}))},function(e){e.is=function(e){const t=e;return"string"==typeof t?._jsonRpcMarshalableLifetime}}(s||(t.RpcMarshalable=s={})),function(e){e.is=function(e){const t=e;return"number"==typeof t?._jsonrpcMarshaledHandle}}(u||(t.MarshaledObjectProxy=u={}));const c={get:(e,t)=>{switch(t.toString()){case"dispose":return e.dispose;case"_jsonrpcMarshaledHandle":return e._jsonrpcMarshaledHandle;case"then":case"toJSON":return;default:return function(){const r=a(e._jsonrpcMarshaledHandle,t.toString());return(0,i.invokeRpc)(r,arguments,e.messageConnection)}}}};function l(e){const t=e;return t._marshaledObjectTracker??={counter:0,ownByHandle:{},theirsByHandle:{},ownTrackedObjectHandles:new WeakMap},t._marshaledObjectTracker}var d;!function(e){e.is=function(e){const t=e;return"number"==typeof t?.__jsonrpc_marshaled&&"number"==typeof t.handle},e.wrap=function(e,t){const r=l(t);if(u.is(e))return{__jsonrpc_marshaled:0,handle:e._jsonrpcMarshaledHandle};{if("call"===e._jsonRpcMarshalableLifetime)throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");const n=r.ownTrackedObjectHandles.has(e),o=n?r.ownTrackedObjectHandles.get(e):++r.counter;if(!n){r.ownTrackedObjectHandles.set(e,o);const n=(0,i.registerInstanceMethodsAsRpcTargets)(e,t,(e=>a(o,e)));r.ownByHandle[o]={target:e,dispose:()=>{n.dispose(),delete r.ownByHandle[o],r.ownTrackedObjectHandles.delete(e),"dispose"in e&&"function"==typeof e.dispose&&e.dispose()}}}return{__jsonrpc_marshaled:1,handle:o,lifetime:e._jsonRpcMarshalableLifetime,optionalInterfaces:e._jsonRpcOptionalInterfaces}}},e.cancelWrap=function(e,t){const r=l(t).ownByHandle[e.handle];r?.dispose()},e.unwrap=function(e,t){if("call"===e.lifetime)throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");const r=l(t);switch(e.__jsonrpc_marshaled){case 1:let i=r.theirsByHandle[e.handle]?.proxy;if(!i){const a={messageConnection:t,_jsonrpcMarshaledHandle:e.handle,dispose:()=>{if(r.theirsByHandle[e.handle]){delete r.theirsByHandle[e.handle];const i={handle:e.handle,ownedBySender:!1};t.sendNotification(o,n.ParameterStructures.byName,i)}}};i=new Proxy(a,c),r.theirsByHandle[e.handle]={proxy:i,dispose:()=>{delete r.theirsByHandle[e.handle]}}}return i;case 0:const a=r.ownByHandle[e.handle];if(!a)throw new Error(`Unrecognized handle ${e.handle}`);return a.target;default:throw new Error(`Unsupported value for __jsonrpc_marshaled: ${e.__jsonrpc_marshaled}.`)}}}(d||(t.IJsonRpcMarshaledObject=d={}))},3187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observer=void 0,t.Observer=class{next;completion;_jsonRpcMarshalableLifetime="explicit";error;get completed(){return void 0!==this.error}constructor(e,t){this.next=e,this.completion=t}onNext(e){this.next(e)}onCompleted(){this.error=null,this.completion&&this.completion(null)}onError(e){this.error=e,this.completion&&this.completion(e)}}},7188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerInstanceMethodsAsRpcTargets=t.invokeRpc=void 0;const n=r(4389),i=r(3736),o=r(4008);function a(e,t){return function(e){for(let t=0;t<e.length;t++)if(void 0===e[t])throw new Error(`Argument at 0-based index ${t} is set as undefined, which is not a valid JSON value.`);return e}(t).map((t=>s(e,t)))}function s(e,t){return o.RpcMarshalable.is(t)||o.MarshaledObjectProxy.is(t)?o.IJsonRpcMarshaledObject.wrap(t,e):t}function u(e,t){const r=Object.getOwnPropertyDescriptor(e,t);return!!r&&"function"==typeof r.value}function c(e,t){return function(e,t){return o.IJsonRpcMarshaledObject.is(t)?o.IJsonRpcMarshaledObject.unwrap(t,e):t}(e,t)}function l(e,t){return function(e){if(e.length>0&&i.CancellationTokenAdapters.isVSCode(e[e.length-1])){const t=i.CancellationTokenAdapters.vscodeToCancellationToken(e[e.length-1]);e[e.length-1]=t}return e}(t).map((t=>c(e,t)))}t.invokeRpc=async function(e,t,r){if(t.length>0){if(n.CancellationToken.is(t[t.length-1])){const i=t[t.length-1],o=a(r,Array.prototype.slice.call(t,0,t.length-1));return r.sendRequest(e,n.ParameterStructures.byPosition,...o,i)}if(i.CancellationTokenAdapters.isCancellationToken(t[t.length-1])){const o=i.CancellationTokenAdapters.cancellationTokenToVSCode(t[t.length-1]),s=a(r,Array.prototype.slice.call(t,0,t.length-1));return r.sendRequest(e,n.ParameterStructures.byPosition,...s,o)}if(void 0===t[t.length-1]){const i=a(r,Array.prototype.slice.call(t,0,t.length-1));return r.sendRequest(e,n.ParameterStructures.byPosition,...i)}}const s=a(r,Array.prototype.slice.call(t));try{const t=await r.sendRequest(e,n.ParameterStructures.byPosition,...s);return c(r,t)}catch(e){for(const e of s)o.IJsonRpcMarshaledObject.is(e)&&o.IJsonRpcMarshaledObject.cancelWrap(e,r);throw e}},t.registerInstanceMethodsAsRpcTargets=function(e,t,r){const i=[];function o(n,o){const a=r?r(n):n;i.push(t.onRequest(a,((...r)=>async function(e,t){return s(e,await t)}(t,o.apply(e,l(t,r)))))),i.push(t.onNotification(a,((...r)=>o.apply(e,l(t,r)))))}return function(e,t){const r=[];let n=Object.getPrototypeOf(e);for(;n&&n!==t;)Object.getOwnPropertyNames(n).forEach((e=>{"constructor"!==e&&u(n,e)&&r.push(e)})),n=Object.getPrototypeOf(n);return r}(e,Object.prototype).forEach((t=>{if("dispose"!==t){const r=e[t];o(t,r);const n="Async";o(t.endsWith(n)?t.substring(0,t.length-n.length):`${t}${n}`,r)}})),n.Disposable.create((()=>i.forEach((e=>e.dispose()))))}},5447:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isChannel=t.clone=t.isReadWriteStream=t.constructMessageConnection=void 0;const i=n(r(9491)),o=r(4008);function a(e){return e&&"unshift"in e}t.constructMessageConnection=function(e,t){let r;return(0,i.default)(e),a(e)?(r=t(e),e.on("close",(()=>{r?.dispose()})),r.onDispose((()=>e.end())),r.onClose((()=>e.end()))):(r=t(e.stream),e.completion.then((()=>{r?.dispose()})),r.onDispose((()=>e.dispose())),r.onClose((()=>e.dispose()))),(0,o.registerReleaseMarshaledObjectCallback)(r),r},t.isReadWriteStream=a,t.clone=function(e){var t=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},t.isChannel=function(e){return e&&"stream"in e&&"acceptance"in e&&"completion"in e&&"dispose"in e}},3241:(e,t,r)=>{"use strict";r.d(t,{Zm:()=>i,xR:()=>o});var n=r(4489);function i(e,t){return o(e,(function(e){t&&t({value:e,rejected:!1})}),(function(e){t&&t({rejected:!0,reason:e})}))}function o(e,t,r,i){var o=e;return(0,n.y8)(e)?(t||r)&&(o=e.then(t,r)):t&&t(e),i&&(o=function(e,t){var r=e;return t&&((0,n.y8)(e)?r=e.finally?e.finally(t):e.then((function(e){return t(),e}),(function(e){throw t(),e})):t()),r}(o,i)),o}},9873:(e,t,r)=>{"use strict";r.d(t,{Tp:()=>Ie,wv:()=>Te});var n,i=r(6775),o="__tsUtils$gblCfg";function a(){var e;return typeof globalThis!==i.i_&&(e=globalThis),e||typeof self===i.i_||(e=self),e||typeof window===i.i_||(e=window),e||typeof global===i.i_||(e=global),e}var s=r(4489),u=i.Pw.getOwnPropertyDescriptor,c=i.Pw.hasOwn||function(e,t){return function(e,t){return e&&i.V4.hasOwnProperty.call(e,t)}(e,t)||!!u(e,t)};function l(e,t,r){if(e&&(0,s.Kn)(e))for(var n in e)if(c(e,n)&&-1===t.call(r||e,n,e[n]))break}var d={e:"enumerable",c:"configurable",v:i.o9,w:"writable",g:"get",s:"set"};var f,p=i.Pw.defineProperty;i.Pw.defineProperties;var h=function(){f=function(){if(!n){var e=a()||{};n=e[o]=e[o]||{}}return n}(),h=i.Il};function m(e){var t={};return h&&h(),t.b=f.lzy,p(t,"v",{configurable:!0,get:function(){var r=e();return f.lzy||(p(t,"v",{value:r}),t.b&&delete t.b),f.lzy&&t.b!==f.lzy&&(t.b=f.lzy),r}}),t}function g(e,t){var r=i.E_;if((0,s.VZ)(e))r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'";else try{r=JSON.stringify(e,i.Il,t?(0,s.hj)(t)?t:4:i.z_)}catch(e){r=" - "+g(e,t)}return(0,s.Mu)(e)+": "+r}function v(e){throw new TypeError(e)}var y,S,b,w=i.e1,P=i.dw[i.Or],k=(y=i.Or,S=i.dw,b=S&&S[y],function(e){var t=e&&e[y]||b;if(t)return t.apply(e,P.call(arguments,1));!function(e,t){v("'"+w(e)+"' not defined for "+g(t))}(y,e)});function _(e,t){return m((function(){return function(e,t){var r=t;try{r=e()}catch(e){}return r}(e,t)}))}var C,M,T,I,A="window",D=function(e){return _((function(){return j(e)||i.z_}),i.z_)},E=function(e){return(!C||!1===e||f&&f.lzy&&!C.b)&&(C=_(a,i.Il)),C.v},j=function(e,t){var r=C&&!1!==t?C.v:E(t);return r&&r[e]?r[e]:e===A&&M?M.v:i.Il},R=function(){return(!T||f&&f.lzy&&!T.b)&&(T=D("document")),T.v},O=function(){return(!M||f&&f.lzy&&!M.b)&&(M=D(A)),M.v},x=function(){return!I&&(I=_((function(){return!(!process||!(process.versions||{}).node)}),!1)),I.v},N=function(e){return e.apply.apply(e,P.call(arguments,1))},L="ref",F="un"+L,B="hasRef",U="enabled";function z(e,t,r,n){var o=(0,s.kJ)(r),a=o?r.length:0,u=(a>0?r[0]:o?i.z_:r)||setTimeout,c=(a>1?r[1]:i.z_)||clearTimeout,l=n[0];n[0]=function(){d.dn(),N(l,e,k(arguments))};var d=function(t,r,n){var o,a,s=!0,u=t?r(i.Il):i.Il,l=function(){return s=!1,u&&u[F]&&u[F](),a},d=function(){return u=r(u),s||l(),a},f=function(){u&&function(t){N(c,e,[t])}(u),u=i.Il};return(o={cancel:f,refresh:d})[B]=function(){return u&&u[B]?u[B]():s},o[L]=function(){return s=!0,u&&u[L]&&u[L](),a},o[F]=l,o[U]=!1,p(a=o,U,{get:function(){return!!u},set:function(e){!e&&u&&f(),e&&!u&&d()}}),{h:a,dn:function(){u=i.Il}}}(t,(function(t){if(t){if(t.refresh)return t.refresh(),t;N(c,e,[t])}return N(u,e,n)}));return d.h}function V(e,t){return z(this,!0,i.z_,k(arguments))}var q=i.Pw.freeze;i.Pw.assign;var W=q||function(e){return e};i.Pw.seal,i.Pw.getPrototypeOf,i.Pw.entries,i.Pw.values;var $,K,J,H,G,Q=($=function(e){return q&&l(e,(function(e,t){((0,s.kJ)(t)||(0,s.Kn)(t))&&q(t)})),W(e)},K={},l({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12},(function(e,t){K[e]=e,K[t]=e})),$(K)),X={};function Z(e){return _((function(){return J.v?J.v[e]:i.z_}),i.z_)}function Y(){var e=!J||f&&f.lzy&&!J.b;return e&&(J=D(i.QT)),(!H||e)&&(H=Z("for")),(!G||e)&&(G=Z("keyFor")),J.v}function ee(e,t){var r=Q[e];return(!J||f.lzy&&!J.b)&&Y(),J.v?J.v[r||e]:t?i.z_:function(e){var t,r,n,o=Q[e];return o&&(t=X[o]=X[o]||(r=i.QT+"."+o,(n={description:w(r),toString:function(){return i.QT+"("+r+")"}})[i.V9]=!0,n)),t}(e)}function te(e,t,r){if(e)for(var n=e[i.G9]>>>0,o=0;o<n&&(!(o in e)||-1!==t.call(r||e,e[o],o,e));o++);}(0,s.yx)("symbol");var re,ne,ie,oe,ae,se=r(3241),ue=!1,ce=["pending","resolving","resolved","rejected"],le="dispatchEvent",de="Promise",fe="unhandledRejection",pe=fe.toLowerCase(),he=[],me=0,ge=10;function ve(e){return(0,s.mf)(e)?e.toString():g(e)}function ye(e,t,r){var n,i,o=k(arguments,3),a=0,c=!1,f=[],h=me++,m=he.length>0?he[he.length-1]:void 0,y=!1,S=null;!ae&&(ae=D(de+"RejectionEvent"));var b,w,P,C=function(t,r){try{return he.push(h),y=!0,S&&S.cancel(),S=null,e((function(e,i){f.push((function(){try{var o=2===a?t:r,u=(0,s.o8)(o)?n:(0,s.mf)(o)?o(n):o;(0,s.y8)(u)?u.then(e,i):o?e(u):3===a?i(u):e(u)}catch(e){i(e)}})),c&&T()}),o)}finally{he.pop()}},M=function(){return ce[a]},T=function(){if(f.length>0){var e=f.slice();f=[],y=!0,t(e),S&&S.cancel(),S=null}},I=function(e,t){return function(r){if(a===t){if(2===e&&(0,s.y8)(r))return a=1,void r.then(I(2,1),I(3,1));a=e,c=!0,n=r,T(),y||3!==e||S||(S=V(A,ge))}}},A=function(){y||(x()?process.emit(fe,n,i):function(e,t,r,n){var i=R();!oe&&(oe=_((function(){var e;return i&&i.createEvent&&(e=i.createEvent("Event")),!!e&&e.initEvent}),null));var o=oe.v?i.createEvent("Event"):n?new Event(t):{};if(r&&r(o),oe.v&&o.initEvent(t,!1,!0),o&&e[le])e[le](o);else{var a=e["on"+t];if(a)a(o);else{var s=j("console");s&&(s.error||s.log)(t,g(o))}}}(O()||E(),pe,(function(e){return p(e,"promise",function(e){var t={};if(t[d.c]=!0,t[d.e]=!0,e.l){t.get=function(){return e.l.v};var r=u(e.l,"v");r&&r.set&&(t.set=function(t){e.l.v=t})}return l(e,(function(e,r){t[d[e]]=(0,s.o8)(r)?t[d[e]]:r})),t}({g:function(){return i}})),e.reason=n,e}),!!ae.v))};return p(i={then:C,catch:function(e){return C(void 0,e)},finally:function(e){var t=e,r=e;return(0,s.mf)(e)&&(t=function(t){return e&&e(),t},r=function(t){throw e&&e(),t}),C(t,r)}},"state",{get:M}),ue&&(w=function(){return(0,s.Mu)(n)},P=function(){return y},ne=ne||{toString:function(){return"[[PromiseResult]]"}},ie=ie||{toString:function(){return"[[PromiseIsHandled]]"}},p(b=i,re=re||{toString:function(){return"[[PromiseState]]"}},{get:M}),p(b,ne,{get:w}),p(b,ie,{get:P})),Y()&&(i[ee(11)]="IPromise"),i.toString=function(){return"IPromise"+(ue?"["+h+((0,s.o8)(m)?"":":"+m)+"]":"")+" "+M()+(c?" - "+ve(n):"")},function(){(0,s.mf)(r)||v(de+": executor is not a function - "+ve(r));var e=I(3,0);try{r.call(i,I(2,0),e)}catch(t){e(t)}}(),i}function Se(e){return function(t){var r=k(arguments,1);return e((function(e,r){try{var n=[],i=1;te(t,(function(t,o){t&&(i++,(0,se.xR)(t,(function(t){n[o]=t,0==--i&&e(n)}),r))})),0==--i&&e(n)}catch(e){r(e)}}),r)}}function be(e){return function(t){var r=k(arguments,1);return(0,s.y8)(t)?t:e((function(e){e(t)}),r)}}function we(e){return function(t){var r=k(arguments,1);return e((function(e,r){r(t)}),r)}}var Pe,ke,_e=function(e){te(e,(function(e){try{e()}catch(e){}}))};function Ce(e,t){return ye(Ce,function(e){var t=(0,s.hj)(e)?e:0;return function(e){V((function(){_e(e)}),t)}}(t),e,t)}function Me(e,t){!Pe&&(Pe=D(de));var r=Pe.v;if(!r)return Ce(e);(0,s.mf)(e)||v(de+": executor is not a function - "+g(e));var n=0,i=new r((function(t,r){e((function(e){n=2,t(e)}),(function(e){n=3,r(e)}))}));return p(i,"state",{get:function(){return ce[n]}}),i}function Te(e,t){return!ke&&(ke=m((function(){return Me}))),ke.v.call(this,e,t)}Se(Ce),be(Ce),we(Ce),Se(Me),be(Me),we(Me);var Ie=Se(Te);be(Te),we(Te)},4489:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>c,Mu:()=>a,VZ:()=>f,hj:()=>d,kJ:()=>l,mf:()=>u,o8:()=>s,y8:()=>p,yx:()=>i});var n=r(6775);function i(e){return function(t){return typeof t===e}}function o(e){var t="[object "+e+"]";return function(e){return!(!e||a(e)!==t)}}function a(e){return n.V4.toString.call(e)}function s(e){return typeof e===n.i_||e===n.i_}n.jd,n.Wu,n.IX,n.i_,i(n.jd);var u=i(n.cy);function c(e){return!(!e&&function(e){return e===n.Il||s(e)}(e)||!e||typeof e!==n.$l)}var l=n.Ch.isArray,d=(o("Date"),i(n.Wu)),f=(i(n.IX),o("RegExp"),o("File"),o("FormData"),o("Blob"),o("ArrayBuffer"),o("Error"));function p(e){return!!e&&u(e.then)}},6775:(e,t,r)=>{"use strict";r.d(t,{$l:()=>c,Ch:()=>P,E_:()=>o,G9:()=>g,IX:()=>a,Il:()=>i,Or:()=>y,Pw:()=>S,QT:()=>h,V4:()=>b,V9:()=>m,Wu:()=>u,b6:()=>d,cy:()=>s,dw:()=>k,e1:()=>w,i_:()=>p,jd:()=>f,o9:()=>v,z_:()=>n});var n=void 0,i=null,o="",a="boolean",s="function",u="number",c="object",l="prototype",d="__proto__",f="string",p="undefined",h="Symbol",m="_polyfill",g="length",v="value",y="slice",S=Object,b=S[l],w=String,P=(w[l],Array),k=P[l]},9105:(e,t,r)=>{"use strict";r.d(t,{W:()=>l});var n=r(1606),i=r(5703);function o(e){return!!e&&(0,n.mf)(e.next)}var a,s=r(7820),u=r(6534),c=r(9200);function l(e,t){var r;return!(0,n.o8)(t)&&e&&((0,n.kJ)(t)?(0,c.j2)(e.push,e,t):o(t)||(r=t,!(0,n.Kd)(r)&&(0,n.mf)(r[(0,i.Wb)(3)]))?function(e,t,r){if(e&&(o(e)||(!a&&(a=(0,s.m)((0,i.Wb)(3))),e=e[a.v]?e[a.v]():null),o(e))){var n=void 0,c=void 0;try{for(var l=0;!(c=e.next()).done&&-1!==t[u.D0](e,c.value,l,e);)l++}catch(t){n={e:t},e.throw&&(c=null,e.throw(n))}finally{try{c&&!c.done&&e.return&&e.return(c)}finally{if(n)throw n.e}}}}(t,(function(t){e.push(t)})):e.push(t)),e}},636:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(6534);function i(e,t,r){if(e)for(var i=e[n.G9]>>>0,o=0;o<i&&(!(o in e)||-1!==t[n.D0](r||e,e[o],o,e));o++);}},9337:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(6534),i=(0,r(22).Ke)("indexOf",n.dw)},4962:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(6534),i=(0,r(22).Ke)("map",n.dw)},3942:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(6534),i=(0,r(22).Ke)("reduce",n.dw)},9200:(e,t,r)=>{"use strict";function n(e,t,r){return e.apply(t,r)}r.d(t,{j2:()=>n})},1606:(e,t,r)=>{"use strict";r.d(t,{kJ:()=>v,jn:()=>b,J_:()=>y,$K:()=>f,VZ:()=>w,mf:()=>m,F:()=>P,le:()=>l,hj:()=>S,Kn:()=>g,ty:()=>p,Kd:()=>d,HD:()=>h,fQ:()=>k,Ym:()=>u,o8:()=>c});var n,i=r(6534),o=r(6373);function a(e){return function(t){return typeof t===e}}function s(e){var t="[object "+e+"]";return function(e){return!(!e||function(e){return i.V4.toString.call(e)}(e)!==t)}}function u(e,t){return typeof e===t}function c(e){return typeof e===i.i_||e===i.i_}function l(e){return e===i.Il||c(e)}function d(e){return e===i.Il||!f(e)}function f(e){return!!e||e!==i.z_}function p(e){return!n&&(n=["string","number","boolean",i.i_,"symbol","bigint"]),e!==i.$l&&-1!==n.indexOf(e)}var h=a("string"),m=a(i.cy);function g(e){return!(!e&&l(e)||!e||typeof e!==i.$l)}var v=i.Ch.isArray,y=s("Date"),S=a("number"),b=a("boolean"),w=s("Error");function P(e){return!e||!k(e)}function k(e){return!(!e||(t=function(){return!(e&&0+e)},r=!e,n=(0,o.T)(t),n.e?r:n.v));var t,r,n}},7820:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(8877);function i(e){return(0,n.iU)({toJSON:function(){return e}},"v",{value:e})}},4468:(e,t,r)=>{"use strict";function n(){return(Date.now||i)()}function i(){return(new Date).getTime()}r.d(t,{G:()=>n})},6028:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var n=r(6534),i=r(5450),o="[object Error]";function a(e,t){var r=n.E_,s=n.V4[n.sO][n.D0](e);s===o&&(e={stack:(0,i.X)(e.stack),message:(0,i.X)(e.message),name:(0,i.X)(e.name)});try{r=(r=JSON.stringify(e,n.Il,t?"number"==typeof t?t:4:n.z_))&&r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||(0,i.X)(e)}catch(e){r=" - "+a(e,t)}return s+": "+r}},2509:(e,t,r)=>{"use strict";r.d(t,{$S:()=>a,UC:()=>s,Oz:()=>u});var n=r(7158);function i(e,t,r,i){var o={};return(0,n.r)(e,(function(e,n){o[e]=t?n:e,o[n]=r?n:e})),i(o)}var o=r(4696);function a(e){return i(e,1,0,o.He)}function s(e){return i(e,0,0,o.He)}function u(e){return function(e){var t={};return(0,n.r)(e,(function(e,r){t[e]=r[1],t[r[0]]=r[1]})),(0,o.He)(t)}(e)}},6864:(e,t,r)=>{"use strict";r.d(t,{Jj:()=>g,Me:()=>h,Nv:()=>p,Ym:()=>m,d6:()=>v,fE:()=>S,jW:()=>y,p4:()=>d,s1:()=>b,vs:()=>f});var n,i=r(6534),o=r(8206),a=r(8984),s=r(7820),u=r(6373),c="window";function l(e,t){var r;return function(){return!a.Z3&&(0,a.VK)(),(!r||a.Z3.lzy)&&(r=(0,s.m)((0,u.T)(e,t).v)),r.v}}function d(e){return(0,a.d$)((function(){return(0,u.T)(f,[e]).v||i.z_}))}function f(e,t){var r=n&&!1!==t?n.v:function(e){return!a.Z3&&(0,a.VK)(),(!n||!1===e||a.Z3.lzy)&&(n=(0,s.m)((0,u.T)(o.e).v||i.Il)),n.v}(t);return r&&r[e]?r[e]:e===c?g():i.Il}function p(){return!!h()}var h=l(f,["document"]);function m(){return!!g()}var g=l(f,[c]);function v(){return!!y()}var y=l(f,["navigator"]);function S(){return!!b()}var b=l(f,["history"])},8984:(e,t,r)=>{"use strict";r.d(t,{VK:()=>a,Z3:()=>n,d$:()=>s});var n,i=r(8206),o=r(8877);function a(){n=(0,i.w)()}function s(e){var t={};return!n&&a(),t.b=n.lzy,(0,o.iU)(t,"v",{configurable:!0,get:function(){var r=e();return n.lzy||(0,o.iU)(t,"v",{value:r}),t.b=n.lzy,r}}),t}},9728:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(6534),i=(0,r(22).MB)(n.G9)},2033:(e,t,r)=>{"use strict";r.d(t,{Jj:()=>u,r:()=>s});var n,i=r(4468),o=r(6864),a=r(8984);function s(){return!a.Z3&&(0,a.VK)(),(!n||!n.b&&a.Z3.lzy)&&(n=(0,o.p4)("performance")),n.v}function u(){var e=s();return e&&e.now?e.now():(0,i.G)()}},6373:(e,t,r)=>{"use strict";function n(e,t){try{return{v:e.apply(this,t)}}catch(e){return{e}}}r.d(t,{T:()=>n})},6326:(e,t,r)=>{"use strict";function n(e){throw new Error(e)}function i(e){throw new TypeError(e)}r.d(t,{ZU:()=>i,_y:()=>n})},6534:(e,t,r)=>{"use strict";r.d(t,{$l:()=>s,A1:()=>m,Bw:()=>w,Ch:()=>k,D0:()=>g,E_:()=>o,Fy:()=>P,G9:()=>h,Il:()=>i,Pw:()=>y,Q:()=>d,Q1:()=>C,QT:()=>f,V4:()=>S,V9:()=>p,b6:()=>c,cy:()=>a,dw:()=>_,e1:()=>b,i_:()=>l,sO:()=>v,sw:()=>u,z_:()=>n});var n=void 0,i=null,o="",a="function",s="object",u="prototype",c="__proto__",l="undefined",d="constructor",f="Symbol",p="_polyfill",h="length",m="name",g="call",v="toString",y=Object,S=y[u],b=String,w=b[u],P=Math,k=Array,_=k[u],C=_.slice},8206:(e,t,r)=>{"use strict";r.d(t,{e:()=>s,w:()=>u});var n,i=r(6373),o=r(6534),a="__tsUtils$gblCfg";function s(){var e;return typeof globalThis!==o.i_&&(e=globalThis),e||typeof self===o.i_||(e=self),e||typeof window===o.i_||(e=window),e||typeof global===o.i_||(e=global),e}function u(){if(!n){var e=(0,i.T)(s).v||{};n=e[a]=e[a]||{}}return n}},22:(e,t,r)=>{"use strict";r.d(t,{At:()=>u,Ke:()=>s,MB:()=>c});var n=r(6028),i=r(6326),o=r(5450),a=r(6534),s=u;function u(e,t,r){var s=t&&t[e];return function(t){var u=t&&t[e]||s;if(u||r){var c=arguments;return(u||r).apply(t,u?a.Q1[a.D0](c,1):c)}(0,i.ZU)('"'+(0,o.X)(e)+'" not defined for '+(0,n.e)(t))}}function c(e){return function(t){return t[e]}}},8877:(e,t,r)=>{"use strict";r.d(t,{g$:()=>d,iU:()=>c,l_:()=>l});var n=r(6534),i=r(1606),o=r(7158),a=r(2008),s={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function u(e){var t={};if(t[s.c]=!0,t[s.e]=!0,e.l){t.get=function(){return e.l.v};var r=(0,a.S)(e.l,"v");r&&r.set&&(t.set=function(t){e.l.v=t})}return(0,o.r)(e,(function(e,r){t[s[e]]=(0,i.o8)(r)?t[s[e]]:r})),t}var c=n.Pw.defineProperty;function l(e,t,r,n,i,o){var a={e:o,c:i};return r&&(a.g=r),n&&(a.s=n),c(e,t,u(a))}function d(e,t,r){return c(e,t,u(r))}n.Pw.defineProperties},7158:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var n=r(1606),i=r(6534),o=r(709);function a(e,t,r){if(e&&(0,n.Kn)(e))for(var a in e)if((0,o.w)(e,a)&&-1===t[i.D0](r||e,a,e[a]))break}},2008:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n=r(6534).Pw.getOwnPropertyDescriptor},709:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(6534),i=r(2008),o=r(6293),a=n.Pw.hasOwn||function(e,t){return(0,o.a)(e,t)||!!(0,i.S)(e,t)}},6293:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=r(6534);function i(e,t){return!!e&&n.V4.hasOwnProperty[n.D0](e,t)}},1364:(e,t,r)=>{"use strict";r.d(t,{P:()=>l});var n,i,o,a=r(6864),s=r(6534),u=r(6293),c=r(4696);function l(e){if(!e||typeof e!==s.$l)return!1;o||(o=!(0,a.Ym)()||(0,a.Jj)());var t=!1;if(e!==o){i||(n=Function[s.sw][s.sO],i=n[s.D0](s.Pw));try{var r=(0,c.uV)(e);(t=!r)||((0,u.a)(r,s.Q)&&(r=r[s.Q]),t=r&&typeof r===s.cy&&n[s.D0](r)===i)}catch(e){}}return t}},4696:(e,t,r)=>{"use strict";r.d(t,{He:()=>c,FL:()=>l,uV:()=>f,FY:()=>u,Xi:()=>d});var n=r(6534),i=r(1606),o=r(7158),a=n.Pw.freeze;function s(e){return e}n.Pw.assign;var u=n.Pw.keys;function c(e){return a&&(0,o.r)(e,(function(e,t){((0,i.kJ)(t)||(0,i.Kn)(t))&&a(t)})),l(e)}var l=a||s,d=n.Pw.seal||s,f=n.Pw.getPrototypeOf||function(e){return e[n.b6]||n.Il};n.Pw.entries,n.Pw.values},5450:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n=r(6534).e1},8714:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(1606),i=r(6028),o=r(6326),a=r(6534),s=r(22),u=r(5450),c=r(9991),l=(0,s.At)("endsWith",a.Bw,d);function d(e,t,r){(0,n.HD)(e)||(0,o.ZU)("'"+(0,i.e)(e)+"' is not a string");var s=(0,n.HD)(t)?t:(0,u.X)(t),l=!(0,n.o8)(r)&&r<e[a.G9]?r:e[a.G9];return(0,c.k4)(e,l-s[a.G9],l)===s}},862:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(6534),i=(0,r(22).Ke)("indexOf",n.Bw)},6556:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var n=r(1606),i=r(6028),o=r(6326),a=r(6534),s=r(22),u=r(5450),c=r(9991),l=(0,s.At)("startsWith",a.Bw,d);function d(e,t,r){(0,n.HD)(e)||(0,o.ZU)("'"+(0,i.e)(e)+"' is not a string");var s=(0,n.HD)(t)?t:(0,u.X)(t),l=r>0?r:0;return(0,c.k4)(e,l,l+s[a.G9])===s}},9991:(e,t,r)=>{"use strict";r.d(t,{lH:()=>p,s1:()=>d,k4:()=>l});var n=r(1606),i=r(6028),o=r(6326),a=r(6534),s=r(22),u=(a.Fy.min,a.Fy.max),c=(0,s.Ke)("slice",a.Bw),l=(0,s.Ke)("substring",a.Bw),d=(0,s.At)("substr",a.Bw,f);function f(e,t,r){return(0,n.le)(e)&&(0,o.ZU)("'polyStrSubstr called with invalid "+(0,i.e)(e)),r<0?a.E_:((t=t||0)<0&&(t=u(t+e[a.G9],0)),(0,n.o8)(r)?c(e,t):c(e,t,t+r))}function p(e,t){return l(e,0,t)}},3710:(e,t,r)=>{"use strict";r.d(t,{nd:()=>l});var n=r(6534),i=r(22),o=r(1606),a=r(6028),s=r(6326);function u(e){return function(t){return(0,o.le)(t)&&(0,s.ZU)("strTrim called ["+(0,a.e)(t)+"]"),t&&t.replace&&(t=t.replace(e,n.E_)),t}}var c=u(/^\s+|(?=\s)\s+$/g),l=(0,i.At)("trim",n.Bw,c)},5703:(e,t,r)=>{"use strict";r.d(t,{Wb:()=>w,eM:()=>P,dv:()=>k});var n,i,o=r(6534),a=(0,r(2509).UC)({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),s=r(709),u=r(5450),c=r(8206),l=r(4696),d="_urid";function f(e){var t={description:(0,u.X)(e),toString:function(){return o.QT+"("+e+")"}};return t[o.V9]=!0,t}function p(e){var t=function(){if(!n){var e=(0,c.w)();n=e.gblSym=e.gblSym||{k:{},s:{}}}return n}();if(!(0,s.w)(t.k,e)){var r=f(e),i=(0,l.FY)(t.s).length;r[d]=function(){return i+"_"+r[o.sO]()},t.k[e]=r,t.s[r[d]()]=(0,u.X)(e)}return t.k[e]}var h=r(8984),m=r(6373);function g(e,t){return(0,h.d$)((function(){var r=(0,m.T)(e);return r.e?t:r.v}))}var v,y,S=r(6864);function b(){v&&v.b||(v=(0,S.p4)(o.QT),y=g((function(){return v.v?v.v.for:o.z_}),o.z_),g((function(){return v.v?v.v.keyFor:o.z_}),o.z_))}function w(e,t){var r=a[e];return!h.Z3&&(0,h.VK)(),(!v||h.Z3.lzy)&&b(),v.v?v.v[r||e]:t?o.z_:function(e){var t;!i&&(i={});var r=a[e];return r&&(t=i[r]=i[r]||f(o.QT+"."+r)),t}(e)}function P(e,t){return!h.Z3&&(0,h.VK)(),(!v||h.Z3.lzy)&&b(),v.v?v.v(e):t?o.Il:f(e)}function k(e){return!h.Z3&&(0,h.VK)(),(!y||!v||h.Z3.lzy)&&b(),(y.v||p)(e)}},7926:(e,t,r)=>{"use strict";r.d(t,{_w:()=>h,tX:()=>f,_H:()=>p});var n=r(9200),i=r(1606),o=r(6534),a=r(8877),s="ref",u="unref",c="hasRef",l="enabled";function d(e,t,r){var d=(0,i.kJ)(t),f=d?t.length:0,p=(f>0?t[0]:d?o.z_:t)||setTimeout,h=(f>1?t[1]:o.z_)||clearTimeout,m=r[0];r[0]=function(){g.dn(),(0,n.j2)(m,o.z_,o.Q1[o.D0](arguments))};var g=function(e,t,r){var i,d=!0,f=e?t(o.Il):o.Il;function p(){return d=!1,f&&f[u]&&f[u](),i}function m(){f&&function(e){(0,n.j2)(h,o.z_,[e])}(f),f=o.Il}function g(){return f=t(f),d||p(),i}return(i={cancel:m,refresh:g})[c]=function(){return f&&f[c]?f[c]():d},i[s]=function(){return d=!0,f&&f[s]&&f[s](),i},i[u]=p,{h:i=(0,a.iU)(i,l,{get:function(){return!!f},set:function(e){!e&&f&&m(),e&&!f&&g()}}),dn:function(){f=o.Il}}}(e,(function(e){if(e){if(e.refresh)return e.refresh(),e;(0,n.j2)(h,o.z_,[e])}return(0,n.j2)(p,o.z_,r)}));return g.h}function f(e,t){return d(!0,o.z_,o.Q1[o.D0](arguments))}function p(e,t,r){return d(!0,e,o.Q1[o.D0](arguments,1))}function h(e,t){return d(!1,o.z_,o.Q1[o.D0](arguments))}},725:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.oneDataSystemClientFactory=void 0,t.oneDataSystemClientFactory=async(e,t,n)=>{let i=await(async(e,t,n)=>{const i=await Promise.resolve().then((()=>o(r(8084)))),a=await Promise.resolve().then((()=>o(r(7453)))),s=new i.AppInsightsCore,u=new a.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[u]]};if(n){c.extensionConfig={};const e={alwaysUseXhrOverride:!0,httpXHROverride:n};c.extensionConfig[u.identifier]=e}const l=t.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(c,[]),s.addTelemetryInitializer((e=>{e.ext=e.ext??{},e.ext.web=e.ext.web??{},e.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',l&&(e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),s})(e,t,n);return{logEvent:(e,t)=>{try{i?.track({name:e,baseData:{name:e,properties:t?.properties,measurements:t?.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},flush:async()=>{try{return new Promise(((e,t)=>{i?i.flush(!0,(e=>{e||t("Failed to flush app 1DS!")})):e()}))}catch(e){throw new Error("Failed to flush 1DS!\n"+e.message)}},dispose:async()=>new Promise((e=>{i?i.unload(!1,(()=>{e(),i=void 0}),1e3):e()}))}}},3959:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.appInsightsClientFactory=void 0;const a=r(3238),s=r(5888);t.appInsightsClientFactory=async(e,t,n)=>{let i;try{const n=await Promise.resolve().then((()=>o(r(4843)))),s={};if(t){const e={alwaysUseXhrOverride:!0,httpXHROverride:t};s[a.BreezeChannelIdentifier]=e}i=new n.ApplicationInsights({instrumentationKey:e,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:s})}catch(e){return Promise.reject(e)}return{logEvent:(e,t)=>{const r={...t?.properties,...t?.measurements};n?.length&&s.TelemetryUtil.applyReplacements(r,n),i?.track({name:e,data:r,baseType:"EventData",baseData:{name:e,properties:t?.properties,measurements:t?.measurements}})},flush:async()=>{i?.flush(!1)},dispose:async()=>new Promise((e=>{i?.unload(!0,(()=>{e(),i=void 0}),1e3)}))}}},3456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetryReporter=void 0,t.BaseTelemetryReporter=class{constructor(e,t,r){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates((()=>{this.updateUserOptIn()}))}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendRawTelemetryEvent(e,t,r){const n={...t};for(const e of Object.keys(n??{})){const t=n[e];"string"==typeof e&&void 0!==t&&(n[e]=new this.vscodeAPI.TelemetryTrustedValue("string"==typeof t?t:t.value))}this.sendTelemetryEvent(e,n,r)}sendDangerousTelemetryEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map((e=>e.dispose())))}}},2015:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetrySender=void 0,function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"}(r||(r={})),t.BaseTelemetrySender=class{constructor(e,t){this._instantiationStatus=r.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):this._instantiationStatus!==r.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t})}sendErrorData(e,t){if(!this._telemetryClient)return void(this._instantiationStatus!==r.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t}));const n={stack:e.stack,message:e.message,name:e.name};if(t){const e=t.properties||t;t.properties={...e,...n}}else t={properties:n};this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.sendEventData(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.sendErrorData(e,t))),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===r.NOT_INSTANTIATED&&(this._instantiationStatus=r.INSTANTIATING,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=r.INSTANTIATED,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=r.INSTANTIATED})))}}},5888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryUtil=void 0;class r{static applyReplacements(e,t){for(const r of Object.keys(e))for(const n of t)n.lookup.test(r)&&(void 0!==n.replacementString?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.6"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}}t.TelemetryUtil=r},2291:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(r(2037)),s=o(r(9496)),u=o(r(5687)),c=r(3456),l=r(2015),d=r(5888),f=r(725),p=r(3959);function h(){return{sendPOST:(e,t)=>{const r={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{const n=u.request(e.urlString,r,(e=>{e.on("data",(function(r){t(e.statusCode??200,e.headers,r.toString())})),e.on("error",(function(){t(0,{})}))}));n.write(e.data,(e=>{e&&t(0,{})})),n.end()}catch{t(0,{})}}}}class m extends c.BaseTelemetryReporter{constructor(e,t){let r=e=>(0,p.appInsightsClientFactory)(e,h(),t);d.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(r=e=>(0,f.oneDataSystemClientFactory)(e,s,h()));const n={release:a.release(),platform:a.platform(),architecture:a.arch()},i=new l.BaseTelemetrySender(e,r);if(e&&0===e.indexOf("AIF-"))throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(i,s,{additionalCommonProperties:d.TelemetryUtil.getAdditionalCommonProperties(n)})}}t.default=m},8084:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppInsightsCore:()=>pe,BaseTelemetryPlugin:()=>De.i,DiagnosticLogger:()=>l.AQ,EventLatency:()=>ge,EventPersistence:()=>ye,EventPropertyType:()=>ve,EventsDiscardedReason:()=>je.h,FullVersionString:()=>U,InternalAppInsightsCore:()=>d.F,LoggingSeverity:()=>Ie,MinChannelPriorty:()=>Te,NotificationManager:()=>Ae.f,PerfEvent:()=>s.zn,PerfManager:()=>s.Jk,ProcessTelemetryContext:()=>Ee.Vi,SenderPostManager:()=>Qe.s,TraceLevel:()=>Se,Undefined:()=>k.jA,ValueKind:()=>me,ValueSanitizer:()=>Me,Version:()=>B,_InternalLogMessage:()=>l.lQ,__getRegisteredEvents:()=>Oe.um,_appendHeader:()=>xe.F3,_getAllResponseHeaders:()=>xe.Fz,_logInternalMessage:()=>l.L4,_testHookMaxUnloadHooksCb:()=>Ze.f,_throwInternal:()=>l.kP,_warnToConsole:()=>l.jV,addEventHandler:()=>Oe.Ib,addEventListeners:()=>Oe.yw,addPageHideEventListener:()=>Oe.TJ,addPageShowEventListener:()=>Oe.nD,addPageUnloadEventListener:()=>Oe.c9,areCookiesSupported:()=>$e.p7,arrForEach:()=>w.t,arrIndexOf:()=>Pe.U,arrMap:()=>Be.M,arrReduce:()=>Ue.X,attachEvent:()=>Oe.pZ,blockDynamicConversion:()=>Ge.qx,convertAllHeadersToMap:()=>xe.XE,cookieAvailable:()=>$e.p7,createCookieMgr:()=>$e.Nz,createDynamicConfig:()=>u.o,createEnumStyle:()=>he.B,createGuid:()=>re,createProcessTelemetryContext:()=>Ee.CD,createTraceParent:()=>He.SU,createUniqueNamespace:()=>Ke.J,createUnloadHandlerContainer:()=>Je.Y,dateNow:()=>Ve.G,detachEvent:()=>Oe.pD,disallowsSameSiteNone:()=>$e.UY,doPerf:()=>s.Lm,dumpObj:()=>c.e,eventOff:()=>Oe.QY,eventOn:()=>Oe.XO,extend:()=>ne,findW3cTraceParent:()=>He.lq,forceDynamicConversion:()=>Ge.sP,formatErrorMessageXdr:()=>xe.Np,formatErrorMessageXhr:()=>xe.An,formatTraceParent:()=>He.aR,generateW3CId:()=>S.DO,getCommonSchemaMetaData:()=>ee,getConsole:()=>y.dr,getCookieValue:()=>te,getCrypto:()=>y.MX,getDocument:()=>g.Me,getDynamicConfigHandler:()=>Ge.Rw,getExceptionName:()=>xe.jj,getFieldValueType:()=>ue,getGlobal:()=>We.Rd,getGlobalInst:()=>g.vs,getHistory:()=>g.s1,getIEVersion:()=>y.sA,getISOString:()=>xe.Y6,getJSON:()=>y.xA,getLocation:()=>y.k$,getMsCrypto:()=>y.gz,getNavigator:()=>g.jW,getPerformance:()=>P.r,getResponseText:()=>xe.tV,getSetValue:()=>xe.qK,getTenantId:()=>Q,getTime:()=>ie,getWindow:()=>g.Jj,hasDocument:()=>g.Nv,hasHistory:()=>g.fE,hasJSON:()=>y.nS,hasNavigator:()=>g.d6,hasOwnProperty:()=>Re.a,hasWindow:()=>g.Ym,isArray:()=>v.kJ,isArrayValid:()=>ae,isBeaconsSupported:()=>y.MF,isBoolean:()=>v.jn,isChromium:()=>ce,isDate:()=>v.J_,isDocumentObjectAvailable:()=>J,isError:()=>v.VZ,isFetchSupported:()=>y.JO,isFunction:()=>v.mf,isGreaterThanZero:()=>de,isIE:()=>y.w1,isLatency:()=>Z,isNotTruthy:()=>v.F,isNullOrUndefined:()=>v.le,isNumber:()=>v.hj,isObject:()=>v.Kn,isReactNative:()=>y.b$,isSampledFlag:()=>He.Pn,isString:()=>v.HD,isTruthy:()=>v.fQ,isTypeof:()=>v.Ym,isUint8ArrayAvailable:()=>X,isUndefined:()=>v.o8,isValidSpanId:()=>He.Lc,isValidTraceId:()=>He.jN,isValidTraceParent:()=>He.J6,isValueAssigned:()=>G,isValueKind:()=>oe,isWindowObjectAvailable:()=>H,isXhrSupported:()=>y.Z3,mergeEvtNamespace:()=>Oe.jU,newGuid:()=>S.GW,newId:()=>qe.pZ,normalizeJsName:()=>xe.Gf,objDefineAccessors:()=>ze.l_,objForEachKey:()=>b.r,objFreeze:()=>f.FL,objKeys:()=>f.FY,objSeal:()=>f.Xi,onConfigChange:()=>u.k,openXhr:()=>le,optimizeObject:()=>xe.Ax,parseResponse:()=>Xe.L,parseTraceParent:()=>He.j_,perfNow:()=>P.Jj,prependTransports:()=>xe.fM,proxyAssign:()=>xe.cf,proxyFunctionAs:()=>xe.Oi,proxyFunctions:()=>xe.Vb,random32:()=>qe._l,randomValue:()=>qe.az,removeEventHandler:()=>Oe.C1,removeEventListeners:()=>Oe.nJ,removePageHideEventListener:()=>Oe.C9,removePageShowEventListener:()=>Oe.Yl,removePageUnloadEventListener:()=>Oe.JA,safeGetCookieMgr:()=>$e.JP,safeGetLogger:()=>l.vH,sanitizeProperty:()=>Y,setEnableEnvMocks:()=>y.dI,setProcessTelemetryTimings:()=>se,setValue:()=>xe.sO,strContains:()=>xe._Q,strEndsWith:()=>Le.I,strFunction:()=>k.cb,strObject:()=>k.fK,strPrototype:()=>k.hB,strStartsWith:()=>Ne.x,strTrim:()=>Fe.nd,strUndefined:()=>k.jA,throwError:()=>a._y,toISOString:()=>xe.Y6,useXDomainRequest:()=>y.cp});var n,i=r(2012),o=r(7862),a=r(6326),s=r(7019),u=r(3128),c=r(6028),l=r(8942),d=r(8545),f=r(4696),p="",h="version",m="properties",g=r(6864),v=r(1606),y=r(9233),S=r(9187),b=r(7158),w=r(636),P=r(2033),k=r(3107),_=r(862),C=r(9991),M="initialize",T="logger",I="indexOf",A="timings",D="pollInternalLogs",E="value",j="kind",R="length",O="processTelemetryStart",x="handleField",N="rmSanitizer",L="rmFieldSanitizer",F="canHandle",B="4.1.2",U="1DS-Web-JS-"+B,z=k.V4.hasOwnProperty,V="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",q="withCredentials",W="timeout",$=((n={})[0]=0,n[2]=6,n[1]=1,n[3]=7,n[4098]=6,n[4097]=1,n[4099]=7,n),K=null,J=(0,g.Nv)(),H=(0,g.Ym)();function G(e){return!(e===p||(0,v.le)(e))}function Q(e){if(e){var t=(0,_.M)(e,"-");if(t>-1)return(0,C.lH)(e,t)}return p}function X(){return null===K&&(K=!(0,v.o8)(Uint8Array)&&!function(){var e=(0,g.jW)();if(!(0,v.o8)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t[I]("safari")>=0||t[I]("firefox")>=0)&&t[I]("chrome")<0)return!0}return!1}()&&!(0,y.b$)()),K}function Z(e){return!!(e&&(0,v.hj)(e)&&e>=1&&e<=4)}function Y(e,t,r){if(!t&&!G(t)||"string"!=typeof e)return null;var n=typeof t;if("string"===n||"number"===n||"boolean"===n||(0,v.kJ)(t))t={value:t};else if("object"!==n||z.call(t,"value")){if((0,v.le)(t[E])||t[E]===p||!(0,v.HD)(t[E])&&!(0,v.hj)(t[E])&&!(0,v.jn)(t[E])&&!(0,v.kJ)(t[E]))return null}else t={value:r?JSON.stringify(t):t};if((0,v.kJ)(t[E])&&!ae(t[E]))return null;if(!(0,v.le)(t[j])){if((0,v.kJ)(t[E])||!oe(t[j]))return null;t[E]=t[E].toString()}return t}function ee(e,t,r){var n=-1;if(!(0,v.o8)(e))if(t>0&&(32===t?n=8192:t<=13&&(n=t<<5)),function(e){return e>=0&&e<=9}(r))-1===n&&(n=0),n|=r;else{var i=$[ue(e)]||-1;-1!==n&&-1!==i?n|=i:6===i&&(n=i)}return n}function te(e,t,r){var n;return void 0===r&&(r=!0),e&&(n=e.get(t),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||p}function re(e){void 0===e&&(e="D");var t=(0,S.GW)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,p)),t}function ne(e,t,r,n,i){var o={},a=!1,s=0,u=arguments[R],c=arguments;for((0,v.jn)(c[0])&&(a=c[0],s++);s<u;s++)e=c[s],(0,b.r)(e,(function(e,t){a&&t&&(0,v.Kn)(t)?(0,v.kJ)(t)?(o[e]=o[e]||[],(0,w.t)(t,(function(t,r){t&&(0,v.Kn)(t)?o[e][r]=ne(!0,o[e][r],t):o[e][r]=t}))):o[e]=ne(!0,o[e],t):o[e]=t}));return o}var ie=P.Jj;function oe(e){return 0===e||e>0&&e<=13||32===e}function ae(e){return e[R]>0}function se(e,t){var r=e;r[A]=r[A]||{},r[A][O]=r[A][O]||{},r[A][O][t]=ie()}function ue(e){var t=0;if(null!=e){var r=typeof e;"string"===r?t=1:"number"===r?t=2:"boolean"===r?t=3:r===k.fK&&(t=4,(0,v.kJ)(e)?(t=4096,e[R]>0&&(t|=ue(e[0]))):z.call(e,"value")&&(t=8192|ue(e[E])))}return t}function ce(){return!!(0,g.vs)("chrome")}function le(e,t,r,n,i,o){function a(e,t,r){try{e[t]=r}catch(e){}}void 0===n&&(n=!1),void 0===i&&(i=!1);var s=new XMLHttpRequest;return n&&a(s,V,n),r&&a(s,q,r),s.open(e,t,!i),r&&a(s,q,r),!i&&o&&a(s,W,o),s}function de(e){return e>0}var fe=(0,f.He)({endpointUrl:"https://browser.events.data.microsoft.com/OneCollector/1.0/",propertyStorageOverride:{isVal:function(e){return!e||e.getProperty&&e.setProperty||(0,a._y)("Invalid property storage override passed."),!0}}}),pe=function(e){function t(){var r=e.call(this)||this;return(0,o.Z)(t,r,(function(e,t){e[M]=function(r,n,i,o){(0,s.Lm)(e,(function(){return"AppInsightsCore.initialize"}),(function(){try{t[M]((0,u.o)(r,fe,i||e[T],!1).cfg,n,i,o)}catch(t){var a=e[T],s=(0,c.e)(t);-1!==s[I]("channels")&&(s+="\n - Channels must be provided through config.channels only!"),(0,l.kP)(a,1,514,"SDK Initialization Failed - no telemetry will be sent: "+s)}}),(function(){return{config:r,extensions:n,logger:i,notificationManager:o}}))},e.track=function(r){(0,s.Lm)(e,(function(){return"AppInsightsCore.track"}),(function(){var n=r;if(n){n[A]=n[A]||{},n[A].trackStart=ie(),Z(n.latency)||(n.latency=1);var i=n.ext=n.ext||{};i.sdk=i.sdk||{},i.sdk.ver=U;var o=n.baseData=n.baseData||{};o[m]=o[m]||{};var a=o[m];a[h]=a[h]||e.pluginVersionString||p}t.track(n)}),(function(){return{item:r}}),!r.sync)},e[D]=function(e){return t[D](e||"InternalLog")}})),r}return(0,i.ne)(t,e),t.__ieDyn=1,t}(d.F),he=r(488),me=(0,he.B)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),ge=(0,he.B)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),ve=(0,he.B)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),ye=(0,he.B)({Normal:1,Critical:2}),Se=(0,he.B)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),be=r(6534),we=r(22),Pe=r(9337);function ke(e,t,r){return-1!==(0,Pe.U)(e,t,r)}var _e=(0,we.At)("includes",be.dw,ke),Ce=r(9728),Me=function(){function e(e){var t=this,r={},n=[],i=[];function o(e,t){var o,a=r[e];if(a&&(o=a[t]),!o&&null!==o){if((0,v.HD)(e)&&(0,v.HD)(t))if(i[R]>0){for(var s=0;s<i[R];s++)if(i[s][x](e,t)){o={canHandle:!0,fieldHandler:i[s]};break}}else 0===n[R]&&(o={canHandle:!0});if(!o&&null!==o)for(o=null,s=0;s<n[R];s++)if(n[s][x](e,t)){o={canHandle:!0,handler:n[s],fieldHandler:null};break}a||(a=r[e]={}),a[t]=o}return o}function a(e,t,r,n,i,o){if(e.handler)return e.handler.property(t,r,i,o);if(!(0,v.le)(i[j])){if(4096==(4096&n)||!oe(i[j]))return null;i[E]=i[E].toString()}return u(e.fieldHandler,t,r,n,i)}function s(e,t,r){return G(r)?{value:r}:null}function u(e,r,n,i,o){if(o&&e){var a=e.getSanitizer(r,n,i,o[j],o.propertyType);if(a)if(4===i){var c={},l=o[E];(0,b.r)(l,(function(t,i){var o=r+"."+n;if(G(i)){var a=s(0,0,i);(a=u(e,o,t,ue(i),a))&&(c[t]=a[E])}})),o[E]=c}else{var d={path:r,name:n,type:i,prop:o,sanitizer:t};o=a.call(t,d)}}return o}e&&i.push(e),t.clearCache=function(){r={}},t.addSanitizer=function(e){e&&(_e(n,e)||n.push(e),r={})},t.addFieldSanitizer=function(e){e&&(_e(i,e)||i.push(e),r={})},t[N]=function(e){if(e){var t=(0,Pe.U)(n,e);-1!==t&&(n.splice(t,1),r={}),(0,w.t)(n,(function(t){t&&t[N]&&t[N](e)}))}},t[L]=function(e){if(e){var t=(0,Pe.U)(i,e);-1!==t&&(i.splice(t,1),r={}),(0,w.t)(n,(function(t){t&&t[L]&&t[L](e)}))}},t.isEmpty=function(){return(0,Ce.x)(n)+(0,Ce.x)(i)===0},t[x]=function(e,t){var r=o(e,t);return!!r&&r[F]},t[E]=function(e,t,r,n){var i=o(e,t);if(i&&i[F]){if(!i||!i[F])return null;if(i.handler)return i.handler[E](e,t,r,n);if(!(0,v.HD)(t)||(0,v.le)(r)||r===p)return null;var u=null,c=ue(r);if(8192==(8192&c)){var l=-8193&c;if(!G((u=r)[E])||1!==l&&2!==l&&3!==l&&4096!=(4096&l))return null}else 1===c||2===c||3===c||4096==(4096&c)?u=s(0,0,r):4===c&&(u=s(0,0,n?JSON.stringify(r):r));if(u)return a(i,e,t,c,u,n)}return null},t.property=function(e,t,r,n){var i=o(e,t);if(!i||!i[F])return null;if(!(0,v.HD)(t)||(0,v.le)(r)||!G(r[E]))return null;var s=ue(r[E]);return 0===s?null:a(i,e,t,s,r,n)}}return e.getFieldType=ue,e}(),Te=100,Ie=(0,he.B)({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),Ae=r(1016),De=r(8264),Ee=r(8570),je=r(3657),Re=r(6293),Oe=r(3668),xe=r(8769),Ne=r(6556),Le=r(8714),Fe=r(3710),Be=r(4962),Ue=r(3942),ze=r(8877),Ve=r(4468),qe=r(5778),We=r(8363),$e=r(2450),Ke=r(3831),Je=r(6096),He=r(3866),Ge=r(388),Qe=r(8224),Xe=r(7781),Ze=r(9925)},579:(e,t,r)=>{"use strict";var n=r(9134),i=[];function o(){this.task=null,this.domain=null}e.exports=function(e){var t;(t=i.length?i.pop():new o).task=e,t.domain=process.domain,n(t)},o.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&n.requestFlush(),this.task=null,this.domain=null,i.push(this)}}},9134:(e,t,r)=>{"use strict";var n,i="function"==typeof setImmediate;function o(e){a.length||(d(),s=!0),a[a.length]=e}e.exports=o;var a=[],s=!1,u=0,c=1024;function l(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>c){for(var t=0,r=a.length-u;t<r;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function d(){var e=process.domain;e&&(n||(n=r(3639)),n.active=process.domain=null),s&&i?setImmediate(l):process.nextTick(l),e&&(n.active=process.domain=e)}o.requestFlush=d},4017:(e,t)=>{"use strict";class r{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(void 0===e)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise(((e,t)=>{this.tasks.push((()=>{var t=!1;e((()=>{t||(t=!0,this.count++,this.sched())}))})),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))}))}use(e){return this.acquire().then((t=>e().then((e=>(t(),e))).catch((e=>{throw t(),e}))))}}t.Semaphore=r,t.Mutex=class extends r{constructor(){super(1)}}},144:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(){},o=function(){function e(e,t){this._isCancelled=e,this.canBeCancelled=t,this._callbacks=new Set}return Object.defineProperty(e.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!1,configurable:!0}),e.prototype.racePromise=function(t){var r=this;return this.canBeCancelled?new Promise((function(n,i){var o=r.onCancelled((function(t){return i(new e.CancellationError(t))}));t.then((function(e){n(e),o()}),(function(e){i(e),o()}))})):t},e.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new e.CancellationError(this._reason)},e.prototype.onCancelled=function(e){var t,r=this;return this.canBeCancelled?this.isCancelled?(e(this.reason),i):(null===(t=this._callbacks)||void 0===t||t.add(e),function(){var t;return null===(t=r._callbacks)||void 0===t?void 0:t.delete(e)}):i},e.create=function(){var t=new e(!1,!0);return{token:t,cancel:function(e){var r;t._isCancelled||(t._isCancelled=!0,t._reason=e,null===(r=t._callbacks)||void 0===r||r.forEach((function(t){return t(e)})),delete t._callbacks)}}},e.timeout=function(t){var r=e.create(),n=r.token,i=r.cancel,o=setTimeout((function(){return i(e.timeout)}),t);return{token:n,cancel:function(e){n._isCancelled||(clearTimeout(o),i(e))}}},e.all=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.some((function(e){return!e.canBeCancelled})))return e.CONTINUE;var n=e.create(),i=t.length,o=function(){if(0==--i){var e=t.map((function(e){return e._reason}));n.cancel(e)}};return t.forEach((function(e){return e.onCancelled(o)})),n.token},e.race=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o._isCancelled)return o}var a,s=e.create(),u=function(e){a.forEach((function(e){return e()})),s.cancel(e)};return a=t.map((function(e){return e.onCancelled(u)})),s.token},e.CANCELLED=new e(!0,!0),e.CONTINUE=new e(!1,!1),e}();!function(e){var t=function(e){function t(r){var n=e.call(this,"Operation cancelled")||this;return n.reason=r,Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(Error);e.CancellationError=t}(o||(o={})),t.default=o},9593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(144);t.default=n.default},5458:e=>{"use strict";var t;e.exports=(t=()=>{},e=>(e.catch(t),e))},3258:e=>{!function(t){e.exports=t;var r="listeners",n={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,a(r,e).push(n),r;function n(){o.call(r,e,n),t.apply(this,arguments)}},off:o,emit:function(e,t){var r=this,n=a(r,e,!0);if(!n)return!1;var i=arguments.length;if(1===i)n.forEach((function(e){e.call(r)}));else if(2===i)n.forEach((function(e){e.call(r,t)}));else{var o=Array.prototype.slice.call(arguments,1);n.forEach((function(e){e.apply(r,o)}))}return!!n.length}};function i(e){for(var t in n)e[t]=n[t];return e}function o(e,t){var n,i=this;if(arguments.length){if(t){if(n=a(i,e,!0)){if(!(n=n.filter((function(e){return e!==t&&e.originalListener!==t}))).length)return o.call(i,e);i[r][e]=n}}else if((n=i[r])&&(delete n[e],!Object.keys(n).length))return o.call(i)}else delete i[r];return i}function a(e,t,n){if(!n||e[r]){var i=e[r]||(e[r]={});return i[t]||(i[t]=[])}}i(t.prototype),t.mixin=i}((function e(){if(!(this instanceof e))return new e}))},645:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*m}},5369:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Collection:()=>C,Iterable:()=>In,List:()=>ur,Map:()=>Ft,OrderedMap:()=>Pr,OrderedSet:()=>ln,PairSorting:()=>mn,Range:()=>Kr,Record:()=>gn,Repeat:()=>kn,Seq:()=>X,Set:()=>Br,Stack:()=>Ir,default:()=>An,fromJS:()=>_n,get:()=>ut,getIn:()=>Jr,has:()=>st,hasIn:()=>Gr,hash:()=>ve,is:()=>pe,isAssociative:()=>_,isCollection:()=>S,isImmutable:()=>R,isIndexed:()=>k,isKeyed:()=>w,isList:()=>sr,isMap:()=>le,isOrdered:()=>x,isOrderedMap:()=>de,isOrderedSet:()=>xr,isPlainObject:()=>it,isRecord:()=>j,isSeq:()=>D,isSet:()=>Or,isStack:()=>Tr,isValueObject:()=>fe,merge:()=>_t,mergeDeep:()=>Mt,mergeDeepWith:()=>Tt,mergeWith:()=>Ct,remove:()=>lt,removeIn:()=>gt,set:()=>dt,setIn:()=>ht,update:()=>yt,updateIn:()=>ft,version:()=>Tn});var n="delete",i=5,o=1<<i,a=o-1,s={};function u(e){e&&(e.value=!0)}function c(){}function l(e){return void 0===e.size&&(e.size=e.__iterate(f)),e.size}function d(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?l(e)+t:t}function f(){return!0}function p(e,t,r){return(0===e&&!v(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function h(e,t){return g(e,t,0)}function m(e,t){return g(e,t,t)}function g(e,t,r){return void 0===e?r:v(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function v(e){return e<0||0===e&&1/e==-1/0}var y="@@__IMMUTABLE_ITERABLE__@@";function S(e){return Boolean(e&&e[y])}var b="@@__IMMUTABLE_KEYED__@@";function w(e){return Boolean(e&&e[b])}var P="@@__IMMUTABLE_INDEXED__@@";function k(e){return Boolean(e&&e[P])}function _(e){return w(e)||k(e)}var C=function(e){return S(e)?e:X(e)},M=function(e){function t(e){return w(e)?e:Z(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(C),T=function(e){function t(e){return k(e)?e:Y(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(C),I=function(e){function t(e){return S(e)&&!_(e)?e:ee(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(C);C.Keyed=M,C.Indexed=T,C.Set=I;var A="@@__IMMUTABLE_SEQ__@@";function D(e){return Boolean(e&&e[A])}var E="@@__IMMUTABLE_RECORD__@@";function j(e){return Boolean(e&&e[E])}function R(e){return S(e)||j(e)}var O="@@__IMMUTABLE_ORDERED__@@";function x(e){return Boolean(e&&e[O])}var N=0,L=1,F=2,B="function"==typeof Symbol&&Symbol.iterator,U="@@iterator",z=B||U,V=function(e){this.next=e};function q(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function W(){return{value:void 0,done:!0}}function $(e){return!!Array.isArray(e)||!!H(e)}function K(e){return e&&"function"==typeof e.next}function J(e){var t=H(e);return t&&t.call(e)}function H(e){var t=e&&(B&&e[B]||e[U]);if("function"==typeof t)return t}V.prototype.toString=function(){return"[Iterator]"},V.KEYS=N,V.VALUES=L,V.ENTRIES=F,V.prototype.inspect=V.prototype.toSource=function(){return this.toString()},V.prototype[z]=function(){return this};var G=Object.prototype.hasOwnProperty;function Q(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var X=function(e){function t(e){return null==e?oe():R(e)?e.toSeq():function(e){var t,r,n=ue(e);if(n)return(r=H(t=e))&&r===t.entries?n.fromEntrySeq():function(e){var t=H(e);return t&&t===e.keys}(e)?n.toSetSeq():n;if("object"==typeof e)return new re(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[t?n-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,i=0;return new V((function(){if(i===n)return{value:void 0,done:!0};var o=r[t?n-++i:i++];return q(e,o[0],o[1])}))}return this.__iteratorUncached(e,t)},t}(C),Z=function(e){function t(e){return null==e?oe().toKeyedSeq():S(e)?w(e)?e.toSeq():e.fromEntrySeq():j(e)?e.toSeq():ae(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(X),Y=function(e){function t(e){return null==e?oe():S(e)?w(e)?e.entrySeq():e.toIndexedSeq():j(e)?e.toSeq().entrySeq():se(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(X),ee=function(e){function t(e){return(S(e)&&!_(e)?e:Y(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(X);X.isSeq=D,X.Keyed=Z,X.Set=ee,X.Indexed=Y,X.prototype[A]=!0;var te=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[d(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,i=0;i!==n;){var o=t?n-++i:i++;if(!1===e(r[o],o,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,i=0;return new V((function(){if(i===n)return{value:void 0,done:!0};var o=t?n-++i:i++;return q(e,o,r[o])}))},t}(Y),re=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return G.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var a=n[t?i-++o:o++];if(!1===e(r[a],a,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length,o=0;return new V((function(){if(o===i)return{value:void 0,done:!0};var a=n[t?i-++o:o++];return q(e,a,r[a])}))},t}(Z);re.prototype[O]=!0;var ne,ie=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=J(this._collection),n=0;if(K(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=J(this._collection);if(!K(r))return new V(W);var n=0;return new V((function(){var t=r.next();return t.done?t:q(e,n++,t.value)}))},t}(Y);function oe(){return ne||(ne=new te([]))}function ae(e){var t=ue(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new re(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function se(e){var t=ue(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ue(e){return Q(e)?new te(e):$(e)?new ie(e):void 0}var ce="@@__IMMUTABLE_MAP__@@";function le(e){return Boolean(e&&e[ce])}function de(e){return le(e)&&x(e)}function fe(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function pe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(fe(e)&&fe(t)&&e.equals(t))}var he="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function me(e){return e>>>1&1073741824|3221225471&e}var ge=Object.prototype.valueOf;function ve(e){if(null==e)return ye(e);if("function"==typeof e.hashCode)return me(e.hashCode(e));var t,r,n,i=(t=e).valueOf!==ge&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==i)return ye(i);switch(typeof i){case"boolean":return i?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return me(t)}(i);case"string":return i.length>Ie?(void 0===(n=Ee[r=i])&&(n=Se(r),De===Ae&&(De=0,Ee={}),De++,Ee[r]=n),n):Se(i);case"object":case"function":return function(e){var t;if(_e&&void 0!==(t=ke.get(e)))return t;if(void 0!==(t=e[Te]))return t;if(!we){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Te]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=Pe(),_e)ke.set(e,t);else{if(void 0!==be&&!1===be(e))throw new Error("Non-extensible objects are not allowed as keys.");if(we)Object.defineProperty(e,Te,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Te]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Te]=t}}return t}(i);case"symbol":return function(e){var t=Ce[e];return void 0!==t||(t=Pe(),Ce[e]=t),t}(i);default:if("function"==typeof i.toString)return Se(i.toString());throw new Error("Value type "+typeof i+" cannot be hashed.")}}function ye(e){return null===e?1108378658:1108378659}function Se(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return me(t)}var be=Object.isExtensible,we=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Pe(){var e=++Me;return 1073741824&Me&&(Me=0),e}var ke,_e="function"==typeof WeakMap;_e&&(ke=new WeakMap);var Ce=Object.create(null),Me=0,Te="__immutablehash__";"function"==typeof Symbol&&(Te=Symbol(Te));var Ie=16,Ae=255,De=0,Ee={},je=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Fe(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=Le(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Z);je.prototype[O]=!0;var Re=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&l(this),this._iter.__iterate((function(i){return e(i,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(L,t),i=0;return t&&l(this),new V((function(){var o=n.next();return o.done?o:q(e,t?r.size-++i:i++,o.value,o)}))},t}(Y),Oe=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t);return new V((function(){var t=r.next();return t.done?t:q(e,t.value,t.value,t)}))},t}(ee),xe=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){He(t);var n=S(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t);return new V((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){He(n);var i=S(n);return q(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}}))},t}(Z);function Ne(e){var t=Qe(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Xe,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===F){var n=e.__iterator(t,r);return new V((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===L?N:L,r)},t}function Le(e,t,r){var n=Qe(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var o=e.get(n,s);return o===s?i:t.call(r,o,n,e)},n.__iterateUncached=function(n,i){var o=this;return e.__iterate((function(e,i,a){return!1!==n(t.call(r,e,i,a),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=e.__iterator(F,i);return new V((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return q(n,s,t.call(r,a[1],s,e),i)}))},n}function Fe(e,t){var r=this,n=Qe(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Ne(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=Xe,n.__iterate=function(r,n){var i=this,o=0;return n&&l(e),e.__iterate((function(e,a){return r(e,t?a:n?i.size-++o:o++,i)}),!n)},n.__iterator=function(n,i){var o=0;i&&l(e);var a=e.__iterator(F,!i);return new V((function(){var e=a.next();if(e.done)return e;var s=e.value;return q(n,t?s[0]:i?r.size-++o:o++,s[1],e)}))},n}function Be(e,t,r,n){var i=Qe(e);return n&&(i.has=function(n){var i=e.get(n,s);return i!==s&&!!t.call(r,i,n,e)},i.get=function(n,i){var o=e.get(n,s);return o!==s&&t.call(r,o,n,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,u){if(t.call(r,e,o,u))return s++,i(e,n?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(F,o),s=0;return new V((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(t.call(r,l,c,e))return q(i,n?c:s++,l,o)}}))},i}function Ue(e,t,r,n){var i=e.size;if(p(t,r,i))return e;var o=h(t,i),a=m(r,i);if(o!=o||a!=a)return Ue(e.toSeq().cacheResult(),t,r,n);var s,u=a-o;u==u&&(s=u<0?0:u);var c=Qe(e);return c.size=0===s?s:e.size&&s||void 0,!n&&D(e)&&s>=0&&(c.get=function(t,r){return(t=d(this,t))>=0&&t<s?e.get(t+o,r):r}),c.__iterateUncached=function(t,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,u=!0,c=0;return e.__iterate((function(e,r){if(!u||!(u=a++<o))return c++,!1!==t(e,n?r:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);if(0===s)return new V(W);var i=e.__iterator(t,r),a=0,u=0;return new V((function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var e=i.next();return n||t===L||e.done?e:q(t,u-1,t===N?void 0:e.value[1],e)}))},c}function ze(e,t,r,n){var i=Qe(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return e.__iterate((function(e,o,c){if(!s||!(s=t.call(r,e,o,c)))return u++,i(e,n?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(F,o),u=!0,c=0;return new V((function(){var e,o,l;do{if((e=s.next()).done)return n||i===L?e:q(i,c++,i===N?void 0:e.value[1],e);var d=e.value;o=d[0],l=d[1],u&&(u=t.call(r,l,o,a))}while(u);return i===F?e:q(i,o,l,e)}))},i}function Ve(e,t,r){var n=Qe(e);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;return function e(u,c){u.__iterate((function(o,u){return(!t||c<t)&&S(o)?e(o,c+1):(a++,!1===i(o,r?u:a-1,n)&&(s=!0)),!s}),o)}(e,0),a},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=e.__iterator(n,i),a=[],s=0;return new V((function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(n===F&&(u=u[1]),t&&!(a.length<t)||!S(u))return r?e:q(n,s++,u,e);a.push(o),o=u.__iterator(n,i)}else o=a.pop()}return{value:void 0,done:!0}}))},n}function qe(e,t,r){t||(t=Ze);var n=w(e),i=0,o=e.toSeq().map((function(t,n){return[n,t,i++,r?r(t,n,e):t]})).valueSeq().toArray();return o.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),n?Z(o):k(e)?Y(o):ee(o)}function We(e,t,r){if(t||(t=Ze),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return $e(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return $e(t,e,r)?r:e}))}function $e(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function Ke(e,t,r,n){var i=Qe(e),o=new te(r).map((function(e){return e.size}));return i.size=n?o.max():o.min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(L,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=C(e),J(i?e.reverse():e)})),a=0,s=!1;return new V((function(){var r;return s||(r=o.map((function(e){return e.next()})),s=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),s?{value:void 0,done:!0}:q(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},i}function Je(e,t){return e===t?e:D(e)?t:e.constructor(t)}function He(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ge(e){return w(e)?M:k(e)?T:I}function Qe(e){return Object.create((w(e)?Z:k(e)?Y:ee).prototype)}function Xe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):X.prototype.cacheResult.call(this)}function Ze(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Ye(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function et(e,t){if(!e)throw new Error(t)}function tt(e){et(e!==1/0,"Cannot perform this action with an infinite size.")}function rt(e){if(Q(e)&&"string"!=typeof e)return e;if(x(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}Re.prototype.cacheResult=je.prototype.cacheResult=Oe.prototype.cacheResult=xe.prototype.cacheResult=Xe;var nt=Object.prototype.toString;function it(e){if(!e||"object"!=typeof e||"[object Object]"!==nt.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}function ot(e){return"object"==typeof e&&(R(e)||Array.isArray(e)||it(e))}function at(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function st(e,t){return R(e)?e.has(t):ot(e)&&G.call(e,t)}function ut(e,t,r){return R(e)?e.get(t,r):st(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function ct(e){if(Array.isArray(e))return Ye(e);var t={};for(var r in e)G.call(e,r)&&(t[r]=e[r]);return t}function lt(e,t){if(!ot(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(R(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!G.call(e,t))return e;var r=ct(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function dt(e,t,r){if(!ot(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(R(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(G.call(e,t)&&r===e[t])return e;var n=ct(e);return n[t]=r,n}function ft(e,t,r,n){n||(n=r,r=void 0);var i=pt(R(e),e,rt(t),0,r,n);return i===s?r:i}function pt(e,t,r,n,i,o){var a=t===s;if(n===r.length){var u=a?i:t,c=o(u);return c===u?t:c}if(!a&&!ot(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(at)+"]: "+t);var l=r[n],d=a?s:ut(t,l,s),f=pt(d===s?e:R(d),d,r,n+1,i,o);return f===d?t:f===s?lt(t,l):dt(a?e?Qt():{}:t,l,f)}function ht(e,t,r){return ft(e,t,s,(function(){return r}))}function mt(e,t){return ht(this,e,t)}function gt(e,t){return ft(e,t,(function(){return s}))}function vt(e){return gt(this,e)}function yt(e,t,r,n){return ft(e,[t],r,n)}function St(e,t,r){return 1===arguments.length?e(this):yt(this,e,t,r)}function bt(e,t,r){return ft(this,e,t,r)}function wt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return kt(this,e)}function Pt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return kt(this,t,e)}function kt(e,t,r){for(var n=[],i=0;i<t.length;i++){var o=M(t[i]);0!==o.size&&n.push(o)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){yt(e,n,s,(function(e){return e===s?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},i=0;i<n.length;i++)n[i].forEach(t)})):e.constructor(n[0])}function _t(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return At(e,t)}function Ct(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return At(t,r,e)}function Mt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return It(e,t)}function Tt(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return It(t,r,e)}function It(e,t,r){return At(e,t,function(e){return function t(r,n,i){return ot(r)&&ot(n)&&(o=n,a=X(r),s=X(o),k(a)===k(s)&&w(a)===w(s))?At(r,[n],t):e?e(r,n,i):n;var o,a,s}}(r))}function At(e,t,r){if(!ot(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(R(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,o=n?T:M,a=n?function(t){i===e&&(i=ct(i)),i.push(t)}:function(t,n){var o=G.call(i,n),a=o&&r?r(i[n],t,n):t;o&&a===i[n]||(i===e&&(i=ct(i)),i[n]=a)},s=0;s<t.length;s++)o(t[s]).forEach(a);return i}function Dt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return It(this,e)}function Et(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return It(this,t,e)}function jt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return ft(this,e,Qt(),(function(e){return At(e,t)}))}function Rt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return ft(this,e,Qt(),(function(e){return It(e,t)}))}function Ot(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function xt(){return this.__ownerID?this:this.__ensureOwner(new c)}function Nt(){return this.__ensureOwner()}function Lt(){return this.__altered}var Ft=function(e){function t(t){return null==t?Qt():le(t)&&!x(t)?t:Qt().withMutations((function(r){var n=e(t);tt(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Qt().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Xt(this,e,t)},t.prototype.remove=function(e){return Xt(this,e,s)},t.prototype.deleteAll=function(e){var t=C(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qt()},t.prototype.sort=function(e){return Pr(qe(this,e))},t.prototype.sortBy=function(e,t){return Pr(qe(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(i,o){n.set(o,e.call(t,i,o,r))}))}))},t.prototype.__iterator=function(e,t){return new Kt(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Gt(this.size,this._root,e,this.__hash):0===this.size?Qt():(this.__ownerID=e,this.__altered=!1,this)},t}(M);Ft.isMap=le;var Bt=Ft.prototype;Bt[ce]=!0,Bt[n]=Bt.remove,Bt.removeAll=Bt.deleteAll,Bt.setIn=mt,Bt.removeIn=Bt.deleteIn=vt,Bt.update=St,Bt.updateIn=bt,Bt.merge=Bt.concat=wt,Bt.mergeWith=Pt,Bt.mergeDeep=Dt,Bt.mergeDeepWith=Et,Bt.mergeIn=jt,Bt.mergeDeepIn=Rt,Bt.withMutations=Ot,Bt.wasAltered=Lt,Bt.asImmutable=Nt,Bt["@@transducer/init"]=Bt.asMutable=xt,Bt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Bt["@@transducer/result"]=function(e){return e.asImmutable()};var Ut=function(e,t){this.ownerID=e,this.entries=t};Ut.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(pe(r,i[o][0]))return i[o][1];return n},Ut.prototype.update=function(e,t,r,n,i,o,a){for(var l=i===s,d=this.entries,f=0,p=d.length;f<p&&!pe(n,d[f][0]);f++);var h=f<p;if(h?d[f][1]===i:l)return this;if(u(a),(l||!h)&&u(o),!l||1!==d.length){if(!h&&!l&&d.length>=nr)return function(e,t,r,n){e||(e=new c);for(var i=new Wt(e,ve(r),[r,n]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,d,n,i);var m=e&&e===this.ownerID,g=m?d:Ye(d);return h?l?f===p-1?g.pop():g[f]=g.pop():g[f]=[n,i]:g.push([n,i]),m?(this.entries=g,this):new Ut(e,g)}};var zt=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};zt.prototype.get=function(e,t,r,n){void 0===t&&(t=ve(r));var o=1<<((0===e?t:t>>>e)&a),s=this.bitmap;return 0==(s&o)?n:this.nodes[tr(s&o-1)].get(e+i,t,r,n)},zt.prototype.update=function(e,t,r,n,u,c,l){void 0===r&&(r=ve(n));var d=(0===t?r:r>>>t)&a,f=1<<d,p=this.bitmap,h=0!=(p&f);if(!h&&u===s)return this;var m=tr(p&f-1),g=this.nodes,v=h?g[m]:void 0,y=Zt(v,e,t+i,r,n,u,c,l);if(y===v)return this;if(!h&&y&&g.length>=ir)return function(e,t,r,n,i){for(var a=0,s=new Array(o),u=0;0!==r;u++,r>>>=1)s[u]=1&r?t[a++]:void 0;return s[n]=i,new Vt(e,a+1,s)}(e,g,p,d,y);if(h&&!y&&2===g.length&&Yt(g[1^m]))return g[1^m];if(h&&y&&1===g.length&&Yt(y))return y;var S=e&&e===this.ownerID,b=h?y?p:p^f:p|f,w=h?y?rr(g,m,y,S):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,a=0;a<n;a++)a===t&&(o=1),i[a]=e[a+o];return i}(g,m,S):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=r,a=-1):o[s]=e[s+a];return o}(g,m,y,S);return S?(this.bitmap=b,this.nodes=w,this):new zt(e,b,w)};var Vt=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};Vt.prototype.get=function(e,t,r,n){void 0===t&&(t=ve(r));var o=(0===e?t:t>>>e)&a,s=this.nodes[o];return s?s.get(e+i,t,r,n):n},Vt.prototype.update=function(e,t,r,n,o,u,c){void 0===r&&(r=ve(n));var l=(0===t?r:r>>>t)&a,d=o===s,f=this.nodes,p=f[l];if(d&&!p)return this;var h=Zt(p,e,t+i,r,n,o,u,c);if(h===p)return this;var m=this.count;if(p){if(!h&&--m<or)return function(e,t,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==n&&(i|=u,a[o++]=l)}return new zt(e,i,a)}(e,f,m,l)}else m++;var g=e&&e===this.ownerID,v=rr(f,l,h,g);return g?(this.count=m,this.nodes=v,this):new Vt(e,m,v)};var qt=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};qt.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(pe(r,i[o][0]))return i[o][1];return n},qt.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=ve(n));var c=i===s;if(r!==this.keyHash)return c?this:(u(a),u(o),er(this,e,t,r,[n,i]));for(var l=this.entries,d=0,f=l.length;d<f&&!pe(n,l[d][0]);d++);var p=d<f;if(p?l[d][1]===i:c)return this;if(u(a),(c||!p)&&u(o),c&&2===f)return new Wt(e,this.keyHash,l[1^d]);var h=e&&e===this.ownerID,m=h?l:Ye(l);return p?c?d===f-1?m.pop():m[d]=m.pop():m[d]=[n,i]:m.push([n,i]),h?(this.entries=m,this):new qt(e,this.keyHash,m)};var Wt=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};Wt.prototype.get=function(e,t,r,n){return pe(r,this.entry[0])?this.entry[1]:n},Wt.prototype.update=function(e,t,r,n,i,o,a){var c=i===s,l=pe(n,this.entry[0]);return(l?i===this.entry[1]:c)?this:(u(a),c?void u(o):l?e&&e===this.ownerID?(this.entry[1]=i,this):new Wt(e,this.keyHash,[n,i]):(u(o),er(this,e,t,ve(n),[n,i])))},Ut.prototype.iterate=qt.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},zt.prototype.iterate=Vt.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&!1===o.iterate(e,t))return!1}},Wt.prototype.iterate=function(e,t){return e(this.entry)};var $t,Kt=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Ht(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,i=void 0;if(r.entry){if(0===n)return Jt(e,r.entry)}else if(r.entries){if(n<=(i=r.entries.length-1))return Jt(e,r.entries[this._reverse?i-n:n])}else if(n<=(i=r.nodes.length-1)){var o=r.nodes[this._reverse?i-n:n];if(o){if(o.entry)return Jt(e,o.entry);t=this._stack=Ht(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(V);function Jt(e,t){return q(e,t[0],t[1])}function Ht(e,t){return{node:e,index:0,__prev:t}}function Gt(e,t,r,n){var i=Object.create(Bt);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Qt(){return $t||($t=Gt(0))}function Xt(e,t,r){var n,i;if(e._root){var o={value:!1},a={value:!1};if(n=Zt(e._root,e.__ownerID,0,void 0,t,r,o,a),!a.value)return e;i=e.size+(o.value?r===s?-1:1:0)}else{if(r===s)return e;i=1,n=new Ut(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Gt(i,n):Qt()}function Zt(e,t,r,n,i,o,a,c){return e?e.update(t,r,n,i,o,a,c):o===s?e:(u(c),u(a),new Wt(t,n,[i,o]))}function Yt(e){return e.constructor===Wt||e.constructor===qt}function er(e,t,r,n,o){if(e.keyHash===n)return new qt(t,n,[e.entry,o]);var s,u=(0===r?e.keyHash:e.keyHash>>>r)&a,c=(0===r?n:n>>>r)&a,l=u===c?[er(e,t,r+i,n,o)]:(s=new Wt(t,n,o),u<c?[e,s]:[s,e]);return new zt(t,1<<u|1<<c,l)}function tr(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function rr(e,t,r,n){var i=n?e:Ye(e);return i[t]=r,i}var nr=o/4,ir=o/2,or=o/4,ar="@@__IMMUTABLE_LIST__@@";function sr(e){return Boolean(e&&e[ar])}var ur=function(e){function t(t){var r=mr();if(null==t)return r;if(sr(t))return t;var n=e(t),a=n.size;return 0===a?r:(tt(a),a>0&&a<o?hr(0,a,i,null,new lr(n.toArray())):r.withMutations((function(e){e.setSize(a),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=d(this,e))>=0&&e<this.size){var r=yr(this,e+=this._origin);return r&&r.array[e&a]}return t},t.prototype.set=function(e,t){return function(e,t,r){if((t=d(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Sr(e,t).set(0,r):Sr(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,i=e._root,o={value:!1};return t>=br(e._capacity)?n=gr(n,e.__ownerID,0,t,r,o):i=gr(i,e.__ownerID,e._level,t,r,o),o.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):hr(e._origin,e._capacity,e._level,i,n):e}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=i,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):mr()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){Sr(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return Sr(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Sr(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return Sr(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var i=t[n],o=e("string"!=typeof i&&$(i)?i:[i]);0!==o.size&&r.push(o)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return Sr(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var i=0;i<r.size;i++)n.set(i,e.call(t,n.get(i),i,r))}))},t.prototype.slice=function(e,t){var r=this.size;return p(e,t,r)?this:Sr(this,h(e,r),m(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=pr(this,t);return new V((function(){var i=n();return i===fr?{value:void 0,done:!0}:q(e,t?--r:r++,i)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,i=pr(this,t);(r=i())!==fr&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?hr(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?mr():(this.__ownerID=e,this.__altered=!1,this)},t}(T);ur.isList=sr;var cr=ur.prototype;cr[ar]=!0,cr[n]=cr.remove,cr.merge=cr.concat,cr.setIn=mt,cr.deleteIn=cr.removeIn=vt,cr.update=St,cr.updateIn=bt,cr.mergeIn=jt,cr.mergeDeepIn=Rt,cr.withMutations=Ot,cr.wasAltered=Lt,cr.asImmutable=Nt,cr["@@transducer/init"]=cr.asMutable=xt,cr["@@transducer/step"]=function(e,t){return e.push(t)},cr["@@transducer/result"]=function(e){return e.asImmutable()};var lr=function(e,t){this.array=e,this.ownerID=t};lr.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&a;if(n>=this.array.length)return new lr([],e);var o,s=0===n;if(t>0){var u=this.array[n];if((o=u&&u.removeBefore(e,t-i,r))===u&&s)return this}if(s&&!o)return this;var c=vr(this,e);if(!s)for(var l=0;l<n;l++)c.array[l]=void 0;return o&&(c.array[n]=o),c},lr.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&a;if(o>=this.array.length)return this;if(t>0){var s=this.array[o];if((n=s&&s.removeAfter(e,t-i,r))===s&&o===this.array.length-1)return this}var u=vr(this,e);return u.array.splice(o+1),n&&(u.array[o]=n),u};var dr,fr={};function pr(e,t){var r=e._origin,n=e._capacity,a=br(n),s=e._tail;return function e(u,c,l){return 0===c?function(e,i){var u=i===a?s&&s.array:e&&e.array,c=i>r?0:r-i,l=n-i;return l>o&&(l=o),function(){if(c===l)return fr;var e=t?--l:c++;return u&&u[e]}}(u,l):function(a,s,u){var c,l=a&&a.array,d=u>r?0:r-u>>s,f=1+(n-u>>s);return f>o&&(f=o),function(){for(;;){if(c){var r=c();if(r!==fr)return r;c=null}if(d===f)return fr;var n=t?--f:d++;c=e(l&&l[n],s-i,u+(n<<s))}}}(u,c,l)}(e._root,e._level,0)}function hr(e,t,r,n,i,o,a){var s=Object.create(cr);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function mr(){return dr||(dr=hr(0,0,i))}function gr(e,t,r,n,o,s){var c,l=n>>>r&a,d=e&&l<e.array.length;if(!d&&void 0===o)return e;if(r>0){var f=e&&e.array[l],p=gr(f,t,r-i,n,o,s);return p===f?e:((c=vr(e,t)).array[l]=p,c)}return d&&e.array[l]===o?e:(s&&u(s),c=vr(e,t),void 0===o&&l===c.array.length-1?c.array.pop():c.array[l]=o,c)}function vr(e,t){return t&&e&&t===e.ownerID?e:new lr(e?e.array.slice():[],t)}function yr(e,t){if(t>=br(e._capacity))return e._tail;if(t<1<<e._level+i){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&a],n-=i;return r}}function Sr(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new c,o=e._origin,s=e._capacity,u=o+t,l=void 0===r?s:r<0?s+r:o+r;if(u===o&&l===s)return e;if(u>=l)return e.clear();for(var d=e._level,f=e._root,p=0;u+p<0;)f=new lr(f&&f.array.length?[void 0,f]:[],n),p+=1<<(d+=i);p&&(u+=p,o+=p,l+=p,s+=p);for(var h=br(s),m=br(l);m>=1<<d+i;)f=new lr(f&&f.array.length?[f]:[],n),d+=i;var g=e._tail,v=m<h?yr(e,l-1):m>h?new lr([],n):g;if(g&&m>h&&u<s&&g.array.length){for(var y=f=vr(f,n),S=d;S>i;S-=i){var b=h>>>S&a;y=y.array[b]=vr(y.array[b],n)}y.array[h>>>i&a]=g}if(l<s&&(v=v&&v.removeAfter(n,0,l)),u>=m)u-=m,l-=m,d=i,f=null,v=v&&v.removeBefore(n,0,u);else if(u>o||m<h){for(p=0;f;){var w=u>>>d&a;if(w!==m>>>d&a)break;w&&(p+=(1<<d)*w),d-=i,f=f.array[w]}f&&u>o&&(f=f.removeBefore(n,d,u-p)),f&&m<h&&(f=f.removeAfter(n,d,m-p)),p&&(u-=p,l-=p)}return e.__ownerID?(e.size=l-u,e._origin=u,e._capacity=l,e._level=d,e._root=f,e._tail=v,e.__hash=void 0,e.__altered=!0,e):hr(u,l,d,f,v)}function br(e){return e<o?0:e-1>>>i<<i}var wr,Pr=function(e){function t(e){return null==e?_r():de(e)?e:_r().withMutations((function(t){var r=M(e);tt(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):_r()},t.prototype.set=function(e,t){return Cr(this,e,t)},t.prototype.remove=function(e){return Cr(this,e,s)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?kr(t,r,e,this.__hash):0===this.size?_r():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(Ft);function kr(e,t,r,n){var i=Object.create(Pr.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function _r(){return wr||(wr=kr(Qt(),mr()))}function Cr(e,t,r){var n,i,a=e._map,u=e._list,c=a.get(t),l=void 0!==c;if(r===s){if(!l)return e;u.size>=o&&u.size>=2*a.size?(n=(i=u.filter((function(e,t){return void 0!==e&&c!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=i.__ownerID=e.__ownerID)):(n=a.remove(t),i=c===u.size-1?u.pop():u.set(c,void 0))}else if(l){if(r===u.get(c)[1])return e;n=a,i=u.set(c,[t,r])}else n=a.set(t,u.size),i=u.set(u.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=i,e.__hash=void 0,e.__altered=!0,e):kr(n,i)}Pr.isOrderedMap=de,Pr.prototype[O]=!0,Pr.prototype[n]=Pr.prototype.remove;var Mr="@@__IMMUTABLE_STACK__@@";function Tr(e){return Boolean(e&&e[Mr])}var Ir=function(e){function t(e){return null==e?jr():Tr(e)?e:jr().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=d(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Er(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&Tr(t))return t;tt(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):Er(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):jr()},t.prototype.slice=function(t,r){if(p(t,r,this.size))return this;var n=h(t,this.size);if(m(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Er(i,o)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Er(this.size,this._head,e,this.__hash):0===this.size?jr():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new te(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,i=this._head;i&&!1!==e(i.value,n++,this);)i=i.next;return n},t.prototype.__iterator=function(e,t){if(t)return new te(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new V((function(){if(n){var t=n.value;return n=n.next,q(e,r++,t)}return{value:void 0,done:!0}}))},t}(T);Ir.isStack=Tr;var Ar,Dr=Ir.prototype;function Er(e,t,r,n){var i=Object.create(Dr);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function jr(){return Ar||(Ar=Er(0))}Dr[Mr]=!0,Dr.shift=Dr.pop,Dr.unshift=Dr.push,Dr.unshiftAll=Dr.pushAll,Dr.withMutations=Ot,Dr.wasAltered=Lt,Dr.asImmutable=Nt,Dr["@@transducer/init"]=Dr.asMutable=xt,Dr["@@transducer/step"]=function(e,t){return e.unshift(t)},Dr["@@transducer/result"]=function(e){return e.asImmutable()};var Rr="@@__IMMUTABLE_SET__@@";function Or(e){return Boolean(e&&e[Rr])}function xr(e){return Or(e)&&x(e)}function Nr(e,t){if(e===t)return!0;if(!S(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||w(e)!==w(t)||k(e)!==k(t)||x(e)!==x(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!_(e);if(x(e)){var n=e.entries();return t.every((function(e,t){var i=n.next().value;return i&&pe(i[1],e)&&(r||pe(i[0],t))}))&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,u=t.__iterate((function(t,n){if(r?!e.has(t):i?!pe(t,e.get(n,s)):!pe(e.get(n,s),t))return a=!1,!1}));return a&&e.size===u}function Lr(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function Fr(e){if(!e||"object"!=typeof e)return e;if(!S(e)){if(!ot(e))return e;e=X(e)}if(w(e)){var t={};return e.__iterate((function(e,r){t[r]=Fr(e)})),t}var r=[];return e.__iterate((function(e){r.push(Fr(e))})),r}var Br=function(e){function t(t){return null==t?Wr():Or(t)&&!x(t)?t:Wr().withMutations((function(r){var n=e(t);tt(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(M(e).keySeq())},t.intersect=function(e){return(e=C(e).toArray()).length?zr.intersect.apply(t(e.pop()),e):Wr()},t.union=function(e){return(e=C(e).toArray()).length?zr.union.apply(t(e.pop()),e):Wr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Vr(this,this._map.set(e,e))},t.prototype.remove=function(e){return Vr(this,this._map.remove(e))},t.prototype.clear=function(){return Vr(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,i=Vr(this,this._map.mapEntries((function(i){var o=i[1],a=e.call(t,o,o,r);return a!==o&&(n=!0),[a,a]}),t));return n?i:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)"string"==typeof t[n]?r.add(t[n]):e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return ln(qe(this,e))},t.prototype.sortBy=function(e,t){return ln(qe(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(I);Br.isSet=Or;var Ur,zr=Br.prototype;function Vr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function qr(e,t){var r=Object.create(zr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Wr(){return Ur||(Ur=qr(Qt()))}zr[Rr]=!0,zr[n]=zr.remove,zr.merge=zr.concat=zr.union,zr.withMutations=Ot,zr.asImmutable=Nt,zr["@@transducer/init"]=zr.asMutable=xt,zr["@@transducer/step"]=function(e,t){return e.add(t)},zr["@@transducer/result"]=function(e){return e.asImmutable()},zr.__empty=Wr,zr.__make=qr;var $r,Kr=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(et(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if($r)return $r;$r=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+d(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return p(e,r,this.size)?this:(e=h(e,this.size),(r=m(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==e(i,t?r-++o:o++,this);)i+=t?-n:n;return o},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;return new V((function(){if(o===r)return{value:void 0,done:!0};var a=i;return i+=t?-n:n,q(e,t?r-++o:o++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Nr(this,e)},t}(Y);function Jr(e,t,r){for(var n=rt(t),i=0;i!==n.length;)if((e=ut(e,n[i++],s))===s)return r;return e}function Hr(e,t){return Jr(this,e,t)}function Gr(e,t){return Jr(e,t,s)!==s}function Qr(){tt(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}C.isIterable=S,C.isKeyed=w,C.isIndexed=k,C.isAssociative=_,C.isOrdered=x,C.Iterator=V,Lr(C,{toArray:function(){tt(this.size);var e=new Array(this.size||0),t=w(this),r=0;return this.__iterate((function(n,i){e[r++]=t?[i,n]:n})),e},toIndexedSeq:function(){return new Re(this)},toJS:function(){return Fr(this)},toKeyedSeq:function(){return new je(this,!0)},toMap:function(){return Ft(this.toKeyedSeq())},toObject:Qr,toOrderedMap:function(){return Pr(this.toKeyedSeq())},toOrderedSet:function(){return ln(w(this)?this.valueSeq():this)},toSet:function(){return Br(w(this)?this.valueSeq():this)},toSetSeq:function(){return new Oe(this)},toSeq:function(){return k(this)?this.toIndexedSeq():w(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ir(w(this)?this.valueSeq():this)},toList:function(){return ur(w(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Je(this,function(e,t){var r=w(e),n=[e].concat(t).map((function(e){return S(e)?r&&(e=M(e)):e=r?ae(e):se(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var i=n[0];if(i===e||r&&w(i)||k(e)&&k(i))return i}var o=new te(n);return r?o=o.toKeyedSeq():k(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),o}(this,e))},includes:function(e){return this.some((function(t){return pe(t,e)}))},entries:function(){return this.__iterator(F)},every:function(e,t){tt(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!e.call(t,n,i,o))return r=!1,!1})),r},filter:function(e,t){return Je(this,Be(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=w(e),i=[[],[]];e.__iterate((function(o,a){i[t.call(r,o,a,e)?1:0].push(n?[a,o]:o)}));var o=Ge(e);return i.map((function(t){return Je(e,o(t))}))}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return tt(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){tt(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(N)},map:function(e,t){return Je(this,Le(this,e,t))},reduce:function(e,t,r){return tn(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return tn(this,e,t,r,arguments.length<2,!0)},reverse:function(){return Je(this,Fe(this,!0))},slice:function(e,t){return Je(this,Ue(this,e,t,!0))},some:function(e,t){tt(this.size);var r=!1;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=!0,!1})),r},sort:function(e){return Je(this,qe(this,e))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return l(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Ft().asMutable();return e.__iterate((function(i,o){n.update(t.call(r,i,o,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return Nr(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(nn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(on(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(f,null,e)},flatMap:function(e,t){return Je(this,function(e,t,r){var n=Ge(e);return e.toSeq().map((function(i,o){return n(t.call(r,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Je(this,Ve(this,e,!0))},fromEntrySeq:function(){return new xe(this)},get:function(e,t){return this.find((function(t,r){return pe(r,e)}),void 0,t)},getIn:Hr,groupBy:function(e,t){return function(e,t,r){var n=w(e),i=(x(e)?Pr():Ft()).asMutable();e.__iterate((function(o,a){i.update(t.call(r,o,a,e),(function(e){return(e=e||[]).push(n?[a,o]:o),e}))}));var o=Ge(e);return i.map((function(t){return Je(e,o(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,s)!==s},hasIn:function(e){return Gr(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:C(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:C(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return pe(t,e)}))},keySeq:function(){return this.toSeq().map(rn).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return We(this,e)},maxBy:function(e,t){return We(this,t,e)},min:function(e){return We(this,e?an(e):un)},minBy:function(e,t){return We(this,t?an(t):un,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Je(this,ze(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(on(e),t)},sortBy:function(e,t){return Je(this,qe(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Je(this,function(e,t,r){var n=Qe(e);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return e.__iterate((function(e,i,s){return t.call(r,e,i,s)&&++a&&n(e,i,o)})),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(F,i),s=!0;return new V((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(r,c,u,o)?n===F?e:q(n,u,c,e):(s=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(on(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=x(e),r=w(e),n=t?1:0;return function(e,t){return t=he(t,3432918353),t=he(t<<15|t>>>-15,461845907),t=he(t<<13|t>>>-13,5),t=he((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=me((t=he(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+cn(ve(e),ve(t))|0}:function(e,t){n=n+cn(ve(e),ve(t))|0}:t?function(e){n=31*n+ve(e)|0}:function(e){n=n+ve(e)|0}),n)}(this))}});var Xr=C.prototype;Xr[y]=!0,Xr[z]=Xr.values,Xr.toJSON=Xr.toArray,Xr.__toStringMapper=at,Xr.inspect=Xr.toSource=function(){return this.toString()},Xr.chain=Xr.flatMap,Xr.contains=Xr.includes,Lr(M,{flip:function(){return Je(this,Ne(this))},mapEntries:function(e,t){var r=this,n=0;return Je(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Je(this,this.toSeq().flip().map((function(n,i){return e.call(t,n,i,r)})).flip())}});var Zr=M.prototype;Zr[b]=!0,Zr[z]=Xr.entries,Zr.toJSON=Qr,Zr.__toStringMapper=function(e,t){return at(t)+": "+at(e)},Lr(T,{toKeyedSeq:function(){return new je(this,!1)},filter:function(e,t){return Je(this,Be(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Je(this,Fe(this,!1))},slice:function(e,t){return Je(this,Ue(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=h(e,e<0?this.count():this.size);var n=this.slice(0,e);return Je(this,1===r?n:n.concat(Ye(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Je(this,Ve(this,e,!1))},get:function(e,t){return(e=d(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=d(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Je(this,function(e,t){var r=Qe(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return e.__iterate((function(e){return(!o||!1!==r(t,o++,i))&&!1!==r(e,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=e.__iterator(L,n),a=0;return new V((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?q(r,a++,t):q(r,a++,i.value,i)}))},r}(this,e))},interleave:function(){var e=[this].concat(Ye(arguments)),t=Ke(this.toSeq(),Y.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Je(this,r)},keySeq:function(){return Kr(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Je(this,ze(this,e,t,!1))},zip:function(){return Je(this,Ke(this,sn,[this].concat(Ye(arguments))))},zipAll:function(){return Je(this,Ke(this,sn,[this].concat(Ye(arguments)),!0))},zipWith:function(e){var t=Ye(arguments);return t[0]=this,Je(this,Ke(this,e,t))}});var Yr=T.prototype;Yr[P]=!0,Yr[O]=!0,Lr(I,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var en=I.prototype;function tn(e,t,r,n,i,o){return tt(e.size),e.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),o),r}function rn(e,t){return t}function nn(e,t){return[t,e]}function on(e){return function(){return!e.apply(this,arguments)}}function an(e){return function(){return-e.apply(this,arguments)}}function sn(){return Ye(arguments)}function un(e,t){return e<t?1:e>t?-1:0}function cn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}en.has=Xr.includes,en.contains=en.includes,en.keys=en.values,Lr(Z,Zr),Lr(Y,Yr),Lr(ee,en);var ln=function(e){function t(e){return null==e?hn():xr(e)?e:hn().withMutations((function(t){var r=I(e);tt(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(M(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Br);ln.isOrderedSet=xr;var dn,fn=ln.prototype;function pn(e,t){var r=Object.create(fn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function hn(){return dn||(dn=pn(_r()))}fn[O]=!0,fn.zip=Yr.zip,fn.zipWith=Yr.zipWith,fn.zipAll=Yr.zipAll,fn.__empty=hn,fn.__make=pn;var mn={LeftThenRight:-1,RightThenLeft:1},gn=function(e,t){var r;!function(e){if(j(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(R(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(o){var a=this;if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var s=Object.keys(e),u=i._indices={};i._name=t,i._keys=s,i._defaultValues=e;for(var c=0;c<s.length;c++){var l=s[c];u[l]=c,i[l]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Sn(this)+' with property "'+l+'" since that property name is part of the Record API.'):wn(i,l)}}return this.__ownerID=void 0,this._values=ur().withMutations((function(e){e.setSize(a._keys.length),M(o).forEach((function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)}))})),this},i=n.prototype=Object.create(vn);return i.constructor=n,t&&(n.displayName=t),n};gn.prototype.toString=function(){for(var e,t=Sn(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)t+=(n?", ":"")+(e=r[n])+": "+at(this.get(e));return t+" }"},gn.prototype.equals=function(e){return this===e||j(e)&&bn(this).equals(bn(e))},gn.prototype.hashCode=function(){return bn(this).hashCode()},gn.prototype.has=function(e){return this._indices.hasOwnProperty(e)},gn.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},gn.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return yn(this,r)}return this},gn.prototype.remove=function(e){return this.set(e)},gn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:yn(this,e)},gn.prototype.wasAltered=function(){return this._values.wasAltered()},gn.prototype.toSeq=function(){return bn(this)},gn.prototype.toJS=function(){return Fr(this)},gn.prototype.entries=function(){return this.__iterator(F)},gn.prototype.__iterator=function(e,t){return bn(this).__iterator(e,t)},gn.prototype.__iterate=function(e,t){return bn(this).__iterate(e,t)},gn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?yn(this,t,e):(this.__ownerID=e,this._values=t,this)},gn.isRecord=j,gn.getDescriptiveName=Sn;var vn=gn.prototype;function yn(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Sn(e){return e.constructor.displayName||e.constructor.name||"Record"}function bn(e){return ae(e._keys.map((function(t){return[t,e.get(t)]})))}function wn(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){et(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}vn[E]=!0,vn[n]=vn.remove,vn.deleteIn=vn.removeIn=vt,vn.getIn=Hr,vn.hasIn=Xr.hasIn,vn.merge=wt,vn.mergeWith=Pt,vn.mergeIn=jt,vn.mergeDeep=Dt,vn.mergeDeepWith=Et,vn.mergeDeepIn=Rt,vn.setIn=mt,vn.update=St,vn.updateIn=bt,vn.withMutations=Ot,vn.asMutable=xt,vn.asImmutable=Nt,vn[z]=vn.entries,vn.toJSON=vn.toObject=Xr.toObject,vn.inspect=vn.toSource=function(){return this.toString()};var Pn,kn=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this._value=e,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(Pn)return Pn;Pn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return pe(this._value,e)},t.prototype.slice=function(e,r){var n=this.size;return p(e,r,n)?this:new t(this._value,m(r,n)-h(e,n))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},t.prototype.__iterator=function(e,t){var r=this,n=this.size,i=0;return new V((function(){return i===n?{value:void 0,done:!0}:q(e,t?n-++i:i++,r._value)}))},t.prototype.equals=function(e){return e instanceof t?pe(this._value,e._value):Nr(e)},t}(Y);function _n(e,t){return Cn([],t||Mn,e,"",t&&t.length>2?[]:void 0,{"":e})}function Cn(e,t,r,n,i,o){if("string"!=typeof r&&!R(r)&&(Q(r)||$(r)||it(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&""!==n&&i.push(n);var a=t.call(o,n,X(r).map((function(n,o){return Cn(e,t,n,o,i,r)})),i&&i.slice());return e.pop(),i&&i.pop(),a}return r}function Mn(e,t){return k(t)?t.toList():w(t)?t.toMap():t.toSet()}var Tn="4.3.4",In=C;const An={version:Tn,Collection:C,Iterable:C,Seq:X,Map:Ft,OrderedMap:Pr,List:ur,Stack:Ir,Set:Br,OrderedSet:ln,PairSorting:mn,Record:gn,Range:Kr,Repeat:kn,is:pe,fromJS:_n,hash:ve,isImmutable:R,isCollection:S,isKeyed:w,isIndexed:k,isAssociative:_,isOrdered:x,isValueObject:fe,isPlainObject:it,isSeq:D,isList:sr,isMap:le,isOrderedMap:de,isStack:Tr,isSet:Or,isOrderedSet:xr,isRecord:j,get:ut,getIn:Jr,has:st,hasIn:Gr,merge:_t,mergeDeep:Mt,mergeWith:Ct,mergeDeepWith:Tt,remove:lt,removeIn:gt,set:dt,setIn:ht,update:yt,updateIn:ft}},1166:function(e,t){!function(e){var t,r="undefined",n=r!==typeof Buffer&&Buffer,i=r!==typeof Uint8Array&&Uint8Array,o=r!==typeof ArrayBuffer&&ArrayBuffer,a=[0,0,0,0,0,0,0,0],s=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},u=4294967296;function c(s,c,b){var w=c?0:4,P=c?4:0,k=c?0:3,_=c?1:2,C=c?2:1,M=c?3:0,T=c?g:y,I=c?v:S,A=j.prototype,D="is"+s,E="_"+D;return A.buffer=void 0,A.offset=0,A[E]=!0,A.toNumber=R,A.toString=function(e){var t=this.buffer,r=this.offset,n=x(t,r+w),i=x(t,r+P),o="",a=!b&&2147483648&n;for(a&&(n=~n,i=u-i),e=e||10;;){var s=n%e*u+i;if(n=Math.floor(n/e),i=Math.floor(s/e),o=(s%e).toString(e)+o,!n&&!i)break}return a&&(o="-"+o),o},A.toJSON=R,A.toArray=l,n&&(A.toBuffer=d),i&&(A.toArrayBuffer=f),j[D]=function(e){return!(!e||!e[E])},e[s]=j,j;function j(e,n,s,c){return this instanceof j?function(e,n,s,c,l){i&&o&&(n instanceof o&&(n=new i(n)),c instanceof o&&(c=new i(c))),n||s||c||t?(p(n,s)||(l=s,c=n,s=0,n=new(t||Array)(8)),e.buffer=n,e.offset=s|=0,r!==typeof c&&("string"==typeof c?function(e,t,r,n){var i=0,o=r.length,a=0,s=0;"-"===r[0]&&i++;for(var c=i;i<o;){var l=parseInt(r[i++],n);if(!(l>=0))break;s=s*n+l,a=a*n+Math.floor(s/u),s%=u}c&&(a=~a,s?s=u-s:a++),O(e,t+w,a),O(e,t+P,s)}(n,s,c,l||10):p(c,l)?h(n,s,c,l):"number"==typeof l?(O(n,s+w,c),O(n,s+P,l)):c>0?T(n,s,c):c<0?I(n,s,c):h(n,s,a,0))):e.buffer=m(a,0)}(this,e,n,s,c):new j(e,n,s,c)}function R(){var e=this.buffer,t=this.offset,r=x(e,t+w),n=x(e,t+P);return b||(r|=0),r?r*u+n:n}function O(e,t,r){e[t+M]=255&r,r>>=8,e[t+C]=255&r,r>>=8,e[t+_]=255&r,r>>=8,e[t+k]=255&r}function x(e,t){return 16777216*e[t+k]+(e[t+_]<<16)+(e[t+C]<<8)+e[t+M]}}function l(e){var r=this.buffer,n=this.offset;return t=null,!1!==e&&0===n&&8===r.length&&s(r)?r:m(r,n)}function d(e){var r=this.buffer,i=this.offset;if(t=n,!1!==e&&0===i&&8===r.length&&Buffer.isBuffer(r))return r;var o=new n(8);return h(o,0,r,i),o}function f(e){var r=this.buffer,n=this.offset,a=r.buffer;if(t=i,!1!==e&&0===n&&a instanceof o&&8===a.byteLength)return a;var s=new i(8);return h(s,0,r,n),s.buffer}function p(e,t){var r=e&&e.length;return t|=0,r&&t+8<=r&&"string"!=typeof e[t]}function h(e,t,r,n){t|=0,n|=0;for(var i=0;i<8;i++)e[t++]=255&r[n++]}function m(e,t){return Array.prototype.slice.call(e,t,t+8)}function g(e,t,r){for(var n=t+8;n>t;)e[--n]=255&r,r/=256}function v(e,t,r){var n=t+8;for(r++;n>t;)e[--n]=255&-r^255,r/=256}function y(e,t,r){for(var n=t+8;t<n;)e[t++]=255&r,r/=256}function S(e,t,r){var n=t+8;for(r++;t<n;)e[t++]=255&-r^255,r/=256}c("Uint64BE",!0,!0),c("Int64BE",!0,!1),c("Uint64LE",!1,!0),c("Int64LE",!1,!1)}("string"!=typeof t.nodeName?t:this||{})},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},7031:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(579),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._executor=t}return n(e,[{key:"then",value:function(e,t){var r=this;return this._result||(this._result=new Promise((function(e,t){i((function(){try{r._executor(e,t)}catch(e){t(e)}}))}))),this._result.then(e,t)}},{key:"catch",value:function(e){return this.then(void 0,e)}}]),e}();t.default=o,Object.setPrototypeOf?(Object.setPrototypeOf(o.prototype,Promise.prototype),Object.setPrototypeOf(o,Promise)):(o.prototype.__proto__=Promise.prototype,o.__proto__=Promise),e.exports=o,e.exports.default=o},7323:(e,t,r)=>{t.encode=r(1764).encode,t.decode=r(5299).decode,t.Encoder=r(2883).Encoder,t.Decoder=r(7441).Decoder,t.createEncodeStream=r(7621).createEncodeStream,t.createDecodeStream=r(5636).createDecodeStream,t.createCodec=r(7832).createCodec,t.codec=r(5766).codec},8990:function(e){function t(e){return e&&e.isBuffer&&e}e.exports=t("undefined"!=typeof Buffer&&Buffer)||t(this.Buffer)||t("undefined"!=typeof window&&window.Buffer)||this.Buffer},1947:(e,t)=>{t.copy=function(e,t,r,n){var i;r||(r=0),n||0===n||(n=this.length),t||(t=0);var o=n-r;if(e===this&&r<t&&t<n)for(i=o-1;i>=0;i--)e[i+t]=this[i+r];else for(i=0;i<o;i++)e[i+t]=this[i+r];return o},t.toString=function(e,t,r){var n=this,i=0|t;r||(r=n.length);for(var o="",a=0;i<r;)(a=n[i++])<128?o+=String.fromCharCode(a):(192==(224&a)?a=(31&a)<<6|63&n[i++]:224==(240&a)?a=(15&a)<<12|(63&n[i++])<<6|63&n[i++]:240==(248&a)&&(a=(7&a)<<18|(63&n[i++])<<12|(63&n[i++])<<6|63&n[i++]),a>=65536?(a-=65536,o+=String.fromCharCode(55296+(a>>>10),56320+(1023&a))):o+=String.fromCharCode(a));return o},t.write=function(e,t){for(var r=this,n=t||(t|=0),i=e.length,o=0,a=0;a<i;)(o=e.charCodeAt(a++))<128?r[n++]=o:o<2048?(r[n++]=192|o>>>6,r[n++]=128|63&o):o<55296||o>57343?(r[n++]=224|o>>>12,r[n++]=128|o>>>6&63,r[n++]=128|63&o):(o=65536+(o-55296<<10|e.charCodeAt(a++)-56320),r[n++]=240|o>>>18,r[n++]=128|o>>>12&63,r[n++]=128|o>>>6&63,r[n++]=128|63&o);return n-t}},2683:(e,t,r)=>{var n=r(6895),i=e.exports=o(0);function o(e){return new Array(e)}i.alloc=o,i.concat=n.concat,i.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(i,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(e)}},4580:(e,t,r)=>{var n=r(6895),i=n.global,o=e.exports=n.hasBuffer?a(0):[];function a(e){return new i(e)}o.alloc=n.hasBuffer&&i.alloc||a,o.concat=n.concat,o.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(o,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(e):new i(e)}},3190:(e,t,r)=>{var n,i=r(1947);t.copy=c,t.slice=l,t.toString=function(e,t,r){return(!s&&o.isBuffer(this)?this.toString:i.toString).apply(this,arguments)},t.write=(n="write",function(){return(this[n]||i[n]).apply(this,arguments)});var o=r(6895),a=o.global,s=o.hasBuffer&&"TYPED_ARRAY_SUPPORT"in a,u=s&&!a.TYPED_ARRAY_SUPPORT;function c(e,t,r,n){var a=o.isBuffer(this),s=o.isBuffer(e);if(a&&s)return this.copy(e,t,r,n);if(u||a||s||!o.isView(this)||!o.isView(e))return i.copy.call(this,e,t,r,n);var c=r||null!=n?l.call(this,r,n):this;return e.set(c,t),c.length}function l(e,t){var r=this.slice||!u&&this.subarray;if(r)return r.call(this,e,t);var n=o.alloc.call(this,t-e);return c.call(this,n,0,e,t),n}},8553:(e,t,r)=>{var n=r(6895),i=e.exports=n.hasArrayBuffer?o(0):[];function o(e){return new Uint8Array(e)}i.alloc=o,i.concat=n.concat,i.from=function(e){if(n.isView(e)){var t=e.byteOffset,r=e.byteLength;(e=e.buffer).byteLength!==r&&(e.slice?e=e.slice(t,t+r):(e=new Uint8Array(e)).byteLength!==r&&(e=Array.prototype.slice.call(e,t,t+r)))}else{if("string"==typeof e)return n.from.call(i,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(e)}},6895:(e,t,r)=>{var n=t.global=r(8990),i=t.hasBuffer=n&&!!n.isBuffer,o=t.hasArrayBuffer="undefined"!=typeof ArrayBuffer,a=t.isArray=r(5826);t.isArrayBuffer=o?function(e){return e instanceof ArrayBuffer||h(e)}:v;var s=t.isBuffer=i?n.isBuffer:v,u=t.isView=o?ArrayBuffer.isView||y("ArrayBuffer","buffer"):v;t.alloc=p,t.concat=function(e,r){r||(r=0,Array.prototype.forEach.call(e,(function(e){r+=e.length})));var n=this!==t&&this||e[0],i=p.call(n,r),o=0;return Array.prototype.forEach.call(e,(function(e){o+=f.copy.call(e,i,o)})),i},t.from=function(e){return"string"==typeof e?m.call(this,e):g(this).from(e)};var c=t.Array=r(2683),l=t.Buffer=r(4580),d=t.Uint8Array=r(8553),f=t.prototype=r(3190);function p(e){return g(this).alloc(e)}var h=y("ArrayBuffer");function m(e){var t=3*e.length,r=p.call(this,t),n=f.write.call(r,e);return t!==n&&(r=f.slice.call(r,0,n)),r}function g(e){return s(e)?l:u(e)?d:a(e)?c:i?l:o?d:c}function v(){return!1}function y(e,t){return e="[object "+e+"]",function(r){return null!=r&&{}.toString.call(t?r[t]:r)===e}}},1877:(e,t,r)=>{var n=r(5826);t.createCodec=s,t.install=function(e){for(var t in e)o.prototype[t]=a(o.prototype[t],e[t])},t.filter=function(e){return n(e)?function(e){return e=e.slice(),function(r){return e.reduce(t,r)};function t(e,t){return t(e)}}(e):e};var i=r(6895);function o(e){if(!(this instanceof o))return new o(e);this.options=e,this.init()}function a(e,t){return e&&t?function(){return e.apply(this,arguments),t.apply(this,arguments)}:e||t}function s(e){return new o(e)}o.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=i.Uint8Array),this},t.preset=s({preset:!0})},5766:(e,t,r)=>{r(7350),r(5312),t.codec={preset:r(1877).preset}},8170:(e,t,r)=>{t.T=i;var n=r(7350).preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}r(6822).k.mixin(i.prototype),i.prototype.codec=n,i.prototype.fetch=function(){return this.codec.decode(this)}},5636:(e,t,r)=>{t.createDecodeStream=s;var n=r(3837),i=r(2781).Transform,o=r(8170).T;n.inherits(s,i);var a={objectMode:!0};function s(e){if(!(this instanceof s))return new s(e);e?e.objectMode=!0:e=a,i.call(this,e);var t=this;(this.decoder=new o(e)).push=function(e){t.push(e)}}s.prototype._transform=function(e,t,r){this.decoder.write(e),this.decoder.flush(),r&&r()}},5299:(e,t,r)=>{t.decode=function(e,t){var r=new n(t);return r.write(e),r.read()};var n=r(8170).T},7441:(e,t,r)=>{t.Decoder=o;var n=r(3258),i=r(8170).T;function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}o.prototype=new i,n.mixin(o.prototype),o.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},o.prototype.push=function(e){this.emit("data",e)},o.prototype.end=function(e){this.decode(e),this.emit("end")}},2517:(e,t,r)=>{t.F=i;var n=r(5312).preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}r(6822).I.mixin(i.prototype),i.prototype.codec=n,i.prototype.write=function(e){this.codec.encode(this,e)}},7621:(e,t,r)=>{t.createEncodeStream=s;var n=r(3837),i=r(2781).Transform,o=r(2517).F;n.inherits(s,i);var a={objectMode:!0};function s(e){if(!(this instanceof s))return new s(e);e?e.objectMode=!0:e=a,i.call(this,e);var t=this;(this.encoder=new o(e)).push=function(e){t.push(e)}}s.prototype._transform=function(e,t,r){this.encoder.write(e),r&&r()},s.prototype._flush=function(e){this.encoder.flush(),e&&e()}},1764:(e,t,r)=>{t.encode=function(e,t){var r=new n(t);return r.write(e),r.read()};var n=r(2517).F},2883:(e,t,r)=>{t.Encoder=o;var n=r(3258),i=r(2517).F;function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}o.prototype=new i,n.mixin(o.prototype),o.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},o.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}},6083:(e,t,r)=>{t.S=function e(t,r){if(!(this instanceof e))return new e(t,r);this.buffer=n.from(t),this.type=r};var n=r(6895)},9431:(e,t,r)=>{t.setExtPackers=function(e){e.addExtPacker(14,Error,[d,u]),e.addExtPacker(1,EvalError,[d,u]),e.addExtPacker(2,RangeError,[d,u]),e.addExtPacker(3,ReferenceError,[d,u]),e.addExtPacker(4,SyntaxError,[d,u]),e.addExtPacker(5,TypeError,[d,u]),e.addExtPacker(6,URIError,[d,u]),e.addExtPacker(10,RegExp,[l,u]),e.addExtPacker(11,Boolean,[c,u]),e.addExtPacker(12,String,[c,u]),e.addExtPacker(13,Date,[Number,u]),e.addExtPacker(15,Number,[c,u]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,a),e.addExtPacker(18,Uint8Array,a),e.addExtPacker(19,Int16Array,a),e.addExtPacker(20,Uint16Array,a),e.addExtPacker(21,Int32Array,a),e.addExtPacker(22,Uint32Array,a),e.addExtPacker(23,Float32Array,a),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,a),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,a),e.addExtPacker(26,ArrayBuffer,a),e.addExtPacker(29,DataView,a)),i.hasBuffer&&e.addExtPacker(27,o,i.from)};var n,i=r(6895),o=i.global,a=i.Uint8Array.from,s={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function u(e){return n||(n=r(1764).encode),n(e)}function c(e){return e.valueOf()}function l(e){(e=RegExp.prototype.toString.call(e).split("/")).shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function d(e){var t={};for(var r in s)t[r]=e[r];return t}},6600:(e,t,r)=>{t.setExtUnpackers=function(e){e.addExtUnpacker(14,[s,c(Error)]),e.addExtUnpacker(1,[s,c(EvalError)]),e.addExtUnpacker(2,[s,c(RangeError)]),e.addExtUnpacker(3,[s,c(ReferenceError)]),e.addExtUnpacker(4,[s,c(SyntaxError)]),e.addExtUnpacker(5,[s,c(TypeError)]),e.addExtUnpacker(6,[s,c(URIError)]),e.addExtUnpacker(10,[s,u]),e.addExtUnpacker(11,[s,l(Boolean)]),e.addExtUnpacker(12,[s,l(String)]),e.addExtUnpacker(13,[s,l(Date)]),e.addExtUnpacker(15,[s,l(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,l(Int8Array)),e.addExtUnpacker(18,l(Uint8Array)),e.addExtUnpacker(19,[d,l(Int16Array)]),e.addExtUnpacker(20,[d,l(Uint16Array)]),e.addExtUnpacker(21,[d,l(Int32Array)]),e.addExtUnpacker(22,[d,l(Uint32Array)]),e.addExtUnpacker(23,[d,l(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[d,l(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,l(Uint8ClampedArray)),e.addExtUnpacker(26,d),e.addExtUnpacker(29,[d,l(DataView)])),i.hasBuffer&&e.addExtUnpacker(27,l(o))};var n,i=r(6895),o=i.global,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function s(e){return n||(n=r(5299).decode),n(e)}function u(e){return RegExp.apply(null,e)}function c(e){return function(t){var r=new e;for(var n in a)r[n]=t[n];return r}}function l(e){return function(t){return new e(t)}}function d(e){return new Uint8Array(e).buffer}},7832:(e,t,r)=>{r(7350),r(5312),t.createCodec=r(1877).createCodec},6822:(e,t,r)=>{t.k=o,t.I=a;var n=r(6895),i="BUFFER_SHORTAGE";function o(){if(!(this instanceof o))return new o}function a(){if(!(this instanceof a))return new a}function s(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function u(e){(this.buffers||(this.buffers=[])).push(e)}function c(e){return function(t){for(var r in e)t[r]=e[r];return t}}o.mixin=c({bufferish:n,write:function(e){var t=this.offset?n.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0},fetch:function(){throw new Error("method not implemented: fetch()")},flush:function(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(e){if(e&&e.message!=i)throw e;this.offset=t;break}this.push(e)}},push:u,pull:function(){return(this.buffers||(this.buffers=[])).shift()},read:s,reserve:function(e){var t=this.offset,r=t+e;if(r>this.buffer.length)throw new Error(i);return this.offset=r,t},offset:0}),o.mixin(o.prototype),a.mixin=c({bufferish:n,write:function(){throw new Error("method not implemented: write()")},fetch:function(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return n.prototype.slice.call(this.buffer,e,t)}},flush:function(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}},push:u,pull:function(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t},read:s,reserve:function(e){var t=0|e;if(this.buffer){var r=this.buffer.length,n=0|this.offset,i=n+t;if(i<r)return this.offset=i,n;this.flush(),e=Math.max(e,Math.min(2*r,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0},send:function(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var r=this.reserve(t);n.prototype.copy.call(e,this.buffer,r)}},maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}),a.mixin(a.prototype)},7350:(e,t,r)=>{var n=r(6083).S,i=r(6600),o=r(6076).readUint8,a=r(5738),s=r(1877);function u(){var e=this.options;return this.decode=function(e){var t=a.getReadToken(e);return function(e){var r=o(e),n=t[r];if(!n)throw new Error("Invalid type: "+(r?"0x"+r.toString(16):r));return n(e)}}(e),e&&e.preset&&i.setExtUnpackers(this),this}s.install({addExtUnpacker:function(e,t){(this.extUnpackers||(this.extUnpackers=[]))[e]=s.filter(t)},getExtUnpacker:function(e){return(this.extUnpackers||(this.extUnpackers=[]))[e]||function(t){return new n(t,e)}},init:u}),t.preset=u.call(s.preset)},6076:(e,t,r)=>{var n=r(645),i=r(1166),o=i.Uint64BE,a=i.Int64BE;t.getReadFormat=function(e){var t=s.hasArrayBuffer&&e&&e.binarraybuffer,r=e&&e.int64;return{map:c&&e&&e.usemap?f:d,array:p,str:h,bin:t?g:m,ext:v,uint8:y,uint16:b,uint32:P,uint64:_(8,r?T:C),int8:S,int16:w,int32:k,int64:_(8,r?I:M),float32:_(4,A),float64:_(8,D)}},t.readUint8=y;var s=r(6895),u=r(3190),c="undefined"!=typeof Map,l=!0;function d(e,t){var r,n={},i=new Array(t),o=new Array(t),a=e.codec.decode;for(r=0;r<t;r++)i[r]=a(e),o[r]=a(e);for(r=0;r<t;r++)n[i[r]]=o[r];return n}function f(e,t){var r,n=new Map,i=new Array(t),o=new Array(t),a=e.codec.decode;for(r=0;r<t;r++)i[r]=a(e),o[r]=a(e);for(r=0;r<t;r++)n.set(i[r],o[r]);return n}function p(e,t){for(var r=new Array(t),n=e.codec.decode,i=0;i<t;i++)r[i]=n(e);return r}function h(e,t){var r=e.reserve(t),n=r+t;return u.toString.call(e.buffer,"utf-8",r,n)}function m(e,t){var r=e.reserve(t),n=r+t,i=u.slice.call(e.buffer,r,n);return s.from(i)}function g(e,t){var r=e.reserve(t),n=r+t,i=u.slice.call(e.buffer,r,n);return s.Uint8Array.from(i).buffer}function v(e,t){var r=e.reserve(t+1),n=e.buffer[r++],i=r+t,o=e.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return o(u.slice.call(e.buffer,r,i))}function y(e){var t=e.reserve(1);return e.buffer[t]}function S(e){var t=e.reserve(1),r=e.buffer[t];return 128&r?r-256:r}function b(e){var t=e.reserve(2),r=e.buffer;return r[t++]<<8|r[t]}function w(e){var t=e.reserve(2),r=e.buffer,n=r[t++]<<8|r[t];return 32768&n?n-65536:n}function P(e){var t=e.reserve(4),r=e.buffer;return 16777216*r[t++]+(r[t++]<<16)+(r[t++]<<8)+r[t]}function k(e){var t=e.reserve(4),r=e.buffer;return r[t++]<<24|r[t++]<<16|r[t++]<<8|r[t]}function _(e,t){return function(r){var n=r.reserve(e);return t.call(r.buffer,n,l)}}function C(e){return new o(this,e).toNumber()}function M(e){return new a(this,e).toNumber()}function T(e){return new o(this,e)}function I(e){return new a(this,e)}function A(e){return n.read(this,e,!1,23,4)}function D(e){return n.read(this,e,!1,52,8)}},5738:(e,t,r)=>{var n=r(6076);function i(e){var t,r=new Array(256);for(t=0;t<=127;t++)r[t]=o(t);for(t=128;t<=143;t++)r[t]=s(t-128,e.map);for(t=144;t<=159;t++)r[t]=s(t-144,e.array);for(t=160;t<=191;t++)r[t]=s(t-160,e.str);for(r[192]=o(null),r[193]=null,r[194]=o(!1),r[195]=o(!0),r[196]=a(e.uint8,e.bin),r[197]=a(e.uint16,e.bin),r[198]=a(e.uint32,e.bin),r[199]=a(e.uint8,e.ext),r[200]=a(e.uint16,e.ext),r[201]=a(e.uint32,e.ext),r[202]=e.float32,r[203]=e.float64,r[204]=e.uint8,r[205]=e.uint16,r[206]=e.uint32,r[207]=e.uint64,r[208]=e.int8,r[209]=e.int16,r[210]=e.int32,r[211]=e.int64,r[212]=s(1,e.ext),r[213]=s(2,e.ext),r[214]=s(4,e.ext),r[215]=s(8,e.ext),r[216]=s(16,e.ext),r[217]=a(e.uint8,e.str),r[218]=a(e.uint16,e.str),r[219]=a(e.uint32,e.str),r[220]=a(e.uint16,e.array),r[221]=a(e.uint32,e.array),r[222]=a(e.uint16,e.map),r[223]=a(e.uint32,e.map),t=224;t<=255;t++)r[t]=o(t-256);return r}function o(e){return function(){return e}}function a(e,t){return function(r){var n=e(r);return t(r,n)}}function s(e,t){return function(r){return t(r,e)}}t.getReadToken=function(e){var t=n.getReadFormat(e);return e&&e.useraw?function(e){var t,r=i(e).slice();for(r[217]=r[196],r[218]=r[197],r[219]=r[198],t=160;t<=191;t++)r[t]=s(t-160,e.bin);return r}(t):i(t)}},5312:(e,t,r)=>{var n=r(6083).S,i=r(9431),o=r(5943),a=r(1877);function s(){var e=this.options;return this.encode=function(e){var t=o.getWriteType(e);return function(e,r){var n=t[typeof r];if(!n)throw new Error('Unsupported type "'+typeof r+'": '+r);n(e,r)}}(e),e&&e.preset&&i.setExtPackers(this),this}a.install({addExtPacker:function(e,t,r){r=a.filter(r);var i=t.name;function o(t){return r&&(t=r(t)),new n(t,e)}i&&"Object"!==i?(this.extPackers||(this.extPackers={}))[i]=o:(this.extEncoderList||(this.extEncoderList=[])).unshift([t,o])},getExtPacker:function(e){var t=this.extPackers||(this.extPackers={}),r=e.constructor,n=r&&r.name&&t[r.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,a=0;a<o;a++){var s=i[a];if(r===s[0])return s[1]}},init:s}),t.preset=s.call(a.preset)},1598:(e,t,r)=>{var n=r(645),i=r(1166),o=i.Uint64BE,a=i.Int64BE,s=r(9370).w,u=r(6895),c=u.global,l=u.hasBuffer&&"TYPED_ARRAY_SUPPORT"in c&&!c.TYPED_ARRAY_SUPPORT,d=u.hasBuffer&&c.prototype||{};function f(){var e=s.slice();return e[196]=p(196),e[197]=h(197),e[198]=m(198),e[199]=p(199),e[200]=h(200),e[201]=m(201),e[202]=g(202,4,d.writeFloatBE||S,!0),e[203]=g(203,8,d.writeDoubleBE||b,!0),e[204]=p(204),e[205]=h(205),e[206]=m(206),e[207]=g(207,8,v),e[208]=p(208),e[209]=h(209),e[210]=m(210),e[211]=g(211,8,y),e[217]=p(217),e[218]=h(218),e[219]=m(219),e[220]=h(220),e[221]=m(221),e[222]=h(222),e[223]=m(223),e}function p(e){return function(t,r){var n=t.reserve(2),i=t.buffer;i[n++]=e,i[n]=r}}function h(e){return function(t,r){var n=t.reserve(3),i=t.buffer;i[n++]=e,i[n++]=r>>>8,i[n]=r}}function m(e){return function(t,r){var n=t.reserve(5),i=t.buffer;i[n++]=e,i[n++]=r>>>24,i[n++]=r>>>16,i[n++]=r>>>8,i[n]=r}}function g(e,t,r,n){return function(i,o){var a=i.reserve(t+1);i.buffer[a++]=e,r.call(i.buffer,o,a,n)}}function v(e,t){new o(this,t,e)}function y(e,t){new a(this,t,e)}function S(e,t){n.write(this,e,t,!1,23,4)}function b(e,t){n.write(this,e,t,!1,52,8)}t.getWriteToken=function(e){return e&&e.uint8array?((t=f())[202]=g(202,4,S),t[203]=g(203,8,b),t):l||u.hasBuffer&&e&&e.safe?function(){var e=s.slice();return e[196]=g(196,1,c.prototype.writeUInt8),e[197]=g(197,2,c.prototype.writeUInt16BE),e[198]=g(198,4,c.prototype.writeUInt32BE),e[199]=g(199,1,c.prototype.writeUInt8),e[200]=g(200,2,c.prototype.writeUInt16BE),e[201]=g(201,4,c.prototype.writeUInt32BE),e[202]=g(202,4,c.prototype.writeFloatBE),e[203]=g(203,8,c.prototype.writeDoubleBE),e[204]=g(204,1,c.prototype.writeUInt8),e[205]=g(205,2,c.prototype.writeUInt16BE),e[206]=g(206,4,c.prototype.writeUInt32BE),e[207]=g(207,8,v),e[208]=g(208,1,c.prototype.writeInt8),e[209]=g(209,2,c.prototype.writeInt16BE),e[210]=g(210,4,c.prototype.writeInt32BE),e[211]=g(211,8,y),e[217]=g(217,1,c.prototype.writeUInt8),e[218]=g(218,2,c.prototype.writeUInt16BE),e[219]=g(219,4,c.prototype.writeUInt32BE),e[220]=g(220,2,c.prototype.writeUInt16BE),e[221]=g(221,4,c.prototype.writeUInt32BE),e[222]=g(222,2,c.prototype.writeUInt16BE),e[223]=g(223,4,c.prototype.writeUInt32BE),e}():f();var t}},5943:(e,t,r)=>{var n=r(5826),i=r(1166),o=i.Uint64BE,a=i.Int64BE,s=r(6895),u=r(3190),c=r(1598),l=r(9370).w,d=r(6083).S,f="undefined"!=typeof Uint8Array,p="undefined"!=typeof Map,h=[];h[1]=212,h[2]=213,h[4]=214,h[8]=215,h[16]=216,t.getWriteType=function(e){var t,r=c.getWriteToken(e),i=e&&e.useraw,m=f&&e&&e.binarraybuffer,g=m?s.isArrayBuffer:s.isBuffer,v=m?function(e,t){w(e,new Uint8Array(t))}:w,y=p&&e&&e.usemap?function(e,t){if(!(t instanceof Map))return P(e,t);var n=t.size;r[n<16?128+n:n<=65535?222:223](e,n);var i=e.codec.encode;t.forEach((function(t,r,n){i(e,r),i(e,t)}))}:P;return{boolean:function(e,t){r[t?195:194](e,t)},function:b,number:function(e,t){var n=0|t;t===n?r[-32<=n&&n<=127?255&n:0<=n?n<=255?204:n<=65535?205:206:-128<=n?208:-32768<=n?209:210](e,n):r[203](e,t)},object:i?function(e,t){if(g(t))return function(e,t){var n=t.length;r[n<32?160+n:n<=65535?218:219](e,n),e.send(t)}(e,t);S(e,t)}:S,string:(t=i?function(e){return e<32?1:e<=65535?3:5}:function(e){return e<32?1:e<=255?2:e<=65535?3:5},function(e,n){var i=n.length,o=5+3*i;e.offset=e.reserve(o);var a=e.buffer,s=t(i),c=e.offset+s;i=u.write.call(a,n,c);var l=t(i);if(s!==l){var d=c+l-s,f=c+i;u.copy.call(a,a,d,c,f)}r[1===l?160+i:l<=3?215+l:219](e,i),e.offset+=i}),symbol:b,undefined:b};function S(e,t){if(null===t)return b(e,t);if(g(t))return v(e,t);if(n(t))return function(e,t){var n=t.length;r[n<16?144+n:n<=65535?220:221](e,n);for(var i=e.codec.encode,o=0;o<n;o++)i(e,t[o])}(e,t);if(o.isUint64BE(t))return function(e,t){r[207](e,t.toArray())}(e,t);if(a.isInt64BE(t))return function(e,t){r[211](e,t.toArray())}(e,t);var i=e.codec.getExtPacker(t);if(i&&(t=i(t)),t instanceof d)return function(e,t){var n=t.buffer,i=n.length,o=h[i]||(i<255?199:i<=65535?200:201);r[o](e,i),l[t.type](e),e.send(n)}(e,t);y(e,t)}function b(e,t){r[192](e,t)}function w(e,t){var n=t.length;r[n<255?196:n<=65535?197:198](e,n),e.send(t)}function P(e,t){var n=Object.keys(t),i=n.length;r[i<16?128+i:i<=65535?222:223](e,i);var o=e.codec.encode;n.forEach((function(r){o(e,r),o(e,t[r])}))}}},9370:(e,t)=>{for(var r=t.w=new Array(256),n=0;n<=255;n++)r[n]=i(n);function i(e){return function(t){var r=t.reserve(1);t.buffer[r]=e}}},1588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelClass=t.Channel=void 0;const n=r(9593),i=r(2781),o=r(5011),a=r(1216),s=r(9454),u=r(7312),c=r(7528),l=r(5458);class d{get id(){return this.qualifiedId.id}constructor(e){this._isDisposed=!1,this.qualifiedId=e}get isDisposed(){return this._isDisposed}dispose(e){this._isDisposed=!0}}t.Channel=d,t.ChannelClass=class extends d{constructor(e,t,r){super(t),this._acceptance=new a.Deferred,this._completion=new a.Deferred,this.remoteWindowFilled=0;const n=this;switch(this.name=r.name,t.source){case c.ChannelSource.Local:this.localWindowSize=r.remoteWindowSize;break;case c.ChannelSource.Remote:this.remoteWindowSize=r.remoteWindowSize;break;case c.ChannelSource.Seeded:this.remoteWindowSize=r.remoteWindowSize,this.localWindowSize=r.remoteWindowSize;break;default:throw new Error("Channel source not recognized.")}this._multiplexingStream=e,this.remoteWindowHasCapacity=new a.Deferred,this._multiplexingStream.backpressureSupportEnabled&&!this.remoteWindowSize||this.remoteWindowHasCapacity.resolve(),this._duplex=new i.Duplex({async write(r,i,a){let c;try{let i=Buffer.from(r);for(;i.length>0;){let r=Math.min(i.length,u.MultiplexingStream.framePayloadMaxLength);if(n._multiplexingStream.backpressureSupportEnabled){if(await n.remoteWindowHasCapacity.promise,!n.remoteWindowSize)throw new Error("Remote window size unknown.");r=Math.min(n.remoteWindowSize-n.remoteWindowFilled,r)}n.onTransmittingBytes(r);const a=new s.FrameHeader(o.ControlCode.content,t);await e.sendFrameAsync(a,i.slice(0,r)),i=i.slice(r)}}catch(e){c=e}a&&a(c)},async final(t){let r;try{await e.onChannelWritingCompleted(n)}catch(e){r=e}t&&t(r)},read(){}})}get stream(){return this._duplex}get acceptance(){return this._acceptance.promise}get isAccepted(){return this._acceptance.isResolved}get isRejectedOrCanceled(){return this._acceptance.isRejected}get completion(){return this._completion.promise}tryAcceptOffer(e){return!!this._acceptance.resolve()&&(this.localWindowSize=void 0!==(null==e?void 0:e.channelReceivingWindowSize)?Math.max(this._multiplexingStream.defaultChannelReceivingWindowSize,null==e?void 0:e.channelReceivingWindowSize):this._multiplexingStream.defaultChannelReceivingWindowSize,!0)}tryCancelOffer(e){const t=new n.default.CancellationError(e);this._acceptance.reject(t),this._completion.reject(t),l(this._completion.promise),this.dispose()}onAccepted(e){return this._multiplexingStream.backpressureSupportEnabled&&(this.remoteWindowSize=e.remoteWindowSize,this.remoteWindowHasCapacity.resolve()),this._acceptance.resolve()}onContent(e){this._duplex.push(e),this._multiplexingStream.backpressureSupportEnabled&&e&&this._multiplexingStream.localContentExamined(this,e.length)}onContentProcessed(e){if(e<0)throw new Error("A non-negative number is required.");if(e>this.remoteWindowFilled)throw new Error("More bytes processed than we thought were in the window.");if(void 0===this.remoteWindowSize)throw new Error("Unexpected content processed message given we don't know the remote window size.");this.remoteWindowFilled-=e,this.remoteWindowFilled<this.remoteWindowSize&&this.remoteWindowHasCapacity.resolve()}dispose(e){this.isDisposed||(super.dispose(),this._acceptance.reject(new n.default.CancellationError("disposed"))&&l(this.acceptance),this._duplex.end(),this._duplex.push(null),e?this._completion.reject(e):this._completion.resolve(),l(this._multiplexingStream.onChannelDisposed(this,null!=e?e:null)))}onTransmittingBytes(e){if(this._multiplexingStream.backpressureSupportEnabled){if(e<0)throw new Error("Negative byte count transmitted.");this.remoteWindowFilled+=e,this.remoteWindowFilled===this.remoteWindowSize&&(this.remoteWindowHasCapacity=new a.Deferred)}}}},5011:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ControlCode=void 0,function(e){e[e.offer=0]="offer",e[e.offerAccepted=1]="offerAccepted",e[e.content=2]="content",e[e.contentWritingCompleted=3]="contentWritingCompleted",e[e.channelTerminated=4]="channelTerminated",e[e.contentProcessed=5]="contentProcessed"}(r||(t.ControlCode=r={}))},1216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.Deferred=class{constructor(e){this.state=e,this._isResolved=!1,this._isRejected=!1,this.promise=new Promise(((e,t)=>{this.resolvePromise=e,this.rejectPromise=t}))}get isCompleted(){return this._isResolved||this._isRejected}get isResolved(){return this._isResolved}get isRejected(){return this._isRejected}get error(){return this._error}resolve(e){return!this.isCompleted&&(this.resolvePromise(e),this._isResolved=!0,!0)}reject(e){return!this.isCompleted&&(this.rejectPromise(e),this._error=e,this._isRejected=!0,!0)}}},9454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameHeader=void 0;const n=r(7850);t.FrameHeader=class{constructor(e,t){this.code=e,t&&(0,n.requireInteger)("channelId",t.id,4,"signed"),this.code=e,this._channel=t}get channel(){return this._channel}get requiredChannel(){if(this.channel)return this.channel;throw new Error("Expected channel not present in frame header.")}flipChannelPerspective(){this._channel&&(this._channel={id:this._channel.id,source:-1*this._channel.source})}}},7900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullDuplexStream=void 0;const n=r(2781);class i{static CreatePair(){const e=new n.PassThrough,t=new n.PassThrough;return{first:i.Splice(e,t),second:i.Splice(t,e)}}static Splice(e,t){const r=new n.Duplex({write(e,r,n){t.write(e,r,n)},final(e){t.end(e)}});return r.read=e.read.bind(e),r.on=e.on.bind(e),r}}t.FullDuplexStream=i},7312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplexingStreamClass=t.MultiplexingStream=void 0;const n=r(4017),i=r(9593),o=r(2361),a=r(1588),s=r(5011),u=r(1216),c=r(9454),l=r(9574);r(3527);const d=r(7528),f=r(7850),p=r(5458);class h{get disposalToken(){return this.disposalTokenSource.token}get completion(){return this._completionSource.promise}get isDisposed(){return this.disposalTokenSource.token.isCancelled}static async CreateAsync(e,t,r=i.default.CONTINUE){var n;if(!e)throw new Error("stream must be specified.");if(null!==(n=(t=t||{}).protocolMajorVersion)&&void 0!==n||(t.protocolMajorVersion=1),t.defaultChannelReceivingWindowSize=t.defaultChannelReceivingWindowSize||h.recommendedDefaultChannelReceivingWindowSize,t.protocolMajorVersion<3&&t.seededChannels&&t.seededChannels.length>0)throw new Error("Seeded channels require v3 of the protocol at least.");const o=1===t.protocolMajorVersion?new l.MultiplexingStreamV1Formatter(e):2===t.protocolMajorVersion?new l.MultiplexingStreamV2Formatter(e):3===t.protocolMajorVersion?new l.MultiplexingStreamV3Formatter(e):void 0;if(!o)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported.`);const a=await o.writeHandshakeAsync(),s=await o.readHandshakeAsync(a,r);return o.isOdd=s.isOdd,new m(o,s.isOdd,t)}static Create(e,t){var r;null!=t||(t={protocolMajorVersion:3}),null!==(r=t.protocolMajorVersion)&&void 0!==r||(t.protocolMajorVersion=3);const n=3===t.protocolMajorVersion?new l.MultiplexingStreamV3Formatter(e):void 0;if(!n)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported. Try CreateAsync instead.`);return new m(n,void 0,t)}constructor(e,t,r){var n,s,c;if(this.formatter=e,this.isOdd=t,this._completionSource=new u.Deferred,this.seededOpenChannels={},this.locallyOfferedOpenChannels={},this.remotelyOfferedOpenChannels={},this.channelsOfferedByThemByName={},this.acceptingChannels={},this.eventEmitter=new o.EventEmitter,this.disposalTokenSource=i.default.create(),this.defaultChannelReceivingWindowSize=null!==(n=r.defaultChannelReceivingWindowSize)&&void 0!==n?n:h.recommendedDefaultChannelReceivingWindowSize,this.protocolMajorVersion=null!==(s=r.protocolMajorVersion)&&void 0!==s?s:1,r.seededChannels)for(let e=0;e<r.seededChannels.length;e++){const t=r.seededChannels[e],n={id:e,source:d.ChannelSource.Seeded};this.setOpenChannel(new a.ChannelClass(this,n,{name:"",remoteWindowSize:null!==(c=t.channelReceivingWindowSize)&&void 0!==c?c:this.defaultChannelReceivingWindowSize}))}}createChannel(e){var t;const r={name:"",remoteWindowSize:null!==(t=null==e?void 0:e.channelReceivingWindowSize)&&void 0!==t?t:this.defaultChannelReceivingWindowSize},n=this.formatter.serializeOfferParameters(r),i=new a.ChannelClass(this,{id:this.getUnusedChannelId(),source:d.ChannelSource.Local},r);return this.setOpenChannel(i),this.rejectOnFailure(this.sendFrameAsync(new c.FrameHeader(s.ControlCode.offer,i.qualifiedId),n,this.disposalToken)),i}acceptChannel(e,t){const r=this.remotelyOfferedOpenChannels[e]||this.seededOpenChannels[e];if(!r)throw new Error("No channel with ID "+e);return this.removeChannelFromOfferedQueue(r),this.acceptChannelOrThrow(r,t),r}rejectChannel(e){const t=this.remotelyOfferedOpenChannels[e];if(!t)throw new Error("No channel with that ID found.");(0,f.removeFromQueue)(t,this.channelsOfferedByThemByName[t.name]),p(t.acceptance),p(t.completion),t.dispose()}async offerChannelAsync(e,t,r=i.default.CONTINUE){var n;if(null==e)throw new Error("Name must be specified (but may be empty).");r.throwIfCancelled(),(0,f.throwIfDisposed)(this);const o={name:e,remoteWindowSize:null!==(n=null==t?void 0:t.channelReceivingWindowSize)&&void 0!==n?n:this.defaultChannelReceivingWindowSize},u=this.formatter.serializeOfferParameters(o),l=new a.ChannelClass(this,{id:this.getUnusedChannelId(),source:d.ChannelSource.Local},o);this.setOpenChannel(l);const h=new c.FrameHeader(s.ControlCode.offer,l.qualifiedId),m=r.onCancelled((e=>this.offerChannelCanceled(l,e)));try{return p(l.acceptance),await this.sendFrameAsync(h,u,r),await l.acceptance,l}finally{m()}}async acceptChannelAsync(e,t,r=i.default.CONTINUE){if(null==e)throw new Error("Name must be specified (but may be empty).");let n,o;r.throwIfCancelled(),(0,f.throwIfDisposed)(this);const a=this.channelsOfferedByThemByName[e];if(a)for(;void 0===n&&a.length>0;)n=a.shift(),(n.isAccepted||n.isRejectedOrCanceled)&&(n=void 0);if(void 0===n){let r=this.acceptingChannels[e];r||(this.acceptingChannels[e]=r=[]),o=new u.Deferred(t),r.push(o)}if(void 0!==n)return this.acceptChannelOrThrow(n,t),n;{const t=r.onCancelled((t=>this.acceptChannelCanceled(o,e,t)));try{return await o.promise}finally{t()}}}dispose(){this.disposeCore(!1)}disposeCore(e){this.disposalTokenSource.cancel(),this._completionSource.resolve(),this.formatter.end(),[this.locallyOfferedOpenChannels,this.remotelyOfferedOpenChannels].forEach((e=>{for(const t in e)if(e.hasOwnProperty(t)){const r=e[t];p(r.acceptance),r.dispose()}}));const t=e?"The remote party has disconnected.":"The stream is being disposed locally.";for(const e in this.acceptingChannels)if(this.acceptingChannels.hasOwnProperty(e)){const r=this.acceptingChannels[e];for(const e of r)e.reject(new Error(t));delete this.acceptingChannels[e]}}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}once(e,t){this.eventEmitter.once(e,t)}raiseChannelOffered(e,t,r){const n={id:e,isAccepted:r,name:t};try{this.eventEmitter.emit("channelOffered",n)}catch(e){this._completionSource.reject(e)}}acceptChannelOrThrow(e,t){var r,n;if(!e.tryAcceptOffer(t))throw e.isAccepted?new Error("Channel is already accepted."):e.isRejectedOrCanceled?new Error("Channel is no longer available for acceptance."):new Error("Channel could not be accepted.");{const i={remoteWindowSize:null!==(n=null!==(r=null==t?void 0:t.channelReceivingWindowSize)&&void 0!==r?r:e.localWindowSize)&&void 0!==n?n:this.defaultChannelReceivingWindowSize};if(i.remoteWindowSize<this.defaultChannelReceivingWindowSize&&(i.remoteWindowSize=this.defaultChannelReceivingWindowSize),e.qualifiedId.source!==d.ChannelSource.Seeded){const t=this.formatter.serializeAcceptanceParameters(i);this.rejectOnFailure(this.sendFrameAsync(new c.FrameHeader(s.ControlCode.offerAccepted,e.qualifiedId),t,this.disposalToken))}}}async rejectOnFailure(e){try{await e}catch(e){this._completionSource.reject(e)}}removeChannelFromOfferedQueue(e){e.name&&(0,f.removeFromQueue)(e,this.channelsOfferedByThemByName[e.name])}getOpenChannel(e){return this.getChannelCollection(e.source)[e.id]}setOpenChannel(e){this.getChannelCollection(e.qualifiedId.source)[e.qualifiedId.id]=e}deleteOpenChannel(e){delete this.getChannelCollection(e.source)[e.id]}getChannelCollection(e){switch(e){case d.ChannelSource.Local:return this.locallyOfferedOpenChannels;case d.ChannelSource.Remote:return this.remotelyOfferedOpenChannels;case d.ChannelSource.Seeded:return this.seededOpenChannels}}acceptChannelCanceled(e,t,r){e.reject(new i.default.CancellationError(r))&&(0,f.removeFromQueue)(e,this.acceptingChannels[t])}offerChannelCanceled(e,t){e.tryCancelOffer(t)}getUnusedChannelId(){return this.lastOfferedChannelId+=void 0!==this.isOdd?2:1}}t.MultiplexingStream=h,h.framePayloadMaxLength=20480,h.recommendedDefaultChannelReceivingWindowSize=5*h.framePayloadMaxLength,h.defaultChannelOptions={},h.ControlFrameEncoding="utf-8";class m extends h{constructor(e,t,r){var i,o;super(e,t,r),this.sendingSemaphore=new n.Semaphore(1),this.lastOfferedChannelId=t?-1:0,this.lastOfferedChannelId+=null!==(o=null===(i=r.seededChannels)||void 0===i?void 0:i.length)&&void 0!==o?o:0,this.readFromStream(this.disposalToken).catch((e=>this._completionSource.reject(e)))}get backpressureSupportEnabled(){return this.protocolMajorVersion>1}async sendFrameAsync(e,t,r=i.default.CONTINUE){if(!e)throw new Error("Header is required.");await this.sendingSemaphore.use((async()=>{r.throwIfCancelled(),(0,f.throwIfDisposed)(this),await this.formatter.writeFrameAsync(e,t)}))}async sendFrame(e,t){try{if(this._completionSource.isCompleted)return;const r=new c.FrameHeader(e,t);await this.sendFrameAsync(r)}catch(e){this._completionSource.reject(e)}}onChannelWritingCompleted(e){!e.isDisposed&&this.getOpenChannel(e.qualifiedId)&&this.sendFrame(s.ControlCode.contentWritingCompleted,e.qualifiedId)}async onChannelDisposed(e,t){if(!this._completionSource.isCompleted)try{const r=this.protocolMajorVersion>1&&t?this.formatter.serializeException(t):Buffer.alloc(0),n=new c.FrameHeader(s.ControlCode.channelTerminated,e.qualifiedId);await this.sendFrameAsync(n,r)}catch(e){if(this.isDisposed)return;throw e}}localContentExamined(e,t){const r=this.formatter.serializeContentProcessed(t);this.rejectOnFailure(this.sendFrameAsync(new c.FrameHeader(s.ControlCode.contentProcessed,e.qualifiedId),r))}async readFromStream(e){for(;!this.isDisposed;){const t=await this.formatter.readFrameAsync(e);if(null===t)break;switch(t.header.flipChannelPerspective(),t.header.code){case s.ControlCode.offer:this.onOffer(t.header.requiredChannel,t.payload);break;case s.ControlCode.offerAccepted:this.onOfferAccepted(t.header.requiredChannel,t.payload);break;case s.ControlCode.content:this.onContent(t.header.requiredChannel,t.payload);break;case s.ControlCode.contentProcessed:this.onContentProcessed(t.header.requiredChannel,t.payload);break;case s.ControlCode.contentWritingCompleted:this.onContentWritingCompleted(t.header.requiredChannel);break;case s.ControlCode.channelTerminated:this.onChannelTerminated(t.header.requiredChannel,t.payload)}}this.disposeCore(!0)}onOffer(e,t){const r=this.formatter.deserializeOfferParameters(t),n=new a.ChannelClass(this,e,r);let i,o,s=!1;if(void 0!==(o=this.acceptingChannels[r.name]))for(;o.length>0;){const e=o.shift();if(e.resolve(n)){s=!0,i=e.state;break}}if(!s){let e;(e=this.channelsOfferedByThemByName[r.name])||(this.channelsOfferedByThemByName[r.name]=e=[]),e.push(n)}this.setOpenChannel(n),s&&this.acceptChannelOrThrow(n,i),this.raiseChannelOffered(n.id,n.name,s)}onOfferAccepted(e,t){if(e.source!==d.ChannelSource.Local)throw new Error("Remote party tried to accept a channel that they offered.");const r=this.formatter.deserializeAcceptanceParameters(t),n=this.getOpenChannel(e);if(!n)throw new Error(`Unexpected channel created with ID ${d.QualifiedChannelId.toString(e)}`);n.onAccepted(r)}onContent(e,t){const r=this.getOpenChannel(e);if(!r)throw new Error(`No channel with id ${e} found.`);r.onContent(t)}onContentProcessed(e,t){const r=this.getOpenChannel(e);if(!r)throw new Error(`No channel with id ${e} found.`);const n=this.formatter.deserializeContentProcessed(t);r.onContentProcessed(n)}onContentWritingCompleted(e){const t=this.getOpenChannel(e);if(!t)throw new Error(`No channel with id ${e} found.`);t.onContent(null)}onChannelTerminated(e,t){const r=this.getOpenChannel(e);if(r){this.deleteOpenChannel(e),this.removeChannelFromOfferedQueue(r);const n=this.protocolMajorVersion>1?this.formatter.deserializeException(t):null;r.dispose(n)}}}t.MultiplexingStreamClass=m},9574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplexingStreamV3Formatter=t.MultiplexingStreamV2Formatter=t.MultiplexingStreamV1Formatter=t.MultiplexingStreamFormatter=void 0;const n=r(7312),i=r(7850),o=r(7323),a=r(1216),s=r(9454),u=r(7528);class c{static getIsOddRandomData(){const e=Buffer.alloc(16);for(let t=0;t<16;t++)e[t]=Math.floor(256*Math.random());return e}static isOdd(e,t){let r;for(let n=0;n<e.length;n++){const i=e[n],o=t[n];if(i>o){r=!0;break}if(i<o){r=!1;break}}if(void 0===r)throw new Error("Unable to determine even/odd party.");return r}createFrameHeader(e,t){if(!t)return new s.FrameHeader(e);const r=t%2==1===this.isOdd?u.ChannelSource.Remote:u.ChannelSource.Local;return new s.FrameHeader(e,{id:t,source:r})}}t.MultiplexingStreamFormatter=c;class l extends c{constructor(e){super(),this.stream=e}end(){this.stream.end()}async writeHandshakeAsync(){const e=c.getIsOddRandomData(),t=Buffer.concat([l.protocolMagicNumber,e]);return await(0,i.writeAsync)(this.stream,t),e}async readHandshakeAsync(e,t){const r=e,n=await(0,i.getBufferFrom)(this.stream,l.protocolMagicNumber.length+16,!1,t);for(let e=0;e<l.protocolMagicNumber.length;e++){const t=l.protocolMagicNumber[e],r=n.readUInt8(e);if(t!==r)throw new Error(`Protocol magic number mismatch. Expected ${t} but was ${r}.`)}return{isOdd:c.isOdd(r,n.slice(l.protocolMagicNumber.length)),protocolVersion:{major:1,minor:0}}}async writeFrameAsync(e,t){var r;const n=Buffer.alloc(7);n.writeInt8(e.code,0),n.writeUInt32BE((null===(r=e.channel)||void 0===r?void 0:r.id)||0,1),n.writeUInt16BE((null==t?void 0:t.length)||0,5),await(0,i.writeAsync)(this.stream,n),t&&t.length>0&&await(0,i.writeAsync)(this.stream,t)}async readFrameAsync(e){if(void 0===this.isOdd)throw new Error("isOdd must be set first.");const t=await(0,i.getBufferFrom)(this.stream,7,!0,e);if(null===t)return null;const r=this.createFrameHeader(t.readInt8(0),t.readUInt32BE(1)),n=t.readUInt16BE(5);return{header:r,payload:await(0,i.getBufferFrom)(this.stream,n)}}serializeOfferParameters(e){const t=Buffer.from(e.name,n.MultiplexingStream.ControlFrameEncoding);if(t.length>n.MultiplexingStream.framePayloadMaxLength)throw new Error("Name is too long.");return t}deserializeOfferParameters(e){return{name:e.toString(n.MultiplexingStream.ControlFrameEncoding)}}serializeAcceptanceParameters(e){return Buffer.from([])}deserializeAcceptanceParameters(e){return{}}serializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}deserializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}}t.MultiplexingStreamV1Formatter=l,l.protocolMagicNumber=Buffer.from([47,223,29,80]);class d extends c{constructor(e){super(),this.reader=o.createDecodeStream(),e.pipe(this.reader),this.writer=e}end(){this.writer.end()}async writeHandshakeAsync(){const e=c.getIsOddRandomData(),t=[[d.protocolVersion.major,d.protocolVersion.minor],e];return await(0,i.writeAsync)(this.writer,o.encode(t)),e}async readHandshakeAsync(e,t){if(!e)throw new Error("Provide the result of writeHandshakeAsync as a first argument.");const r=await this.readMessagePackAsync(t);if(null===r)throw new Error("No data received during handshake.");return{isOdd:c.isOdd(e,r[1]),protocolVersion:{major:r[0][0],minor:r[0][1]}}}async writeFrameAsync(e,t){var r;const n=[e.code];if(null===(r=e.channel)||void 0===r?void 0:r.id)n.push(e.channel.id),t&&t.length>0&&n.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,i.writeAsync)(this.writer,o.encode(n))}async readFrameAsync(e){if(void 0===this.isOdd)throw new Error("isOdd must be set first.");const t=await this.readMessagePackAsync(e);return null===t?null:{header:this.createFrameHeader(t[0],t[1]),payload:t[2]||Buffer.from([])}}serializeOfferParameters(e){const t=[e.name];return e.remoteWindowSize&&t.push(e.remoteWindowSize),o.encode(t)}deserializeOfferParameters(e){const t=o.decode(e);return{name:t[0],remoteWindowSize:t[1]}}serializeAcceptanceParameters(e){const t=[];return e.remoteWindowSize&&t.push(e.remoteWindowSize),o.encode(t)}deserializeAcceptanceParameters(e){return{remoteWindowSize:o.decode(e)[0]}}serializeContentProcessed(e){return o.encode([e])}deserializeContentProcessed(e){return o.decode(e)[0]}serializeException(e){if(!e)return Buffer.alloc(0);const t=[`${e.name}: ${e.message}`];return o.encode(t)}deserializeException(e){if(0===e.length)return null;const t=o.decode(e);if(!t||0===t.length)return null;let r=o.decode(e)[0];return r=`Received error from remote side: ${r}`,new Error(r)}async readMessagePackAsync(e){const t=new a.Deferred;for(;;){const r=this.reader.read();if(null===r){const r=new a.Deferred,n=r.resolve.bind(r),i=t.resolve.bind(t);this.reader.once("readable",n),this.reader.once("end",i);const o=Promise.race([r.promise,t.promise]);if(await(e?e.racePromise(o):o),this.reader.removeListener("readable",n),this.reader.removeListener("end",i),r.isCompleted)continue;return null}return r}}}t.MultiplexingStreamV2Formatter=d,d.protocolVersion={major:2,minor:0};class f extends d{writeHandshakeAsync(){return Promise.resolve(null)}readHandshakeAsync(){return Promise.resolve({protocolVersion:f.protocolV3Version})}async writeFrameAsync(e,t){const r=[e.code];if(e.channel)r.push(e.channel.id),r.push(e.channel.source),t&&t.length>0&&r.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,i.writeAsync)(this.writer,o.encode(r))}async readFrameAsync(e){const t=await this.readMessagePackAsync(e);return null===t?null:{header:new s.FrameHeader(t[0],t.length>1?{id:t[1],source:t[2]}:void 0),payload:t[3]||Buffer.from([])}}}t.MultiplexingStreamV3Formatter=f,f.protocolV3Version={major:2,minor:0}},3527:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7528:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.QualifiedChannelId=t.ChannelSource=void 0,function(e){e[e.Local=1]="Local",e[e.Remote=-1]="Remote",e[e.Seeded=0]="Seeded"}(r||(t.ChannelSource=r={})),function(e){e.toString=function(e){const t=e.source===r.Local?"local":e.source===r.Remote?"remote":e.source===r.Seeded?"seeded":"unknown";return`${e.id} (${t})`}}(n||(t.QualifiedChannelId=n={}))},7850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeFromQueue=t.requireInteger=t.throwIfDisposed=t.getBufferFrom=t.readSubstream=t.writeSubstream=t.writeAsync=void 0;const n=r(2781),i=r(1216);async function o(e,t){return new Promise(((r,n)=>{e.write(t,(e=>{e?n(e):r()}))}))}async function a(e,t,r=!1,n){const o=new i.Deferred;if(0===t)return Buffer.from([]);let a=null,s=0;for(;t>0;){null==n||n.throwIfCancelled();let u=e.readableLength;if(u)u>t&&(u=t);else{if(e.readableEnded||o.isCompleted){if(!r)throw new Error("Stream terminated before required bytes were read.");return null===a?null:a.subarray(0,s)}u=t}const c=e.read(u);if(c){if(c.length<u&&!r)throw new Error("Stream terminated before required bytes were read.");if(null===a){if(u===t||c.length<u)return c;a=Buffer.alloc(t)}c.copy(a,s),t-=c.length,s+=c.length}if(t>0){const t=new i.Deferred,r=t.resolve.bind(t),a=o.resolve.bind(o);e.once("readable",r),e.once("end",a);try{const e=Promise.race([t.promise,o.promise]);await(n?n.racePromise(e):e)}finally{e.removeListener("readable",r),e.removeListener("end",a)}}}return a}t.writeAsync=o,t.writeSubstream=function(e){return new n.Writable({async write(t,r,n){try{const r=new DataView(new ArrayBuffer(4));r.setUint32(0,t.length,!1),await o(e,Buffer.from(r.buffer)),await o(e,t),n()}catch(e){n(e)}},final(t){e.write(new Uint8Array(4),t)}})},t.readSubstream=function(e){return new n.Readable({async read(t){const r=await a(e,4),n=new DataView(r.buffer,r.byteOffset,r.length).getUint32(0,!1);if(0===n)return void this.push(null);const i=await a(e,n);this.push(i)}})},t.getBufferFrom=a,t.throwIfDisposed=function(e){if(e.isDisposed)throw new Error("disposed")},t.requireInteger=function(e,t,r,n="signed"){if(!Number.isInteger(t))throw new Error(`${e} must be an integer.`);let i=8*r;"signed"===n&&i--;const o=Math.pow(2,i)-1,a="signed"===n?-Math.pow(2,i):0;if(t>o||t<a)throw new Error(`${e} must be in the range ${a}-${o}.`)},t.removeFromQueue=function(e,t){if(t){const r=t.indexOf(e);r>=0&&t.splice(r,1)}}},3543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelSource=t.QualifiedChannelId=t.readSubstream=t.writeSubstream=t.MultiplexingStream=t.FullDuplexStream=t.Channel=void 0;var n=r(1588);Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return n.Channel}});var i=r(7900);Object.defineProperty(t,"FullDuplexStream",{enumerable:!0,get:function(){return i.FullDuplexStream}});var o=r(7312);Object.defineProperty(t,"MultiplexingStream",{enumerable:!0,get:function(){return o.MultiplexingStream}});var a=r(7850);Object.defineProperty(t,"writeSubstream",{enumerable:!0,get:function(){return a.writeSubstream}}),Object.defineProperty(t,"readSubstream",{enumerable:!0,get:function(){return a.readSubstream}});var s=r(7528);Object.defineProperty(t,"QualifiedChannelId",{enumerable:!0,get:function(){return s.QualifiedChannelId}}),Object.defineProperty(t,"ChannelSource",{enumerable:!0,get:function(){return s.ChannelSource}})},9887:e=>{"use strict";e.exports=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}},6810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=t.extensionName=t.mauiActivation=t.telemetryService=t.logger=void 0;const n=r(3196),i=r(3266),o=r(2182),a=r(3865),s=r(3117),u=r(5617);t.activate=async function(e){t.extensionName=e.extension.packageJSON.name;let r,a=new o.MauiSettings(e),c=a.getLogVerbosity();t.logger=new n.Logger(e.extension.packageJSON.displayName,c),a.enableTelemetryInOutputWindow()&&(r=new n.Logger(`${e.extension.packageJSON.displayName} - Telemetry`,c)),t.telemetryService=new u.TelemetryService(e,r);const l=new s.TelemetryActivity("extension-activation");return t.mauiActivation=new i.MauiActivation,t.mauiActivation.activate(e,a),l.sendTelemetry(),{maui:t.mauiActivation}},t.deactivate=function(e){t.logger.log(a.mauiResources.services.mauiDeactivationCalled),t.mauiActivation?.deactivate(e),t.mauiActivation=null,t.telemetryService?.dispose(),t.telemetryService=null}},8510:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogImportance=void 0,(r=t.LogImportance||(t.LogImportance={}))[r.low=0]="low",r[r.normal=1]="normal",r[r.high=2]="high"},2501:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogVerbosity=void 0,(r=t.LogVerbosity||(t.LogVerbosity={}))[r.diagnostic=0]="diagnostic",r[r.detailed=1]="detailed",r[r.minimal=2]="minimal"},3196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(9496),i=r(8510),o=r(2501),a=r(9703);class s extends a.LoggerBase{outputChannel;level;constructor(e,t){super(),this.outputChannel="string"==typeof e?n.window.createOutputChannel(e):e,this.level=i.LogImportance.normal,this.setLogVerbosity(t)}setLogVerbosity(e){switch(e){case o.LogVerbosity.minimal:this.level=i.LogImportance.high;break;case o.LogVerbosity.detailed:this.level=i.LogImportance.normal;break;case o.LogVerbosity.diagnostic:this.level=i.LogImportance.low}}log(e,t){(void 0===t||t>=this.level)&&this.outputChannel.appendLine(e)}show(){this.outputChannel.show()}}t.Logger=s},9703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerBase=void 0,t.LoggerBase=class{async watch(e,t,r,n){this.log(`Starting ${e}...`,r);try{const n=await t();return this.log(`Completed ${e}`,r),n}catch(t){throw this.log(`Failed at '${e}' with error: ${t}`,r),n?.addOrUpdateProperties({succeeded:String(!1),error:t instanceof Error?t.name:"error"}),t}}show(){}}},2920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessLogger=void 0;const n=r(9703);class i extends n.LoggerBase{outputLog;stdErr=[];stdOut=[];constructor(){super(),this.outputLog=[]}log(e){this.outputLog.push(e)}logStdErr(e){this.stdErr.push(e),this.log(e)}logStdOut(e){this.stdOut.push(e),this.log(e)}getProcessStdErr(){return this.stdErr.join("")}getProcessStdOut(){return this.stdOut.join("")}getOutput(){return this.outputLog.join("")}}t.ProcessLogger=i},5873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CliService=void 0;const n=r(2081),i=r(6113),o=r(7147),a=r(2037),s=r(6810),u=r(2037),c=r(7147),l=r(1017);t.CliService=class{utf8BOM=Buffer.from([239,187,191]);async runDotNet(e,t,r){const n="win32"===process.platform?"dotnet.exe":"dotnet";await this.run(n,e,t,r)}async run(e,t,r,i){const o=i??s.logger;await o.watch(`command: "${e}" ${r.join(" ")}`,(async()=>{const o=n.execFile(e,r,{windowsHide:!0,cwd:t});await this.waitForProcess(o,i)}))}async waitForProcess(e,t){return new Promise((async function(r,n){let i=[];e.stderr?.on("data",(e=>{t?.logStdErr(e.toString()),i.push(e.toString())})),e.stdout?.on("data",(e=>{t?.logStdOut(e.toString())})),e.on("exit",(e=>{0!==e||i.length>0?n(`ERROR ExitCode(${e})${a.EOL}Details${a.EOL}${i.join("")}`):r(!0)}))}))}stripBomFromUtf8BufferIfPresent(e){return e.length>=3&&e.slice(0,3).equals(this.utf8BOM)?e.slice(3):e}async readJsonFile(e){if(c.existsSync(e)){const t=this.stripBomFromUtf8BufferIfPresent(await o.promises.readFile(e));return JSON.parse(t.toString())}return null}readFile(e){return c.existsSync(e)?o.promises.readFile(e,"utf-8"):new Promise(((e,t)=>{e("")}))}writeFile(e,t){let r=l.normalize(e),n=l.dirname(r);c.accessSync(n,c.constants.W_OK),c.writeFile(r,t,(e=>{throw e}))}getTempFileName(e){return this.getTempFileNameWithExtension(e,".txt")}getTempFileNameWithExtension(e,t){let r=e??""+(0,i.randomUUID)()+t??".txt";return l.join(u.tmpdir(),r)}}},8377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugDeviceIdentifierResult=void 0;const n=r(3173);class i extends n.DebugValidationResult{constructor(e,t=void 0){super(t),this.identifier=e}identifier}t.DebugDeviceIdentifierResult=i},1048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugHandler=t.MauiStartDebugSessionResult=void 0;const n=r(9496),i=r(8510),o=r(8184),a=r(3865),s=r(3117),u=r(3109),c=r(4630),l=r(8195),d=r(3173),f=r(7478),p=r(534),h=r(2432),m=r(2869),g=r(3497),v=r(8894);class y{status="ok";content}t.MauiStartDebugSessionResult=y,t.DebugHandler=class{mauiStartDebugSessionCommand=`${g.mauiCommons.commandPrefix}.mauiStartDebugSession`;logger;startUpProjectManager;settingsProperties;platformsManager;debugPropertiesProvider;debugConfigurationManager;currentDebugSession;startBuildListener;endBuildListener;currentBuildTelemetryActivities=new Map;constructor(e,t,r,n,i){this.logger=e,this.startUpProjectManager=t,this.settingsProperties=r,this.platformsManager=n,this.debugPropertiesProvider=i}async activate(){const e=this.settingsProperties.getExtensionContext();e.subscriptions.push(n.commands.registerCommand(this.mauiStartDebugSessionCommand,(e=>{n.commands.executeCommand("vscode.startDebug",e);const t=new y;return t.status="ok",t}))),e.subscriptions.push(n.debug.onDidStartDebugSession((e=>this.mauiDebugSessionStarted(e)))),e.subscriptions.push(n.debug.onDidTerminateDebugSession((e=>this.mauiDebugSessionTerminated(e)))),e.subscriptions.push(n.tasks.registerTaskProvider("maui",new f.MauiBuildTaskProvider(e,this.platformsManager,this.debugPropertiesProvider))),this.startBuildListener=n.tasks.onDidStartTaskProcess((async e=>{"maui"===e.execution.task.definition.type&&"Build"===e.execution.task.name&&this.registerBuildTelemetry(this.debugPropertiesProvider.getCurrentBuildConfiguration())})),this.endBuildListener=n.tasks.onDidEndTaskProcess((async e=>{if("maui"===e.execution.task.definition.type&&"Build"===e.execution.task.name)try{let t=e.exitCode;void 0===t?await this.sendBuildTelemetry(this.debugPropertiesProvider.getCurrentBuildConfiguration(),c.TelemetryStatus.Canceled):0===t?await this.sendBuildTelemetry(this.debugPropertiesProvider.getCurrentBuildConfiguration(),c.TelemetryStatus.Success):await this.sendBuildTelemetry(this.debugPropertiesProvider.getCurrentBuildConfiguration(),c.TelemetryStatus.Failed)}finally{this.debugPropertiesProvider.setCurrentBuildConfiguration(void 0)}}));const t=new p.MauiDebugConfigurationManager(this.settingsProperties,this.debugPropertiesProvider,this);this.debugConfigurationManager=t,e.subscriptions.push(n.debug.registerDebugConfigurationProvider("maui",this.debugConfigurationManager)),n.debug.registerDebugAdapterTrackerFactory("*",{createDebugAdapterTracker:e=>t});const r=new o.CSharpExtensionServiceBroker;r.registerExternalServices(o.default.dotnetDebugConfigurationService.moniker);const i=this.getServiceExports();i&&(r.profferServiceBroker(i.serviceBroker,[o.default.dotnetDebugConfigurationService.moniker]),this.debugConfigurationManager.setBrokeredServicePipeName(await i.getBrokeredServiceServerPipeName()))}deactivate(){this.startBuildListener?.dispose(),this.endBuildListener?.dispose(),this.currentBuildTelemetryActivities.clear(),this.debugConfigurationManager?.deactivate()}async mauiDebugSessionStarted(e){let t=e.type;"vslsShare"===t&&(t=(await e.customRequest("debugSessionInfo")).configurationProperties.type),("maui"===t||"monovsdbg"===t||"coreclr"===t&&"maui"===e.configuration?.preLaunchTask?.substring(0,4).toLowerCase())&&(this.currentDebugSession=e,await this.sendStartDebugSessionTelemetry(e.configuration,t),this.debugConfigurationManager?.onMauiDebugSessionStarted())}async mauiDebugSessionTerminated(e){e===this.currentDebugSession&&(this.sendEndDebugSessionTelemetry(e),this.debugConfigurationManager?.onMauiDebugSessionFinished(),this.currentDebugSession=null)}getDebugTargetType(e,t){if([t&&t.trim()]){if(h.MauiKnownPlatforms.iOS===t||h.MauiKnownPlatforms.TvOS===t||h.MauiKnownPlatforms.WatchOS===t)return e?"Simulator":"Device";if(h.MauiKnownPlatforms.Android===t)return e?"Emulator":"Device";if(h.MauiKnownPlatforms.MacCatalyst===t||h.MauiKnownPlatforms.MacOS===t||h.MauiKnownPlatforms.Windows===t)return"Device"}return""}getServiceExports(){const e=n.extensions.getExtension(g.mauiCommons.csdevkitExtensionId);return e?.exports}cancelDebug(){n.commands.executeCommand("workbench.action.debug.stop")}async resolveConfigurationOrCancelDebugIfConfigurationIsNotValid(e){const t=await this.debugPropertiesProvider.resolveDebugPropertiesAndPlatform(e,(e=>this.validateDebug()));return e.skipDebug=void 0===e.device,this.cancelDebugIfError(e,t),t}cancelDebugIfEnvironmentIsNotValid(e){let t=this.validateDebug();return this.cancelDebugIfError(e,t),!t.isValid}cancelDebugIfError(e,t){if(!t.isValid)try{t.error?.message?.trim()&&(this.logger.log(a.mauiResources.newLine),this.logger.log(t.error.message)),this.cancelDebug()}finally{this.sendDebugCanceledVerificationFailedTelemetry(e,t.error)}}validateDebug(){const e=this.platformsManager.mauiAutoSdk.validateDebug();if(!e.isValid&&e.error?.message.trim())return e;let t;if(0===this.startUpProjectManager.getApplicationProjects().length){const e=a.mauiResources.debugconfig.debuggingErrorMessage;n.window.showErrorMessage(e),t=new l.DebugValidationError(c.TelemetryErrors.debug.NoMAUIApplication,e)}return new d.DebugValidationResult(t)}throwErrorIfCannotProvideDebugConfigurations(){if(0===this.startUpProjectManager.getApplicationProjects().length){var e=new l.DebugValidationError(c.TelemetryErrors.debug.NoMAUIApplication,a.mauiResources.debugconfig.createsLaunchjsonFileErrorMessage);throw this.logger.log(a.mauiResources.newLine),this.logger.log(e.message,i.LogImportance.high),this.sendProvideDebugConfigurationsErrorTelemetry(e),n.window.showErrorMessage(e.message),e}}async sendStartDebugSessionTelemetry(e,t,r=void 0,n=void 0,i=void 0){let o=await this.getDebugSessionTelemetryProperties(e,r,n,i);const a=e?.skipDebug??!1;o.type=t??"",o.debugMode=a?"buildOnly":"buildAndDebug",o.useVSDbg=Boolean(e?.useVSDbg).toString(),new u.TelemetryEvent("start-debug-session").addOrUpdateProperties(o).sendTelemetry()}sendEndDebugSessionTelemetry(e){new u.TelemetryEvent("end-debug-session").addOrUpdateProperties({sessionId:e?.configuration.sessionId??""}).sendTelemetry()}sendProvideDebugConfigurationsErrorTelemetry(e){let t="";e instanceof v.DebugMauiSdkValidationError&&(t=e.suggestedWorkloads.map((e=>e.workloadId)).join("|")),new u.TelemetryEvent("provide-debug-configurations-failed").addOrUpdateProperties({status:c.TelemetryStatus.Failed,error:e?.errorCode??"",errorDetails:t}).sendTelemetry()}registerBuildTelemetry(e){const t=e?.debugConfig??this.debugPropertiesProvider.getCurrentDebugConfiguration(),r=t?.sessionId??"",n=new s.TelemetryActivity("project-build");n.addOrUpdateProperties({sessionId:r}),this.currentBuildTelemetryActivities.set(r,n)}async sendBuildTelemetry(e,t,r=void 0,n=void 0){const i=e?.debugConfig??this.debugPropertiesProvider.getCurrentDebugConfiguration(),o=i?.sessionId??"",a=this.currentBuildTelemetryActivities.get(o);this.currentBuildTelemetryActivities.delete(o);let s=await this.getDebugSessionTelemetryProperties(e??i,t,r,n);s.target=e?.target??"",s.runtimeIdentifier=e?.runtimeIdentifier??"",a?.addOrUpdateProperties(s).sendTelemetry(),i&&t!==c.TelemetryStatus.Success&&await this.sendStartDebugSessionTelemetry(i,i.type,t,t===c.TelemetryStatus.Failed?c.TelemetryErrors.debug.BuildFailed:c.TelemetryErrors.debug.BuildCanceled)}sendDebugCanceledVerificationFailedTelemetry(e,t=void 0){let r="";t instanceof v.DebugMauiSdkValidationError&&(r=t.suggestedWorkloads.map((e=>e.workloadId)).join("|")),this.sendStartDebugSessionTelemetry(e,e.type,c.TelemetryStatus.Canceled,t?.errorCode??"",r)}async getDebugSessionTelemetryProperties(e,t=void 0,r=void 0,n=void 0){let i="",o="",a="",s="",u="",l="",d="",f=e?.isEmulator;const p=await this.debugPropertiesProvider.getDebugTarget(e);p&&p instanceof m.MauiDeviceTarget&&(i=p.mauiDevice.manufacturer??"",o=p.mauiDevice.model??"",a=p.mauiDevice.subModel??"",s=p.mauiDevice.architecture??"",u=p.mauiDevice.idiom??"",l=p.mauiDevice.version??"",d=p.mauiDevice.versionName??"",f=p.isEmulator);var h=this.startUpProjectManager.getProject(e?.project);return{sessionId:e?.sessionId??"",projectGuid:h?.projectGuid??"",status:t??c.TelemetryStatus.Success,error:r??"",errorDetails:n??"",configuration:e?.configuration,platform:e?.platform,targetFramework:e?.targetFramework,multiplatform:e?.isMultiplatform?.toString(),maui:e?.isMaui?.toString(),dotnetVersion:e?.dotnetVersion,mauiVersion:e?.mauiVersion,debugTargetType:this.getDebugTargetType(f,e?.platform),debugTargetManufacturer:i,debugTargetModel:o,debugTargetSubModel:a,debugTargetArchitecture:s,debugTargetIdiom:u,debugTargetVersion:l,debugTargetVersionName:d}}}},901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugResolvePropertiesAndPlatformResult=void 0;const n=r(3173);class i extends n.DebugValidationResult{constructor(e,t=void 0){super(t),this.platform=e}platform}t.DebugResolvePropertiesAndPlatformResult=i},8195:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugValidationError=void 0;class r extends Error{errorCode;constructor(e,t){super(t),this.errorCode=e,this.name="DebugValidationError",this.errorCode=e}}t.DebugValidationError=r},3173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugValidationResult=void 0,t.DebugValidationResult=class{constructor(e=void 0){this.isValid=void 0===e,this.error=e}isValid;error}},9790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotNetSdkVersion=t.DotNetSdkInformation=void 0,t.DotNetSdkInformation=class{constructor(e,t){this.path=e,this.version=new r(t)}path;version};class r{constructor(e){this.value=e;const t=this.value.split(".");if(t.length>=3){this.major=parseInt(t[0]),this.minor=parseInt(t[1]);const e=t[2].split("-")[0];this.build=parseInt(e)}}value;major=-1;minor=-1;build=-1}t.DotNetSdkVersion=r},5461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotNetSdkInformationProvider=void 0;const n=r(2920),i=r(3865),o=r(9790),a=r(3497),s=r(1017);t.DotNetSdkInformationProvider=class{settings;cliService;logger;constructor(e,t,r){this.settings=e,this.cliService=t,this.logger=r}async getDotNetSdkInformation(e){if(e?.dotnetSdkPath?.trim()&&e?.dotnetSdkVersion?.trim())return new o.DotNetSdkInformation(e.dotnetSdkPath,e.dotnetSdkVersion);let t,r,n=e?.getActiveTargetFramework();if(n)try{if(t=await this.getDotNetSdkInformationForTargetFramework(e,n.toString()),t)return t}catch(e){r=e}let a=e?.targetFrameworkMonikers;if(a&&a.length>0){for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)){n=a[i];try{if(t=await this.getDotNetSdkInformationForTargetFramework(e,n.toString()),t)return t}catch(e){r=e}}}else r=i.mauiResources.projectSystem.mauiSdk.autoSdkTargetFrameworkNotFound(e?.name);if(t)return t;throw r}async supportsVSDbg(e){const t=e.getActiveTargetFramework()?.toString();if(!t)return!1;const r=this.getTargetFrameworkMajorVersion(t);if(!r||r<8)return!1;const n=(await this.getDotNetSdkInformation(e)).version;return n.major>=9||8===n.major&&n.minor>=1||8===n.major&&0===n.minor&&n.build>=202}getTargetFrameworkMajorVersion(e){const t=e.split(".");if(t.length>1){const e=t[0].replace("net","");return parseInt(e)}}async getDotNetSdkInformationForTargetFramework(e,t){let r,u,c;const l=new n.ProcessLogger;if(e&&t)try{let n=this.cliService.getTempFileName("maui-vsc-dotnetinfo");const i=s.normalize(e.path),o=s.dirname(i),c=["build","-t:_GetDotNetSdkInformation",`-f:${t}`,"-v:quiet","-p:DesignTimeBuild=true","--no-restore"],d=s.join(this.settings.getExtensionResourcesPath(),this.settings.getCustomAfterMicrosoftCSharpTargetsFilename());c.push(`-p:CustomAfterMicrosoftCSharpTargets="${d}"`),c.push(`-p:MauiVSCodeBuildOutputFile="${n}"`),i&&c.push(i),await this.cliService.runDotNet(o,c,l);let f=await this.cliService.readFile(n);f?.trim()&&f.split(/\r?\n/).forEach((e=>{e?.trim()&&(e.includes(`${a.mauiCommons.dotNet.buildProperties.dotNetVersion}=`)?u=e.replace(`${a.mauiCommons.dotNet.buildProperties.dotNetVersion}=`,""):e.includes(`${a.mauiCommons.dotNet.buildProperties.dotNetPath}=`)&&(r=e.replace(`${a.mauiCommons.dotNet.buildProperties.dotNetPath}=`,"")))}))}catch(e){this.logger.log(i.mauiResources.getErrorMessage(e)),c=i.mauiResources.projectSystem.mauiSdk.autoSdkFailedToFindNetSdk}else e?t||(c=i.mauiResources.projectSystem.mauiSdk.autoSdkTargetFrameworkNotFound(e.name)):c=i.mauiResources.projectSystem.mauiSdk.autoSdkStartUpProjectNotFound;return new Promise(((e,t)=>{c?t(c):r?.trim()&&u?.trim()?e(new o.DotNetSdkInformation(r,u)):t(i.mauiResources.projectSystem.mauiSdk.autoSdkNetSdkNotFound)}))}}},9053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotNetSuggestedWorkload=void 0,t.DotNetSuggestedWorkload=class{constructor(e){this.workloadId=e}workloadId}},9577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStream=void 0;const n=r(9496);t.EventStream=class{eventEmitters=[];push(e){var t=this.eventEmitters.find((e=>e));t?.fire(e)}subscribe(e){return this.of().event(e)}of(){var e=this.eventEmitters.find((e=>e));return e||(e=new n.EventEmitter,this.eventEmitters.push(e)),e}close(){this.eventEmitters.forEach((e=>{e.dispose()})),this.eventEmitters=[]}}},3266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiActivation=void 0;const n=r(6113),i=r(9496),o=r(6810),a=r(8510),s=r(7092),u=r(8184),c=r(3486),l=r(3865),d=r(3109),f=r(5873),p=r(1048),h=r(5461),m=r(9577),g=r(8573),v=r(2432),y=r(9286),S=r(6146),b=r(4242),w=r(7018),P=r(5187),k=r(8663),_=r(3497),C=r(6245),M=r(1400),T=r(4464),I=r(9960),A=r(1761),D=r(3662),E=r(3401),j=r(739),R=r(1747),O=r(2790),x=r(6361),N=r(7056),L=r(2045),F=r(7513),B=r(3121);t.MauiActivation=class{mauiOutputChannel=null;eventStream;androidDeviceManager=null;appleDeviceManager=null;propertiesMonitor=null;debugPropertiesProvider;debugTargetsManager;settingsProperties;startUpProjectManager;walkthroughManager;platformsManager;utilService=null;projectQueryIsSubscribed=!1;projectQueryableSpace=null;projectQuerySubscriptions;latestProjectQueryResultHash;projectQueryParser;cliService;devenv;debugHandler;constructor(){this.eventStream=new m.EventStream,this.cliService=new f.CliService,this.devenv=new P.MauiDevEnv}async activate(e,t){const r=await this.getAndActivateServiceBroker(),n=r&&t.isDevKitExtensionEnabled();if(i.commands.executeCommand("setContext","vscodeMauiExtensionEnabled",n),i.commands.executeCommand("setContext","vscodeMauiPlatformEnabledandroid",!1),i.commands.executeCommand("setContext","vscodeMauiPlatformEnabledios",!1),i.commands.executeCommand("setContext","vscodeMauiPlatformEnabledmaccatalyst",!1),i.commands.executeCommand("setContext","vscodeMauiPlatformEnabledwindows",!1),n){e.subscriptions.push(i.commands.registerCommand(`${_.mauiCommons.commandPrefix}.configure`,(async()=>{new d.TelemetryEvent("learn-more-configure").sendTelemetry(),i.env.openExternal(i.Uri.parse(_.mauiCommons.urls.howToConfigure))}))),this.utilService=await r.getProxy(u.default.utilService),this.androidDeviceManager=await r.getProxy(u.default.androidDeviceManagerService),this.appleDeviceManager=await r.getProxy(u.default.appleDeviceManagerService),this.propertiesMonitor=await r.getProxy(u.default.propertiesMonitorService),this.settingsProperties=t,this.projectQueryParser=new b.ProjectQueryParser(o.logger,this.settingsProperties),this.startUpProjectManager=new y.MauiStartUpProjectManager(this.settingsProperties,this.devenv,this.eventStream);const n=new x.AutoSdkAggregateNotificationItem([new N.AutoSdkProgressStatusBarNotificationItem,new L.AutoSdkToastNotificationItem]),s=new h.DotNetSdkInformationProvider(this.settingsProperties,this.cliService,o.logger),f=new F.MauiWorkloadsAutoSdk(o.logger,this.settingsProperties,n,this.cliService,s);this.platformsManager=new C.MauiPlatformsManager(this.settingsProperties,f),this.walkthroughManager=new S.MauiWalkthroughManager(this.settingsProperties),this.debugTargetsManager=new k.MauiDebugTargetsManager(o.logger,this.settingsProperties,this.platformsManager,this.eventStream),this.debugPropertiesProvider=new g.MauiDebugPropertiesProvider(this.startUpProjectManager,this.debugTargetsManager,this.settingsProperties,this.platformsManager,s,o.logger);const m=new x.AutoSdkAggregateNotificationItem([new N.AutoSdkProgressStatusBarNotificationItem,new L.AutoSdkToastNotificationItem]),w=new T.AndroidProperties(this.settingsProperties),P=new E.AndroidAutoSdk(o.logger,new M.AndroidDependenciesResolver(this.settingsProperties,this.cliService),this.settingsProperties,w,this.androidDeviceManager,this.debugTargetsManager,m),U=[new D.CreateAndroidVirtualDevice(this.settingsProperties,w),new A.ConnectAndroidPhysicalDevice(this.settingsProperties)],z=new x.AutoSdkAggregateNotificationItem([new N.AutoSdkProgressStatusBarNotificationItem,new L.AutoSdkToastNotificationItem]),V=new j.AppleAutoSdk(o.logger,this.settingsProperties,this.appleDeviceManager,this.debugTargetsManager,z);this.platformsManager.setPlatforms([new I.MauiAndroidPlatform(o.logger,this.settingsProperties,this.utilService,P,this.androidDeviceManager,w,U,this.startUpProjectManager),new R.MauiIOSPlatform(o.logger,this.settingsProperties,this.utilService,V,this.appleDeviceManager,this.startUpProjectManager),new O.MauiMacCatalystPlatform(o.logger,this.settingsProperties,this.utilService,V,this.appleDeviceManager,this.startUpProjectManager),new B.MauiWindowsPlatform(o.logger,this.settingsProperties,this.utilService,this.startUpProjectManager,this.cliService)]),this.debugHandler=new p.DebugHandler(o.logger,this.startUpProjectManager,this.settingsProperties,this.platformsManager,this.debugPropertiesProvider),await this.debugHandler.activate(),this.startUpProjectManager.activate(),this.debugTargetsManager.activate(),this.platformsManager.activate(),this.walkthroughManager.activate(),this.projectQuerySubscriptions=await this.subscribeProjects(r),this.androidDeviceManager?.on("OnDeviceChanged",(e=>{o.logger.log(l.mauiResources.debugTracing.services.androidDevicesChanged,a.LogImportance.low),this.debugTargetsManager?.devicesChanged([v.MauiKnownPlatforms.Android])})),this.appleDeviceManager?.on("OnDeviceChanged",(e=>{o.logger.log(l.mauiResources.debugTracing.services.appleDevicesChanged,a.LogImportance.low),this.debugTargetsManager?.devicesChanged([v.MauiKnownPlatforms.iOS,v.MauiKnownPlatforms.MacCatalyst,v.MauiKnownPlatforms.MacOS,v.MauiKnownPlatforms.TvOS])})),this.propertiesMonitor?.on("OnPropertiesChanged",(e=>{o.logger.log(l.mauiResources.debugTracing.services.projectPropertiesChanged(e),a.LogImportance.low),e.projectPath&&e.propertiesGroup&&e.properties&&this.startUpProjectManager?.notifyPropertiesChanged(e.projectPath,new c.PropertiesSnapshot(e.propertiesGroup,e.properties))}))}}async deactivate(e){this.debugHandler?.deactivate(),this.debugTargetsManager?.deactivate(),this.startUpProjectManager?.deactivate(),this.platformsManager?.deactivate(),this.walkthroughManager?.deactivate(),await(this.androidDeviceManager?.stopWatching()),await(this.appleDeviceManager?.stopWatching()),this.eventStream.close(),this.latestProjectQueryResultHash=""}getProjectsQuery(){return{context:"Projects",query:{$properties:["Id","Name","Path","Capabilities","Configurations"],Configurations:{$properties:["Id","Name","Capabilities","BuildProperties"],BuildProperties:{$properties:["Id","Name","Value","StorageType"],$where:{"&&":[{"||":[{"==":[{".":"Name"},"TargetFramework"]},{"==":[{".":"Name"},"MSBuildExtensionsPath"]},{"==":[{".":"Name"},"NetCoreRoot"]},{"==":[{".":"Name"},"MauiWorkloadVersion"]},{"==":[{".":"Name"},"AndroidSdkDirectory"]},{"==":[{".":"Name"},"JavaSdkDirectory"]},{"==":[{".":"Name"},"AndroidIncludeDebugSymbols"]},{"==":[{".":"Name"},"DebugSymbols"]},{"==":[{".":"Name"},"OutputType"]},{"==":[{".":"Name"},"RuntimeIdentifier"]}]},{"==":[{".":"StorageType"},"ProjectFile"]}]}},$where:{"||":[{includes:[{".":"Capabilities"},"Apple"]},{includes:[{".":"Capabilities"},"Android"]},{includes:[{".":"Capabilities"},"Msix"]}]}},$filter:{ProjectsByCapabilities:["Android | Apple | Maui | UseMaui | UseMauiCore"]}}}}async subscribeProjects(e){this.projectQueryIsSubscribed&&o.logger.log(l.mauiResources.debugTracing.projectQuery.skipSubscription,a.LogImportance.low),this.projectQueryableSpace||(this.projectQueryableSpace=new s.ProjectQueryableSpace(e),this.projectQueryableSpace.on("queryChanged",(async e=>{const t=JSON.stringify(e.Items??""),r=n.createHash("sha256").update(t).digest("hex");if(!this.latestProjectQueryResultHash||this.latestProjectQueryResultHash!==r){const t=n.randomUUID();this.latestProjectQueryResultHash=r,o.logger.log(l.mauiResources.debugTracing.projectQuery.projectsChanged(e),a.LogImportance.low);const i=this.projectQueryParser?.parse(e)??[],s=i.map((e=>e.targetFrameworkMonikers.map((e=>e.toString())).join(","))).join("|");let u=0;i.forEach((e=>{const r=e.isApplication(),n=e.isMaui(),i=e.isMultiPlatformSupport();r&&(u+=1),new d.TelemetryEvent("compatible-project-found").addOrUpdateProperties({sessionId:t,projectSupportedTfms:e.targetFrameworkMonikers.map((e=>e.toString())).join(","),projectGuid:e.projectGuid,isApplication:String(r),isMaui:String(n),isMultiPlatformSupport:String(i)}).sendTelemetry()})),new d.TelemetryEvent("compatible-projects-found").addOrUpdateProperties({sessionId:t,compatibleProjectCount:String(i.length),projectSupportedTfms:s,applicationProjectCount:String(u)}).sendTelemetry(),this.notifyProjectsChanged(i)}})),this.projectQueryableSpace.on("queryCompleted",(e=>{e?o.logger.log(l.mauiResources.debugTracing.projectQuery.failed(l.mauiResources.getErrorMessage(e))):o.logger.log(l.mauiResources.debugTracing.projectQuery.completed,a.LogImportance.low)})));const t=this.getProjectsQuery();try{const e=await this.projectQueryableSpace.subscribeQuery(t);return o.logger.log(l.mauiResources.debugTracing.projectQuery.subscribed,a.LogImportance.low),this.projectQueryIsSubscribed=!0,e}catch(e){o.logger.log(l.mauiResources.debugTracing.projectQuery.subscriptionFailed(l.mauiResources.getErrorMessage(e)))}}async notifyProjectsChanged(e){this.settingsProperties?.projectsChanged(e),this.startUpProjectManager?.projectsChanged(e),this.platformsManager?.projectsChanged(e),this.debugTargetsManager?.projectsChanged(e),await(this.platformsManager?.verifyMauiSdk(e)),this.eventStream.push(new w.ProjectsLoadedEvent(e))}async getAndActivateServiceBroker(){const e=i.extensions.getExtension(_.mauiCommons.csdevkitExtensionId);if(!e)throw o.telemetryService?.sendTelemetryErrorEvent("activate-without-csdevkit"),new Error(l.mauiResources.requiredExtensionError(_.mauiCommons.csdevkitExtensionId));return await e.activate(),e.exports.serviceBroker}}},7478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiBuildTaskProvider=void 0;const n=r(9496),i=r(2501),o=r(3173),a=r(1346);t.MauiBuildTaskProvider=class{platformsManager;debugPropertiesProvider;constructor(e,t,r){this.extensionContext=e,this.platformsManager=t,this.debugPropertiesProvider=r}extensionContext;async provideTasks(){return this.getTasks()}resolveTask(e){}async getTasks(){return[await this.getTask("dotnet")]}async getTask(e,t){var r=this.debugPropertiesProvider.getCurrentDebugConfiguration();if(r)n=r.skipDebug??!1;else var n=!0;let i=await this.initializeDefinition(e,r,!n,t);return this.debugPropertiesProvider.setCurrentBuildConfiguration(i),this.createTask(e,i)}async initializeDefinition(e,t,r,n){var i="Build";void 0===n&&(n={task:"MSBuild",command:e,type:"maui",project:t?.project,configuration:t?.configuration??"Debug",platform:t?.platform,targetFramework:t?.targetFramework,runtimeIdentifier:t?.runtimeIdentifier,device:t?.device,target:i,skipDebug:!r,isMaui:!0,isMultiPlatform:!0}),void 0!==n&&(t?.useVSDbg?r&&((0,a.isWindows)()?n.program="vsdbg-ui.exe":n.program="vsdbg-ui"):n.program="./dist/DebugServer/DebugServer.dll");const s=(await this.debugPropertiesProvider.resolveDebugPropertiesAndPlatform(n,(e=>new o.DebugValidationResult))).platform;return r&&s&&s.supportsTaskRunForDebugging()&&(i="Run"),n.target=i,n.skipDebug=!r,n.debugConfig=t,void 0===n._mauiBuildOutputPropsFile&&(n._mauiBuildOutputPropsFile=t?._mauiBuildOutputPropsFile),n}createTask(e,t){var r=!t.skipDebug,o=[`-t:${t.target??"Build"}`,`-p:Configuration=${t.configuration}`];o.unshift("build"),void 0!==t.targetFramework&&""!==t.targetFramework&&(t.isMultiPlatform||t.isMaui)&&(o.push("-f"),o.push(`${t.targetFramework}`)),void 0!==t.runtimeIdentifier&&""!==t.runtimeIdentifier&&(o.push("-r"),o.push(`${t.runtimeIdentifier}`));var a=this.platformsManager.getProjectPlatformForTargetFramework(t.targetFramework)??this.platformsManager.getProjectPlatformFor(t.platform);a&&a.setTaskProperties(this,t,o,r),void 0!==t.msbuildProperties&&t.msbuildProperties.forEach(((e,t)=>{o.push(`-p:${t}=${e}`)}));let s=this.debugPropertiesProvider.getDebugVerbosity();s===i.LogVerbosity.detailed?o.push("-v:normal"):s===i.LogVerbosity.diagnostic&&(o.push("-v:normal"),o.push("-bl")),t.project&&o.push(t.project);const u=a?.getShellExecutionTaskEnvironment()??Object.assign({},process.env);return new n.Task(t,"Build","maui",new n.ShellExecution(e,o,{env:u}),"$msCompile")}}},534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDebugConfigurationManager=void 0;const n=r(6113),i=r(7147),o=r(9496),a=r(6810),s=r(8510),u=r(3865),c=r(1152),l=r(2432),d=r(1346),f=r(1017),p="maui",h="launch",m=".NET MAUI";t.MauiDebugConfigurationManager=class{settingsProperties;debugPropertiesProvider;debugHandler;brokeredServicePipeName;debugSessionRestarted=!1;debugSessionRunning=!1;endBuildListener;constructor(e,t,r){this.settingsProperties=e,this.debugPropertiesProvider=t,this.debugHandler=r,this.brokeredServicePipeName=""}onMauiDebugSessionStarted(){this.debugSessionRunning=!0}onMauiDebugSessionFinished(){this.debugSessionRunning=!1}provideDebugConfigurations(e,t){return this.debugHandler.throwErrorIfCannotProvideDebugConfigurations(),[]}async resolveDebugConfiguration(e,t,r){if(t||(t={name:m,type:p,request:h}),t.type||(t.type=p),t.request||(t.request=h),t.name||(t.name=m),t.sessionId||(t.sessionId=(0,n.randomUUID)()),t.preLaunchTask||(t.preLaunchTask=p+": Build"),t.type===p){t.request||(t.request="launch"),o.workspace.workspaceFolders&&(t.workspaceDirectory=o.workspace.workspaceFolders[0].uri.fsPath);const e=await this.debugHandler.resolveConfigurationOrCancelDebugIfConfigurationIsNotValid(t);if(!e.isValid)return t;const r=e.platform,n=!t.skipDebug,i=this.settingsProperties.getDebugServerPort();i&&i>0&&(t.debugServer=i),r&&await r.setDebugProperties(t,n);const l=await(0,c.createUniqueTemporaryFile)(a.extensionName,"maui-vsc",".json",a.logger);t._mauiBuildOutputPropsFile=l,t.brokeredServicePipeName=this.brokeredServicePipeName,t.useVSDbg&&!this.endBuildListener&&(this.endBuildListener=o.tasks.onDidEndTaskProcess((async e=>{if("maui"===e.execution.task.definition.type&&"Build"===e.execution.task.name){let e=this.debugPropertiesProvider.getCurrentDebugConfiguration();if(e.skipDebug)return;e.useVSDbg&&await this.debugUsingVsDbgUI(e),this.onMauiDebugSessionStarted()}}))),a.logger.log(u.mauiResources.debugconfig.debugConfigurationValues(t.type,Boolean(t.useVSDbg),t.platform),s.LogImportance.high)}else if(this.debugHandler.cancelDebugIfEnvironmentIsNotValid(t))return t;return this.debugPropertiesProvider.setCurrentDebugConfiguration(t),t}setBrokeredServicePipeName(e){this.brokeredServicePipeName=e}onDidSendMessage(e){if(this.debugSessionRunning&&"initialized"===e.event){let e=this.debugPropertiesProvider.getCurrentDebugConfiguration();if(e.useVSDbg&&(e.platform===l.MauiKnownPlatforms.iOS||e.platform===l.MauiKnownPlatforms.MacCatalyst)){e.symbolOptions="";const r=(0,d.isWindows)()?"dotnet.exe":"dotnet",n=Object.assign({},process.env);var t=["./dist/DebugServer/DebugServer.dll","--onlylaunch",JSON.stringify(e)];o.tasks.executeTask(new o.Task({type:"shell"},o.TaskScope.Workspace,"launchApp","maui",new o.ShellExecution(r,t,{env:n,cwd:this.settingsProperties.getExtensionContext().extensionPath})))}}}onWillReceiveMessage(e){this.debugSessionRunning&&"disconnect"===e.command&&!0===e.arguments?.restart&&(this.debugSessionRestarted=!0)}onWillStopSession(){this.debugSessionRunning&&!this.debugSessionRestarted&&(this.debugSessionRestarted=!1,this.debugPropertiesProvider.setCurrentDebugConfiguration(void 0))}async resolveDebugConfigurationWithSubstitutedVariables(e,t,r){let n=this.debugPropertiesProvider.getCurrentDebugConfiguration();return n.platform===l.MauiKnownPlatforms.Windows||(n.useVSDbg&&!n.skipDebug?(n.type="monovsdbg",this.updateDebugConfigurationOptions(n)):n.type=p),n}async debugUsingVsDbgUI(e){if(e.platform!==l.MauiKnownPlatforms.Windows){var t=!0,r="127.0.0.1";e.platform===l.MauiKnownPlatforms.iOS&&(e.isEmulator||(r="0.0.0.0")),e.platform===l.MauiKnownPlatforms.Android&&(t=!1),e.monoDebuggerOptions={ip:r,port:e.debugPort,platform:e.platform,isServer:t},i.readFileSync(e._mauiBuildOutputPropsFile,"utf8").split((0,d.isWindows)()?"\r\n":"\n").forEach((function(t){if(t.startsWith("AssetsDir")){let r=t.split("=");e.monoDebuggerOptions.assetsPath=r[1]+f.sep}else if(t.startsWith("ProgramName")){let r=t.split("=");e.program=r[1]}})),this.debugPropertiesProvider.setCurrentDebugConfiguration(e)}}updateDebugConfigurationOptions(e){if(!e.useVSDbg)return;const t=o.workspace.getConfiguration("csharp");e.justMyCode=t.debug.justMyCode,e.symbolOptions=t.debug.symbolOptions,e.requireExactSource=t.debug.requireExactSource,e.sourceFileMap=t.debug.sourceFileMap,e.enableStepFiltering=t.debug.enableStepFiltering,e.allowFastEvaluate=t.debug.allowFastEvaluate}deactivate(){this.endBuildListener?.dispose()}}},8573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDebugPropertiesProvider=void 0;const n=r(901),i=r(2869),o=r(2117);t.MauiDebugPropertiesProvider=class{startUpProjectManager;debugTargetsManager;settingsProperties;platformsManager;dotnetSdkInformationProvider;logger;constructor(e,t,r,n,i,o){this.startUpProjectManager=e,this.debugTargetsManager=t,this.settingsProperties=r,this.platformsManager=n,this.dotnetSdkInformationProvider=i,this.logger=o}getCurrentDebugConfiguration(){return this.settingsProperties.getExtensionContext().workspaceState.get("currentDebugConfiguration")}setCurrentDebugConfiguration(e){this.settingsProperties.getExtensionContext().workspaceState.update("currentDebugConfiguration",e)}getCurrentBuildConfiguration(){return this.settingsProperties.getExtensionContext().workspaceState.get("currentBuildConfiguration")}setCurrentBuildConfiguration(e){this.settingsProperties.getExtensionContext().workspaceState.update("currentBuildConfiguration",e)}async resolveDebugPropertiesAndPlatform(e,t){let r,o;if(e.project)r=this.startUpProjectManager.getProject(e.project);else{const t=await this.startUpProjectManager.getStartUpProjectPathOrInitializeIfAbsent();t&&t.trim()&&(e.project=t,r=this.settingsProperties.getStartUpProject())}if(e.skipDebug||void 0!==e.device||(o=await this.debugTargetsManager.getActiveDeviceTargetOrInitializeIfAbsent()),void 0===e.platform){const t=this.settingsProperties.getActivePlatform();t?.trim()&&(e.platform=t)}if(e.device&&void 0===o){const t=await this.getDebugTarget(e);t instanceof i.MauiDeviceTarget&&(o=t)}if(o&&(e.isEmulator=o.isEmulator()),void 0===e.configuration&&(e.configuration="Debug"),e.isMaui=!0,e.isMultiplatform=!0,e.mauiVersion="",e.dotnetVersion="",r){if(e.isMaui=r.isMaui(),e.isMultiPlatform=r.isMultiPlatformSupport(),e.platform?.trim()&&e.configuration?.trim()&&(e.mauiVersion=r.getPropertyValue(e.platform,e.configuration,"MauiWorkloadVersion")),void 0===e.targetFramework){const t=r.getActiveTargetFramework();t&&(e.targetFramework=t.toString())}const t=await this.dotnetSdkInformationProvider.getDotNetSdkInformation(r);e.dotnetVersion=t.version.value}const a=this.platformsManager.getProjectPlatformForTargetFramework(e.targetFramework)??this.platformsManager.getProjectPlatformFor(e.platform);let s,u=t(e);if(u?.isValid&&a&&(u=a.validateDebug()),u?.isValid||(s=u?.error),void 0===e.device&&a&&u?.isValid&&!e.skipDebug&&o){const t=await a.getDeviceIdentifierForDebug(e.sessionId,o.mauiDevice);t.isValid&&t.identifier?.trim()?e.device=t.identifier:s=t.error}if(void 0===e.runtimeIdentifier&&a&&!e.skipDebug&&o){let t;e.platform&&(t=r?.getPropertyValue(e.platform,e.configuration,"RuntimeIdentifier"));const n=await a.getDeviceRuntimeIdentifierForDebug(o.mauiDevice,t);n&&(e.runtimeIdentifier=n)}return new n.DebugResolvePropertiesAndPlatformResult(a,s)}getDebugVerbosity(){return this.settingsProperties.getDebugVerbosity()}async getDebugTarget(e){const t=e?.device,r=e?.project,n=e?.platform;if(t?.trim()&&r?.trim()&&n?.trim()){const e=this.startUpProjectManager.getProject(r),i=new o.MauiGetDebugTargetsFilter(e,n);return await this.debugTargetsManager.getDebugTarget(i,t)}}}},2432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiKnownPlatforms=void 0;const n=r(1346);class i{static iOS="ios";static Android="android";static MacCatalyst="maccatalyst";static Windows="windows";static TvOS="tvos";static WatchOS="watchos";static MacOS="macos";static supportedPlatforms;static getSupportedPlatforms(){return i.supportedPlatforms||(i.supportedPlatforms=[],(0,n.isWindows)()?i.supportedPlatforms=[this.Windows,this.Android,this.iOS,this.MacCatalyst]:(0,n.isMac)()?i.supportedPlatforms=[this.MacCatalyst,this.iOS,this.Android]:i.supportedPlatforms=[this.Android]),i.supportedPlatforms}static getDefaultPlatform(){return(0,n.isMac)()?this.MacCatalyst:(0,n.isWindows)()?this.Windows:this.Android}static getDisplayName(e){if([e&&e.trim()])return i.iOS===e?"iOS":i.Android===e?"Android":i.MacCatalyst===e||i.MacOS===e?"macOS":i.Windows===e?"Windows":i.TvOS===e?"tvOS":i.WatchOS===e?"watchOS":e}}t.MauiKnownPlatforms=i},3208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiProject=void 0;const n=r(2432),i=r(9518);t.MauiProject=class{settingsProperties;name;path;projectGuid;project;targetFrameworkMonikers;properties;dotnetSdkPath;dotnetSdkVersion;queryVersions;constructor(e,t,r,n,i,o,a){this.settingsProperties=n,this.name=e.Name??"",this.path=e.Path??"",this.projectGuid=e.Id.ProjectGuid??"",this.project=e,this.targetFrameworkMonikers=t,this.dotnetSdkPath=i,this.dotnetSdkVersion=o,this.queryVersions=a,this.properties=new Map,r&&r.forEach((e=>{this.updateProperties(e)}))}getActiveTargetFramework(){let e,t=this.targetFrameworkMonikers;if(this.isMultiPlatformSupport()||this.isMaui()){let r=this.settingsProperties.getActivePlatform();e=this.getTargetFrameworkFor(r),e||(t=[],n.MauiKnownPlatforms.getSupportedPlatforms().forEach((e=>{let r=this.getTargetFrameworkFor(e);r&&t.push(r)})),0===t.length&&(t=this.targetFrameworkMonikers))}return!e&&t.length>0&&(e=t[0]),e}getTargetFrameworkFor(e){if(e&&e.trim()){let t=this.targetFrameworkMonikers.find((t=>t.platform?.includes(e)));if(t)return t}}isMultiPlatformSupport(){return this.targetFrameworkMonikers.filter((e=>e.platform&&n.MauiKnownPlatforms.getSupportedPlatforms().includes(e.platform))).length>1}isMaui(){return this.isCapabilityMatchOnProject(i.ProjectCapabilities.Maui)}isMultiPlatformApplication(){return this.isMultiPlatformSupport()&&this.isMaui()&&(this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.AndroidApplication)||this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.IOSApplication)||this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.MacCatalystApplication)||this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.WinUI)&&"WinExe"===this.getPropertyValue(n.MauiKnownPlatforms.Windows,"Debug","OutputType"))}isSinglePlatformApplication(){return!this.isMultiPlatformSupport()&&(this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.AndroidApplication)||this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.IOSApplication)||this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.MacCatalystApplication)||this.isCapabilityMatchOnProjectOrAnyConfiguration(i.ProjectCapabilities.WinUI)&&this.isMaui()&&"WinExe"===this.getPropertyValue(n.MauiKnownPlatforms.Windows,"Debug","OutputType"))}isApplication(){return this.isMultiPlatformApplication()||this.isSinglePlatformApplication()}getProjectConfigurationFor(e,t){var r=void 0;if(e&&e.trim()&&t&&t.trim()){const o=this.getTargetFrameworkFor(e);var n=`${t}|AnyCPU`,i=`${n}|${o}`;r=this.project.Configurations?.find((r=>r.ConfigurationName&&r.PlatformName&&r.ConfigurationName===t&&r.PlatformName===e||r.Name&&r.Name===i)),r||(r=this.project.Configurations?.find((e=>{var t=e.BuildProperties?.find((e=>"TargetFramework"===e.Name));return e.Name&&e.Name===n&&t&&t.Value&&t.Value===o?.toString()})))}return r}getActiveConfigurationForActivePlatform(){const e=this.settingsProperties.getActivePlatform();return this.getProjectConfigurationFor(e,"Debug")}isCapabilityMatchOnProject(e){return this.isCapabilityMatch(e,this.project.Capabilities)}isCapabilityMatchOnProjectOrAnyConfiguration(e){if(this.isCapabilityMatch(e,this.project.Capabilities))return!0;if(this.project.Configurations)for(const t in this.project.Configurations)if(Object.prototype.hasOwnProperty.call(this.project.Configurations,t)){const r=this.project.Configurations[t];if(this.isCapabilityMatch(e,r.Capabilities))return!0}return!1}isCapabilityMatchOnProjectOrActiveConfiguration(e){if(this.isCapabilityMatch(e,this.project.Capabilities))return!0;const t=this.getActiveConfigurationForActivePlatform();return this.isCapabilityMatch(e,t?.Capabilities)}isCapabilityMatch(e,t){let r=!1;return e&&e.trim()&&t&&(r=!!t.includes(e)||i.ProjectCapabilities.evaluate(e,t)),r}updateProperties(e){this.properties.set(e.name,e)}getProperties(e){return this.properties.get(e)}getPropertyValue(e,t,r){var n=void 0,i=this.getProjectConfigurationFor(e,t);if(i){var o=i.BuildProperties?.find((e=>e.Name===r));n=o?.Value}return n}}},2182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiSettings=void 0;const n=r(9496),i=r(6810),o=r(2501),a=r(2432),s=r(1017);t.MauiSettings=class{extensionContext;projects=[];constructor(e){this.extensionContext=e,n.workspace.onDidChangeConfiguration(this.onConfigurationChanged,this),n.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration}))}getExtensionContext(){return this.extensionContext}getExtensionResourcesPath(){return s.join(this.extensionContext?.extensionPath??"","dist","resources")}getCustomAfterMicrosoftCSharpTargetsFilename(){return"Custom.After.Microsoft.CSharp.targets"}isDevKitExtensionEnabled(){return!n.workspace.getConfiguration("dotnet").get("preferCSharpExtension")}getActiveDebugTarget(){return this.extensionContext.workspaceState.get("activeDebugTarget","")}setActiveDebugTarget(e){this.extensionContext.workspaceState.update("activeDebugTarget",e)}getActivePlatform(){const e=this.extensionContext.workspaceState.get("activePlatform",a.MauiKnownPlatforms.getDefaultPlatform());return e&&e.trim()?e:a.MauiKnownPlatforms.getDefaultPlatform()}setActivePlatform(e){this.extensionContext.workspaceState.update("activePlatform",e.toString())}getStartUpProjectPath(){return this.extensionContext.workspaceState.get("startUpProject","")}setStartUpProjectPath(e){this.extensionContext.workspaceState.update("startUpProject",e)}getStartUpProject(){const e=this.getStartUpProjectPath();if(e&&e.trim())return this.projects.find((t=>t.path===e))}projectsChanged(e){this.projects=e}getSupportsVSDbg(){return this.extensionContext.workspaceState.get("supportsVSDbg",!0)}setSupportsVSDbg(e){this.extensionContext.workspaceState.update("supportsVSDbg",e)}getUseVSDbg(){return n.workspace.getConfiguration("maui.configuration.experimental").get("useVSDbg",!1)}async setUseVSDbg(e){const t=n.workspace.getConfiguration("maui.configuration.experimental");await t.update("useVSDbg",e,n.ConfigurationTarget.Global)}getPreferredAndroidSdkPath(){return n.workspace.getConfiguration("maui.configuration").get("androidSdkPreferredPath","")}async setPreferredAndroidSdkPath(e){const t=n.workspace.getConfiguration("maui.configuration");await t.update("androidSdkPreferredPath",e,n.ConfigurationTarget.Global)}getPreferredJavaSdkPath(){return n.workspace.getConfiguration("maui.configuration").get("javaSdkPreferredPath","")}async setPreferredJavaSdkPath(e){const t=n.workspace.getConfiguration("maui.configuration");await t.update("javaSdkPreferredPath",e,n.ConfigurationTarget.Global)}getDebugServerPort(){return n.workspace.getConfiguration("maui.configuration").get("debugServerPort")}getDebugVerbosity(){return this.getLogVerbosityFor("debugVerbosity",o.LogVerbosity.minimal)}getLogVerbosity(){let e=this.getDefaultLogVerbosityFromProcessEnv();return e||(e=this.getLogVerbosityFor("logVerbosity",o.LogVerbosity.detailed)),e}getDefaultLogVerbosityFromProcessEnv(){let e;const t=process.env.MINIMUM_LOG_LEVEL?.toLowerCase();if(t?.trim())switch(t){case"low":e=o.LogVerbosity.diagnostic;break;case"normal":e=o.LogVerbosity.detailed;break;case"high":e=o.LogVerbosity.minimal}return e}getLogVerbosityFor(e,t){let r;const i=n.workspace.getConfiguration("maui.configuration").get(e);if(i?.trim())switch(i){case"minimal":r=o.LogVerbosity.minimal;break;case"detailed":r=o.LogVerbosity.detailed;break;case"diagnostic":r=o.LogVerbosity.diagnostic}return r??t}enableTelemetryInOutputWindow(){return"true"===process.env.EnableTelemetryInOutputWindow}onConfigurationChanged(e){if(e.affectsConfiguration("maui.configuration")){const e=this.getLogVerbosity();i.logger.setLogVerbosity(e),i.telemetryService?.telemetryLogger?.setLogVerbosity(e)}}}},9286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiStartUpProjectManager=void 0;const n=r(3865),i=r(3109),o=r(5994),a=r(9871),s=r(3497);t.MauiStartUpProjectManager=class{settingsProperties;devenv;eventStream;languageStatusItem;allProjects=[];applicationProjects=[];constructor(e,t,r){this.settingsProperties=e,this.devenv=t,this.eventStream=r}deactivate(){this.languageStatusItem?.deactivate()}activate(){const e=`${s.mauiCommons.commandPrefix}.pickStartUpProject`;this.settingsProperties.getExtensionContext().subscriptions.push(this.devenv.registerCommand(e,(async()=>{await this.pickStartUpProject()}))),this.languageStatusItem=new a.MauiLanguageStatusItem(`${s.mauiCommons.commandPrefix}.startUpProjectLanguageStatusItem`,n.mauiResources.startUpProjectManager.pickerName,e,n.mauiResources.startUpProjectManager.pickerTitle,n.mauiResources.startUpProjectManager.pickerTooltip,n.mauiResources.startUpProjectManager.pickerInitialText),this.refreshStartUpProject()}async getStartUpProjectPathOrInitializeIfAbsent(){return void 0===this.refreshStartUpProject()&&await this.pickStartUpProject(),this.settingsProperties.getStartUpProjectPath()}async pickStartUpProject(){let e=await this.pickProject();e&&(this.setStartUpProject(e),this.eventStream.push(new o.StartUpProjectChangedEvent(e)))}async pickProject(){let e=this.getApplicationProjects().sort(((e,t)=>e.name?.localeCompare(t.name)));if(0===e.length)return;this.languageStatusItem?.setBusy(!0);const t=this.settingsProperties.getStartUpProjectPath();if(t&&t.trim()){let r=e.find((e=>e.path===t));r&&(e=e.filter((e=>e.path!==t)),e.unshift(r))}const r=e.map((e=>({project:e,label:e.name,detail:e.path,description:e.targetFrameworkMonikers&&e.targetFrameworkMonikers.length>1?`(${e.targetFrameworkMonikers.toString()})`:""})));this.languageStatusItem?.setBusy(!1);let i=await this.devenv.showQuickPick(r,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:n.mauiResources.startUpProjectManager.pickerInputPlaceHolder});return i?.project}getApplicationProjects(){return this.applicationProjects}setStartUpProject(e){new i.TelemetryEvent("maui-project-selected").sendTelemetry(),e&&this.saveStartUpProject(e.path)&&this.updateStatus(e.name)}saveStartUpProject(e){if(e&&e.trim()){let t=this.settingsProperties.getStartUpProjectPath();if(!Boolean(t&&t.trim())||t!==e)return this.settingsProperties.setStartUpProjectPath(e),!0}return!1}updateStatus(e){e&&e.trim()?this.updateStatusItems(e):this.updateStatusItems(n.mauiResources.startUpProjectManager.statusItemLabelDefault)}updateStatusItems(e){this.languageStatusItem?.updateStatus(e)}projectsChanged(e){this.allProjects=e,this.applicationProjects=e.filter((e=>e.isApplication())),this.applicationProjects.length>0?(this.refreshStartUpProject(),this.languageStatusItem?.activate()):this.languageStatusItem?.deactivate()}refreshStartUpProject(){let e;if(this.applicationProjects.length>0){var t=this.settingsProperties.getStartUpProjectPath();t&&t.trim()&&(e=this.applicationProjects.find((e=>e.path===t))),void 0===e&&this.applicationProjects.length>=1&&(e=this.applicationProjects[0],e&&this.setStartUpProject(e))}return e?this.updateStatus(e.name):(this.saveStartUpProject(""),this.updateStatus("")),e}notifyPropertiesChanged(e,t){let r=this.getProject(e);r&&r.updateProperties(t)}getProject(e){return e?this.allProjects.find((t=>t.path===e)):void 0}}},6146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiWalkthroughManager=void 0;const n=r(9496),i=r(3497);t.MauiWalkthroughManager=class{settingsProperties;constructor(e){this.settingsProperties=e}async searchNewProjectFromCommandPalette(){this.searchFromCommandPaletteHelper(".NET: New Project...")}async searchFromCommandPalette(){this.searchFromCommandPaletteHelper(".NET MAUI:")}async searchFromCommandPaletteHelper(e){n.commands.executeCommand("workbench.action.quickOpen",">"+e)}deactivate(){}activate(){const e=`${i.mauiCommons.commandPrefix}.searchNewProjectFromCommandPalette`,t=`${i.mauiCommons.commandPrefix}.searchFromCommandPalette`;this.settingsProperties.getExtensionContext().subscriptions.push(n.commands.registerCommand(e,(async()=>{await this.searchNewProjectFromCommandPalette()}))),this.settingsProperties.getExtensionContext().subscriptions.push(n.commands.registerCommand(t,(async()=>{await this.searchFromCommandPalette()})))}}},1346:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=t.isMac=void 0;const n=r(2037);t.isMac=function(){const e=(0,n.platform)();return e&&e.includes("darwin")},t.isWindows=function(){const e=(0,n.platform)();return e&&e.includes("win")&&!e.includes("darwin")}},9518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectCapabilities=void 0;class r{static Mobile="Mobile";static Managed="Managed";static Maui="Maui";static UseMaui="UseMaui";static UseMauiCore="UseMauiCore";static Android="Android";static AndroidBinding="AndroidBinding";static AndroidApplication="AndroidApplication";static Apple="Apple";static IOSApplication="IOSApplication";static IOSAppExtension="IOSAppExtension";static IOSBinding="IOSBinding";static IOSClassLibrary="IOSClassLibrary";static TvOSApplication="TvOSApplication";static TvOSAppExtension="TvOSAppExtension";static TvOSBinding="TvOSBinding";static TvOSClassLibrary="TvOSClassLibrary";static WatchOSApplication="WatchOSApplication";static WatchOSAppExtension="WatchOSAppExtension";static WatchOSBinding="WatchOSBinding";static WatchOSClassLibrary="WatchOSClassLibrary";static MacOSApplication="MacOSApplication";static MacOSAppExtension="MacOSAppExtension";static MacOSBinding="MacOSBinding";static MacOSClassLibrary="MacOSClassLibrary";static MacCatalystApplication="MacCatalystApplication";static MacCatalystBinding="MacCatalystBinding";static WinUI="WinUI";static evaluate(e,t){var i=new n(t);return!!this.isNullOrEmpty(e)||r.evaluateOr(e,i)}static isNullOrEmpty(e){return!(e&&e.trim())}static evaluateOr(e,t){for(;;){if(r.evaluateAnd(e,t))return!0;if(!r.skipWhitespace(e,t))return!1;if("|"!==e[t.currentPosition])return!1;t.currentPosition++}}static evaluateAnd(e,t){for(;;){if(!r.evaluateNotOrValue(e,t))return!1;if(!r.skipWhitespace(e,t))return!0;var n=e[t.currentPosition];if("&"!==n&&"+"!==n)return"!"!==n||(t.currentPosition++,!r.evaluateValue(e,t));t.currentPosition++}}static evaluateNotOrValue(e,t){return!!r.skipWhitespace(e,t)&&("!"===e[t.currentPosition]?(t.currentPosition++,!r.evaluateValue(e,t)):r.evaluateValue(e,t))}static evaluateValue(e,t){if(!r.skipWhitespace(e,t))return!1;if("("===e[t.currentPosition]){t.currentPosition++;let n=!1,i=!0;for(;i;){let o=r.evaluateOr(e,t);if(n=n||o,!o)return")"===e[t.currentPosition]&&t.currentPosition++,n;"|"===e[t.currentPosition]?t.currentPosition++:i=!1}return!!r.skipWhitespace(e,t)&&")"===e[t.currentPosition]&&(t.currentPosition++,n)}return r.evaluateSymbol(e,t)}static evaluateSymbol(e,t){if(!r.skipWhitespace(e,t))return!1;let n=t.currentPosition;for(;t.currentPosition<e.length;){var i=e[t.currentPosition];if(-1!=="\"'`:;,+-*/\\!~|&%$@^()={}[]<>? \t\b\n\r".indexOf(i))break;t.currentPosition++}if(t.currentPosition>n){const r=e.slice(n,t.currentPosition);return t.symbols.includes(r)}return!1}static skipWhitespace(e,t){let r=t.currentPosition<e.length;for(;r;)" "===e[t.currentPosition]?(t.currentPosition++,r=t.currentPosition<e.length):r=!1;return t.currentPosition<e.length}static tests(){const e=["CPS","CSharp","Net"];r.evaluate("CPS & CSharp",e),r.evaluate("(CPS & CSharp)",e),r.evaluate("CPS | xxx",e),r.evaluate("xxx | CSharp",e),r.evaluate("xxx & ddd",e),r.evaluate("CPS & xxx",e),r.evaluate("   xx & CSharp",e),r.evaluate("   CPS & CSharp",e),r.evaluate("CPS & CSharp   ",e),r.evaluate("CPS   &   CSharp",e),r.evaluate("(CPS & CSharp) | (CSharp)",e),r.evaluate("CPS & (CSharp | CPS)",e),r.evaluate("!(CPS)",e),r.evaluate("!(cffwdfvwe)",e),r.evaluate("!(cffwdfvwe | CPS)",e),r.evaluate("!(CPS | fefeqf)",e),r.evaluate("!(fdewfdwd | fefeqf)",e),r.evaluate("!(dsddsd & CSharp)",e),r.evaluate("!(CSharp & dfdq)",e),r.evaluate("!(CPS & CSharp)",e),r.evaluate("!CPS",e),r.evaluate("! CPS",e)}}t.ProjectCapabilities=r;class n{symbols;currentPosition;constructor(e){this.symbols=e,this.currentPosition=0}}},4242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectQueryParser=void 0;const n=r(1017),i=r(3865),o=r(2432),a=r(3208),s=r(8043),u=r(6802);class c{logger;settingsProperties;constructor(e,t){this.logger=e,this.settingsProperties=t}parse(e){const t=[];try{if(e){let r=this.getProjectQueryVersions(e);e.Items?.forEach((e=>{var n=this.createMauiProject(e,r.filter((t=>t.project===e.Name)));n&&t.push(n)}))}}catch(e){this.logger.log(i.mauiResources.getErrorMessage(e))}return t}getProjectQueryVersions(e){let t=[];return e.Versions&&JSON.stringify(e.Versions??"").trim().replace("{","").replace("}","").split(",").forEach((e=>{let r=e.replace('"',"").replace('"',"").split(":");if(r&&4===r.length&&"CpsProject"===r[0]){let e=r[2].split("|");if(e&&e.length>=2){let r,n=e[0],i="Debug",o=e[1];if(n.includes(".")){let t=e[0].split(".");n=t[0],i=t[1]}3===e.length&&(r=e[2]);let a=this.getTargetFrameworkMonikerForTargetFramework(r);t.push(new s.ProjectQueryVersion(n,i,o,r,a))}}})),t}createMauiProject(e,t){if(this.settingsProperties){const r=[],n=[];let i,o;return e.Configurations?.forEach((e=>{let t=this.getTargetFrameworkMonikerForProjectConfiguration(e);t&&!r.map((e=>e.toString())).includes(t.toString())&&r.push(t),i||(i=e.BuildProperties?.find((e=>"NetCoreRoot"===e.Name))?.Value,!o&&i&&(o=c.parseDotNetSdkVersion(e.BuildProperties?.find((e=>"MSBuildExtensionsPath"===e.Name))?.Value)))})),new a.MauiProject(e,r,n,this.settingsProperties,i,o,t)}return null}static parseDotNetSdkVersion(e){if(e)return n.basename(e)}getTargetFrameworkMonikerForProjectConfiguration(e){try{let r;var t=e.Name?.split("|");if(t&&t.length>2)r=t[2];else{let t=e.BuildProperties?.find((e=>"TargetFramework"===e.Name));r=t?.Value}return this.getTargetFrameworkMonikerForTargetFramework(r)}catch(t){this.logger.log(i.mauiResources.projectSystem.unableToParseTargetFrameworkError(e.Name))}}getTargetFrameworkMonikerForTargetFramework(e){try{var t=void 0;if(e?.trim()&&o.MauiKnownPlatforms.getSupportedPlatforms().find((t=>e.includes(t)))&&(t=new u.TargetFrameworkMoniker(e)),t&&t.platform?.trim()&&o.MauiKnownPlatforms.getSupportedPlatforms().includes(t.platform))return t}catch(t){this.logger.log(i.mauiResources.projectSystem.unableToParseTargetFrameworkError(e))}}}t.ProjectQueryParser=c},8043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectQueryVersion=void 0,t.ProjectQueryVersion=class{constructor(e,t,r,n,i){this.project=e,this.configuration=t,this.platform=r,this.targetFramework=n,this.targetFrameworkMoniker=i}project;configuration;platform;targetFramework;targetFrameworkMoniker}},7018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectsLoadedEvent=void 0,t.ProjectsLoadedEvent=class{constructor(e){this.projects=e}projects}},5994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StartUpProjectChangedEvent=void 0,t.StartUpProjectChangedEvent=class{constructor(e){this.project=e}project}},6802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetFrameworkMoniker=void 0;const n=r(3865);t.TargetFrameworkMoniker=class{rxTfm=new RegExp(/net(?<tfvMajor>[0-9]{1,2})(\.(?<tfvMinor>[0-9]{1,2}))?(-(?<platform>[a-z]+)(?<tpv>[0-9\.]+)?)?/i);constructor(e){var t=this.rxTfm.exec(e),r=t?.groups?.tfvMajor,i=t?.groups?.tfvMinor;this.platform=t?.groups?.platform?.toString()?.toLowerCase();var o=t?.groups?.tpv;if(!r)throw new Error(n.mauiResources.projectSystem.invalidTargetFrameworkError(e));i||(i="0"),this.version=r+"."+i,o&&(this.platformVersion=o)}version;platform;platformVersion;toString(){var e=`net${this.version}`;return this.platform&&(e+=`-${this.platform}`,this.platformVersion&&(e+=`${this.platformVersion}`)),e}}},410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiActionQuickPickItem=void 0,t.MauiActionQuickPickItem=class{label;description="";detail;actionId;runningUpdateStatus;runningTooltip;runningCommandId;runningTitle;constructor(e,t,r,n,i=void 0,o=void 0,a=void 0,s=void 0){this.label=e,this.detail=t,this.description=r,this.actionId=n,this.runningUpdateStatus=i,this.runningTooltip=o,this.runningCommandId=a,this.runningTitle=s}matchesWithInput(e){return this.label.includes(e)}}},5187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDevEnv=void 0;const n=r(9496);t.MauiDevEnv=class{showQuickPick(e,t,r){return n.window.showQuickPick(e,t,r)}showQuickPickString(e,t,r){return n.window.showQuickPick(e,t,r)}registerCommand(e,t,r){return n.commands.registerCommand(e,t)}}},9871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiLanguageStatusItem=void 0;const n=r(9496);t.MauiLanguageStatusItem=class{id;name;commandId;title;tooltip;initialText;documentSelectors=[];languageStatusItems=[];constructor(e,t,r,n,i,o){this.id=e,this.name=t,this.commandId=r,this.title=n,this.tooltip=i,this.initialText=o,this.documentSelectors=this.getDefaultDocumentSelectors()}getDefaultDocumentSelectors(){let e=[];return e.push({language:"csharp",pattern:"**/*.cs"}),e.push({language:"XAML",pattern:"**/*.xaml"}),e.push({language:"xml",pattern:"**/*.{csproj,xml,plist}"}),e.push({language:"plaintext",pattern:"**/*.sln"}),e.push({language:"css",pattern:"**/*.css"}),e.push({language:"aspnetcorerazor",pattern:"**/*.razor"}),e}deactivate(){this.languageStatusItems.forEach((e=>{e.dispose()})),this.languageStatusItems=[]}activate(){this.deactivate();const e={title:this.title,tooltip:this.tooltip,command:this.commandId};let t=0;this.documentSelectors.forEach((r=>{const n=`${this.id}.${t}}`,i=this.createLanguageStatusItem(n,this.name,r,e,this.initialText);this.languageStatusItems.push(i),t++}))}updateStatus(e){this.initialText=e,this.languageStatusItems.forEach((t=>{t.text=e??this.initialText}))}createLanguageStatusItem(e,t,r,i,o){let a=n.languages.createLanguageStatusItem(e,r);return a.name=t,a.command=i,a.text=o,a}setBusy(e){this.languageStatusItems.forEach((t=>{t.busy=e}))}setSeverity(e){this.languageStatusItems.forEach((t=>{t.severity=e}))}setCommand(e,t,r=void 0){this.commandId=e,this.tooltip=t,r&&(this.title=r);const n={title:this.title,tooltip:this.tooltip,command:this.commandId};this.languageStatusItems.forEach((e=>{e.command=n}))}}},127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressStatusBarNotificationItem=void 0;const n=r(9496);t.ProgressStatusBarNotificationItem=class{workingTaskEventEmitter=new n.EventEmitter;isInitialized=!1;isRunningProgress=!1;isActive(){return this.isInitialized}isRunning(){return this.isRunningProgress}deactivate(){this.isInitialized=!1,this.workingTaskEventEmitter.dispose()}activate(){this.isInitialized=!0}startProgress(e){e&&e.trim()&&(this.endProgress(),this.isRunningProgress=!0,n.window.withProgress({location:n.ProgressLocation.Window,cancellable:!1,title:e},(async e=>{e.report({increment:0}),await new Promise((e=>{this.workingTaskEventEmitter.event((t=>{e(t)}))})),e.report({increment:100})})))}endProgress(){this.isRunningProgress&&(this.workingTaskEventEmitter.fire(!0),this.isRunningProgress=!1)}}},3559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDebugTargetAction=void 0;const n=r(9496);t.MauiDebugTargetAction=class{id;label;description="";detail;actionId;platform;constructor(e,t,r,n,i){this.platform=e,this.label=t,this.detail=r,this.description=n,this.actionId=i,this.id=t}getPlatform(){return this.platform}matchesWithInput(e){return this.label.includes(e)||this.description?.includes(e)||this.detail?.includes(e)}run(){n.commands.executeCommand(this.actionId)}}},1822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDebugTargetSeparator=void 0;const n=r(9496);t.MauiDebugTargetSeparator=class{id;label;kind;platform;constructor(e,t){this.label=t,this.platform=e,this.kind=n.QuickPickItemKind.Separator,this.id=t}getPlatform(){return this.platform}matchesWithInput(e){return!1}}},5865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDebugTargets=void 0,t.MauiDebugTargets=class{platform;defaultDebugTarget;groups;constructor({platform:e,defaultDebugTarget:t,groups:r}){this.platform=e,this.defaultDebugTarget=t,this.groups=r}matchesWith(e,t){return!!(e&&e.trim()&&t&&t.trim())&&this.platform===t&&this.groups&&this.groups.find((t=>t.debugTargets.find((t=>t.id===e))||t.actions.find((t=>t.actionId===e))))}getDebugTarget(e){let t;if(e&&e.trim()&&this.groups){let r=0;for(;r<this.groups.length&&void 0===t;){const n=this.groups[r];t=n.debugTargets.find((t=>t.id===e)),t||(t=n.actions.find((t=>t.actionId===e))),r++}}return t}getGroupFor(e){return e&&e.trim()&&this.groups?this.groups.find((t=>t.debugTargets.find((t=>t.id===e))||t.actions.find((t=>t.actionId===e)))):void 0}}},8757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDebugTargetsGroup=void 0;const n=r(1822);t.MauiDebugTargetsGroup=class{platformGroup;platform;debugTargets;actions;separator;constructor({platform:e,debugTargets:t,actions:r,platformGroup:i}){this.platform=e,this.platformGroup=i,this.debugTargets=t,this.actions=r,this.separator=new n.MauiDebugTargetSeparator(e,i)}}},8663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDebugTargetsManager=void 0;const n=r(9496),i=r(3865),o=r(3109),a=r(2432),s=r(9871),u=r(3497),c=r(3559),l=r(2869),d=r(2117);t.MauiDebugTargetsManager=class{logger;settingsProperties;platformsManager;languageStatusItem;onlyBuildActionId;initializedPlatforms;isProjectSystemReady;eventStream;selectDebugTargetDisposable;startUpProjectChangedDisposable;constructor(e,t,r,n){this.logger=e,this.platformsManager=r,this.onlyBuildActionId=u.mauiCommons.onlyBuildActionId,this.settingsProperties=t,this.initializedPlatforms=[a.MauiKnownPlatforms.Windows],this.isProjectSystemReady=!1,this.eventStream=n}deactivate(){this.languageStatusItem?.deactivate(),this.selectDebugTargetDisposable?.dispose(),this.startUpProjectChangedDisposable?.dispose()}activate(){this.startUpProjectChangedDisposable=this.eventStream.subscribe((async e=>{if(e.project)try{await this.getActiveDebugTargetOrInitializeStatusIfAbsent(!0)}catch(t){this.logger.log(i.mauiResources.debugTargetsManager.startUpProjectChangedEventCallbackError(e.project,t))}})),this.selectDebugTargetDisposable=this.eventStream.subscribe((e=>{this.selectDebugTarget(e.debugTarget,e.platform)}));const e=`${u.mauiCommons.commandPrefix}.pickDebugTarget`;var t=this.settingsProperties.getExtensionContext();t.subscriptions.push(n.commands.registerCommand(e,(async()=>{const e=this.settingsProperties.getStartUpProject();await this.pickAndSetDebugTarget(new d.MauiGetDebugTargetsFilter(e))}))),this.languageStatusItem=new s.MauiLanguageStatusItem(`${u.mauiCommons.commandPrefix}.deviceTargetLanguageStatusItem`,i.mauiResources.debugTargetsManager.pickerName,e,i.mauiResources.debugTargetsManager.pickerTitle,i.mauiResources.debugTargetsManager.pickerTooltip,`$(device-mobile) ${i.mauiResources.debugTargetsManager.pickerInitialText}}`),t.subscriptions.push(n.commands.registerCommand(`${u.mauiCommons.commandPrefix}.pickDeviceTargetFilterByAndroid`,(async()=>{const e=this.settingsProperties.getStartUpProject();await this.pickAndSetDebugTarget(new d.MauiGetDebugTargetsFilter(e,a.MauiKnownPlatforms.Android))}))),t.subscriptions.push(n.commands.registerCommand(`${u.mauiCommons.commandPrefix}.pickDeviceTargetFilterByiOS`,(async()=>{const e=this.settingsProperties.getStartUpProject();await this.pickAndSetDebugTarget(new d.MauiGetDebugTargetsFilter(e,a.MauiKnownPlatforms.iOS))}))),t.subscriptions.push(n.commands.registerCommand(`${u.mauiCommons.commandPrefix}.pickDeviceTargetFilterByMacCatalyst`,(async()=>{const e=this.settingsProperties.getStartUpProject();await this.pickAndSetDebugTarget(new d.MauiGetDebugTargetsFilter(e,a.MauiKnownPlatforms.MacCatalyst))}))),t.subscriptions.push(n.commands.registerCommand(`${u.mauiCommons.commandPrefix}.pickDeviceTargetFilterByWindows`,(async()=>{const e=this.settingsProperties.getStartUpProject();await this.pickAndSetDebugTarget(new d.MauiGetDebugTargetsFilter(e,a.MauiKnownPlatforms.Windows))}))),this.updateStatus()}async pickAndSetDebugTarget(e){let t=await this.pickDebugTarget(e);return t instanceof c.MauiDebugTargetAction?this.runAction(t):this.notifyDebugTargetSelected(t),t}async pickDebugTarget(e){this.languageStatusItem?.setBusy(!0);let t=await this.getDebugTargets(e);return this.languageStatusItem?.setBusy(!1),await n.window.showQuickPick(t,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:i.mauiResources.debugTargetsManager.pickerInputPlaceHolder})}async getDebugTarget(e,t){const r=await this.platformsManager.getDebugTargets(e);let n;if(t&&t.trim()&&e&&e.platform&&e.platform.trim()){var i=this.findDebugTargetsByPlatform(r,e.platform);i&&(n=i.getDebugTarget(t),n||(n=this.getDebugTargetByDeviceIdentifier(i,t)))}return n}getDebugTargetByDeviceIdentifier(e,t){let r;if(t&&t.trim()&&e.groups){let n=0;for(;n<e.groups.length&&void 0===r;)r=e.groups[n].debugTargets.find((e=>{if(e instanceof l.MauiDeviceTarget)return e?.mauiDevice?.identifier===t})),n++}return r}async getDebugTargets(e){let t=[];const r=await this.platformsManager.getDebugTargets(e);let n=this.settingsProperties.getActiveDebugTarget(),i=this.settingsProperties.getActivePlatform(),o=this.findDebugTargetsBy(r,n,i);if(o){const e=o.getGroupFor(n);if(e){let r=e.debugTargets,i=r,o=e.actions,a=o;if(n&&n.trim()){const e=r.find((e=>e.id===n));if(e)r=r.filter((t=>t!==e)),r.unshift(e),i=r,a=o;else{const e=o.find((e=>e.actionId===this.onlyBuildActionId));e&&(o=o.filter((t=>t!==e)),o.unshift(e),i=o,a=r)}}t=t.concat(e.separator).concat(i).concat(a)}o.groups.forEach((r=>{e!==r&&(r.debugTargets.length>0||r.actions.length>0)&&(t=t.concat(r.separator).concat(r.debugTargets).concat(r.actions))}))}return r.forEach((e=>{e!==o&&e.groups&&e.groups.length>0&&e.groups.forEach((e=>{(e.debugTargets.length>0||e.actions.length>0)&&(t=t.concat(e.separator).concat(e.debugTargets).concat(e.actions))}))})),t}findDebugTargetsBy(e,t,r){if(t&&t.trim()&&r&&r.trim())return e.find((e=>e.matchesWith(t,r)))}findDebugTargetBy(e,t,r){let n;if(t&&t.trim()&&r&&r.trim()){var i=this.findDebugTargetsByPlatform(e,r);i&&(n=i.getDebugTarget(t))}return n}findDebugTargetsByPlatform(e,t){if(t?.trim())return e.find((e=>e.platform===t))}updateStatus(e="",t=""){if(e&&e.trim()&&t&&t.trim()){var r=a.MauiKnownPlatforms.getDisplayName(t);e===this.onlyBuildActionId?this.updateStatusItems(i.mauiResources.debugTargetsManager.statusItemLabelBuildOnly(r)):this.updateStatusItems(`${r}: ${e}`)}else this.updateStatusItems(`$(device-mobile) ${i.mauiResources.debugTargetsManager.statusItemLabelDefault}`)}updateStatusItems(e){this.languageStatusItem?.updateStatus(e)}notifyDebugTargetSelected(e){if(e){const t=e.getPlatform()??"",r=e?.mauiDevice,n=r?.platforms.length>0?r?.platforms[0]:null,i=r?.runtimeIdentifiers.length>0?r?.runtimeIdentifiers[0]:null;new o.TelemetryEvent("debug-target-selected").addOrUpdateProperties({selectedPlatform:t,deviceArchitecture:r?.architecture??"",deviceIdiom:r?.idiom,deviceIsEmulator:String(r?.isEmulator),deviceFirstPlatform:n??"",deviceFirstRidArchitecture:i?.architecture??"",deviceFirstRidPlatform:i?.platform??"",deviceVersion:r?.version,deviceVersionName:r?.versionName}).sendTelemetry(),this.saveActiveDebugTargetAndPlatform(e.id,t)&&this.updateStatus(e.label,t)}}runAction(e){if(e&&e.actionId===this.onlyBuildActionId){const t=this.saveActiveDebugTargetAndPlatform(this.onlyBuildActionId,e.platform);new o.TelemetryEvent("build-target-selected").addOrUpdateProperties({platform:e.platform}).sendTelemetry(),t&&this.updateStatus(this.onlyBuildActionId,e.platform)}else e.run()}saveActiveDebugTargetAndPlatform(e,t){if(e&&e.trim()&&t&&t.trim()){let r=this.settingsProperties.getActiveDebugTarget();if(!Boolean(r&&r.trim())||r!==e||e===this.onlyBuildActionId)return this.settingsProperties.setActiveDebugTarget(e),this.settingsProperties.setActivePlatform(t),!0}return!1}projectsChanged(e){this.isProjectSystemReady=e.filter((e=>e.isApplication())).length>0,this.hideShowStatusbar()}startWatchingCompleted(e){this.refreshPlatformsStatus(e)}devicesChanged(e){this.refreshPlatformsStatus(e)}refreshPlatformsStatus(e){e.forEach((e=>{this.initializedPlatforms.includes(e)||this.initializedPlatforms.push(e)})),this.hideShowStatusbar()}hideShowStatusbar(){this.isReady()?this.getActiveDebugTargetOrInitializeStatusIfAbsent(!0).then((()=>this.languageStatusItem?.activate())):this.languageStatusItem?.deactivate()}isReady(){const e=this.settingsProperties.getActivePlatform(),t=Boolean(e&&e.trim());return this.isProjectSystemReady&&(!t||this.initializedPlatforms.includes(e))}async selectDebugTarget(e,t){const r=this.settingsProperties.getStartUpProject(),n=await this.platformsManager.getDebugTargets(new d.MauiGetDebugTargetsFilter(r,t));if(e&&e.trim()){var i=this.findDebugTargetBy(n,e,t);return this.notifyDebugTargetSelected(i),i}}async getActiveDebugTargetOrInitializeStatusIfAbsent(e){let t,r="",n="";const i=this.settingsProperties.getStartUpProject();if(i){r=this.settingsProperties.getActiveDebugTarget(),n=this.settingsProperties.getActivePlatform();let e=i.getActiveTargetFramework();e&&e.platform?.trim()&&n!==e.platform&&(n=e.platform,r="")}else r=this.settingsProperties.getActiveDebugTarget(),n=this.settingsProperties.getActivePlatform();const o=await this.platformsManager.getDebugTargets(new d.MauiGetDebugTargetsFilter(i,n));if(r?.trim()&&(t=this.findDebugTargetBy(o,r,n)),!t&&e&&o.length>0){let e=this.findDebugTargetsByPlatform(o,n);e&&e.defaultDebugTarget&&(t=e.defaultDebugTarget,t)&&(this.isDevice(t)?t&&this.saveActiveDebugTargetAndPlatform(t.id,n):this.isAction(t)&&t&&t.actionId===this.onlyBuildActionId&&this.saveActiveDebugTargetAndPlatform(this.onlyBuildActionId,n))}if(t)if(this.isAction(t)){let e=t;e&&e.actionId===this.onlyBuildActionId?this.updateStatus(e.actionId,n):this.updateStatus(t.label,n)}else this.updateStatus(t.label,n);else r===this.onlyBuildActionId?this.updateStatus(r,n):(this.settingsProperties.setActiveDebugTarget(""),this.settingsProperties.setActivePlatform(""),this.updateStatus());return t}isAction(e){return!!e&&e instanceof c.MauiDebugTargetAction}isDevice(e){return!!e&&e instanceof l.MauiDeviceTarget}async getActiveDeviceTargetOrInitializeIfAbsent(){let e=await this.getActiveDebugTargetOrInitializeStatusIfAbsent(!1);if(this.isAction(e))return;let t=e;if(!t){const r=this.settingsProperties.getStartUpProject();e=await this.pickAndSetDebugTarget(new d.MauiGetDebugTargetsFilter(r)),e instanceof l.MauiDeviceTarget&&(t=e)}return t}}},2869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDeviceTarget=void 0;const n=r(3865),i=r(2432);t.MauiDeviceTarget=class{mauiDevice;id;identifier;label;description="";detail;constructor(e){this.mauiDevice=e,this.mauiDevice=e,this.id=e.identifier,this.identifier=e.identifier;var t=this.getIdiomIcon();if(this.isAndroid())if(e.isRunning&&e.isEmulator&&e.emulatorId&&e.emulatorId.trim()&&(this.id=e.emulatorId),this.label=`${t} ${e.name}`,e.isEmulator){var r=n.mauiResources.projectSystem.platforms.android.emulator;e.subModel&&(r+=" ",r+=e.subModel),r+=" (",r+=this.identifier,r+=")",e.isRunning&&(r+=" - ",r+=n.mauiResources.projectSystem.platforms.android.deviceRunningDescription),this.detail=r,this.description=e.platformArchitecture}else r="",e.versionName&&(r="Android "+e.versionName),e.version&&(r.length>0?r+=" (API "+e.version+")":r+="API "+e.version),this.detail=r,this.description=e.platformArchitecture;else e.platforms.includes("ios")||e.platforms.includes("macos")||e.platforms.includes("tvos")||e.platforms.includes("watchos")?(this.label=`${t} ${e.name}`,this.description=e.manufacturer+" "+e.model,e.isEmulator?(r=n.mauiResources.projectSystem.platforms.apple.simulatorDescription(e.version,e.versionName),e.isRunning&&(r+=" - ",r+=n.mauiResources.projectSystem.platforms.apple.deviceRunningDescription),this.detail=r):this.detail=e.version+" "+e.versionName):(this.label=`${t} ${e.name}`,this.description=e.manufacturer+" "+e.model,this.detail=e.version+" "+e.versionName)}matchesWithInput(e){return this.label?.includes(e)||this.description?.includes(e)||this.detail?.includes(e)||this.mauiDevice.manufacturer?.includes(e)}isTvOS(){return this.mauiDevice.platforms.includes("tvos")}isMacOS(){return this.mauiDevice.platforms.includes("macos")}isMacCatalyst(){return this.mauiDevice.platforms.includes("maccatalyst")}isWatchOS(){return this.mauiDevice.platforms.includes("watchos")}isIOS(){return this.mauiDevice.platforms.includes("ios")}isAndroid(){return this.mauiDevice.platforms.includes("android")}isWindows(){return this.mauiDevice.platforms.includes("windows")}getPlatform(){return this.isAndroid()?i.MauiKnownPlatforms.Android:this.isIOS()?i.MauiKnownPlatforms.iOS:this.isMacCatalyst()?i.MauiKnownPlatforms.MacCatalyst:this.isTvOS()?i.MauiKnownPlatforms.TvOS:this.isWatchOS()?i.MauiKnownPlatforms.WatchOS:this.isMacOS()?i.MauiKnownPlatforms.MacOS:this.isWindows()?i.MauiKnownPlatforms.Windows:void 0}getIdiomIcon(){return"phone"===this.mauiDevice.idiom?"$(device-mobile)":"computer"===this.mauiDevice.idiom?(this.isMacCatalyst()||this.isMacOS(),"$(device-desktop)"):(this.mauiDevice.idiom,"$(device-mobile)")}isEmulator(){return this.mauiDevice.isEmulator}isRunning(){return this.mauiDevice.isRunning}getPlatformArchitecture(){return this.mauiDevice.platformArchitecture}}},2117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiGetDebugTargetsFilter=void 0,t.MauiGetDebugTargetsFilter=class{project;platform;constructor(e,t=void 0){this.project=e,this.platform=t}}},3497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mauiCommons=void 0,t.mauiCommons={commandPrefix:"vscode-maui",csdevkitExtensionId:"ms-dotnettools.csdevkit",onlyBuildActionId:"onlybuild",urls:{createAndroidEmulator:"https://aka.ms/vscode/maui/createAndroidEmulator",connectAndroidPhysicalDevice:"https://aka.ms/vscode/maui/connectAndroidPhysicalDevice",howToConfigure:"https://aka.ms/mauidevkit-docs"},services:{appleServiceId:"apple",androidServiceId:"android",workloadResolverServiceId:"mauiSdk"},workloadsIds:{maui:"maui"},dotNet:{buildProperties:{dotNetVersion:"NETCoreSDKVersion",dotNetPath:"NetCoreRoot"}},android:{javaSDKComponentName:"Java SDK"}}},6284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiPlatformBase=void 0;const n=r(9496),i=r(8510),o=r(3865),a=r(8377),s=r(3173);t.MauiPlatformBase=class{platform;autoSdk;utilsService;startUpProjectManager;settingsProperties;logger;constructor(e,t,r,n,i,o){this.platform=e,this.autoSdk=i,this.utilsService=n,this.startUpProjectManager=o,this.settingsProperties=r,this.logger=t}activate(){this.autoSdk?.activate()}deactivate(){this.autoSdk?.deactivate()}async updateStatusForContext(e){const t=e.filter((e=>this.appliesTo(e)));n.commands.executeCommand("setContext",`vscodeMauiPlatformEnabled${this.platform}`,t.length>0),this.autoSdk&&await this.autoSdk.updateProjectsStatus(t)}supportsTaskRunForDebugging(){return!0}supports(e){return Boolean(e&&e.trim())&&e===this.platform}supportsTargetFramework(e){return!(!e||!e.trim())&&e.includes(this.platform)}appliesTo(e){return Boolean(e.getTargetFrameworkFor(this.platform)).valueOf()}async getDeviceIdentifierForDebug(e,t){return new a.DebugDeviceIdentifierResult(t?.identifier)}async getDeviceRuntimeIdentifierForDebug(e,t){const r=e?.runtimeIdentifiers?.filter((e=>e.dotnetPlatform===this.platform));if(r&&r.length>0){const e=t?.split("-");return 2===e?.length&&e[0]===r[0].platform?t:`${r[0].platform}-${r[0].architecture}`}}validateDebug(){return this.autoSdk?.validateDebug()??new s.DebugValidationResult}async setDebugProperties(e,t){return t&&(e.debugPort=await this.findFreeDebugPort(),e.useVSDbg=await this.getUseVSDbg()),t}async findFreeDebugPort(){return await(this.utilsService?.findFreeDebugPort())??55559}setTaskProperties(e,t,r,n){}getShellExecutionTaskEnvironment(){return Object.assign({},process.env)}getUseVSDbg(){const e=this.settingsProperties.getSupportsVSDbg(),t=this.settingsProperties.getUseVSDbg();return e?t:(t&&this.logger.log(o.mauiResources.debugPropertiesProvider.vsDbgNotSupported,i.LogImportance.high),!1)}}},6245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiPlatformsManager=void 0,t.MauiPlatformsManager=class{settingsProperties;availablePlatforms=[];mauiAutoSdk;constructor(e,t){this.settingsProperties=e,this.mauiAutoSdk=t}setPlatforms(e){this.availablePlatforms=e}activate(){this.mauiAutoSdk.activate(),this.availablePlatforms.forEach((e=>{e.activate()}))}deactivate(){this.mauiAutoSdk.deactivate(),this.availablePlatforms.forEach((e=>{e.deactivate()}))}async getDebugTargets(e){let t=[];for(const r in this.availablePlatforms)if(Object.prototype.hasOwnProperty.call(this.availablePlatforms,r)){const n=this.availablePlatforms[r];let i=await n.getDebugTargets(e);t=t.concat(i)}return t}getProjectPlatformFor(e){if(e&&e.trim())return this.availablePlatforms.find((t=>t.supports(e)))}getProjectPlatformForTargetFramework(e){if(e&&e.trim())return this.availablePlatforms.find((t=>t.supportsTargetFramework(e)))}async projectsChanged(e){for(const t in this.availablePlatforms)if(Object.prototype.hasOwnProperty.call(this.availablePlatforms,t)){const r=this.availablePlatforms[t];await r.updateStatusForContext(e)}}async verifyMauiSdk(e){var t=e.filter((e=>e.isMaui()||this.availablePlatforms.filter((t=>t.appliesTo(e)||e.queryVersions.filter((e=>e.targetFramework?.trim()&&e.targetFrameworkMoniker&&e.targetFrameworkMoniker.platform?.trim()&&t.supports(e.targetFrameworkMoniker.platform))).length>0)).length>0));await this.mauiAutoSdk.updateProjectsStatus(t)}}},1400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidDependenciesResolver=void 0;const n=r(2920),i=r(3865),o=r(2432),a=r(59),s=r(1017);t.AndroidDependenciesResolver=class{settingsProperties;cliService;constructor(e,t){this.settingsProperties=e,this.cliService=t}async getAndroidLicenses(){return["android-sdk-license"]}async getAndroidDependencies(e,t){let r,u,c,l=[],d=[],f=new n.ProcessLogger,p=this.settingsProperties.getStartUpProject();p&&(u=s.normalize(p.path),c=s.dirname(u));let h=["build","-t:_GetAndroidDependenciesForDebug",`-f:${p?.getTargetFrameworkFor(o.MauiKnownPlatforms.Android)??"net7.0-android"}`,"-v:quiet"];e&&e.trim()&&h.push(`-p:AndroidSdkDirectory="${e}"`),t&&t.trim()&&h.push(`-p:JavaSdkDirectory="${t}"`),h.push("-p:DesignTimeBuild=true"),this.addSystemImageDependencyMsBuildPropertyForHostArch(h);const m=s.join(this.settingsProperties.getExtensionResourcesPath(),this.settingsProperties.getCustomAfterMicrosoftCSharpTargetsFilename());h.push(`-p:CustomAfterMicrosoftCSharpTargets="${m}"`);let g=this.cliService.getTempFileName("maui-vsc-androiddep");h.push(`-p:MauiVSCodeBuildOutputFile="${g}"`),u&&h.push(u);try{await this.cliService.runDotNet(c,h,f)}catch(e){r=i.mauiResources.getErrorMessage(e)}let v=await this.cliService.readFile(g);return v&&v.trim()&&v.split(/\r?\n/).forEach((e=>{if(e&&e.trim()){var t=e;e.endsWith("@")&&(t=e.replace("@","")),t.startsWith("emulator")||t.startsWith("system-images")?d.push(t):l.push(t)}})),new Promise(((e,t)=>{r&&r.trim()?t(r):e(new a.SdkDependencies(l,d))}))}addSystemImageDependencyMsBuildPropertyForHostArch(e){process.arch.includes("arm")?e.push('-p:AndroidSystemImageArchDependency="arm64-v8a"'):e.push('-p:AndroidSystemImageArchDependency="x86_64"')}}},7358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traceSdkComponent=t.traceJavaSdkState=t.traceAndroidSdkState=t.getAndroidSdkPakageIds=t.traceRecommendedActions=t.traceSdkState=void 0;const n=r(3865),i=r(4779),o=r(1346),a=r(5455),s=r(9301);function u(e,t,r){switch(t&&t.status===s.SdkStatus.notFound&&r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionInstallJavaSdk()),e.status){case s.SdkStatus.notFound:return void r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionInstallAndroidSdk());case s.SdkStatus.unacceptedLicenses:return void r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionAcceptLicenses());case s.SdkStatus.updateRequired:case s.SdkStatus.installed:const i=e.components.filter((e=>(e.status===s.SdkStatus.notFound||e.status===s.SdkStatus.updateRequired)&&e!==t)),o=i.filter((e=>e.required)),a=i.filter((e=>!e.required));return o.length>0&&(r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionInstallAndroidComponents()),l(e,c(o),r)),void(a.length>0&&(r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionUpgradeAndroidComponents()),l(e,c(a),r)));default:return}}function c(e){let t="";return e.forEach((e=>{let r=e.component?.replace(/\//g,";");t+=` "${r}"`})),t}function l(e,t,r){t.trim()&&(e.kind===a.SdkKind.defaultVS&&(0,o.isWindows)()?r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionRunVisualStudioToInstallAndroidComponents):e.kind===a.SdkKind.androidStudio&&r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionRunAndroidStudioToInstallAndroidComponents),e.pathLocator?.sdkManagerToolPath?.trim())&&(!e.path?.trim()||(0,i.isLocationUserWritable)(e.path)?r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionRunSdkManagerToInstallAndroidComponents(e.path??"",e.pathLocator.sdkManagerToolPath,t)):r.log(n.mauiResources.projectSystem.platforms.android.autosdkRecommendedActionRunSdkManagerToInstallAndroidComponentsAsAdministrator(e.path??"",e.pathLocator.sdkManagerToolPath,t)))}function d(e,t,r,i,o){o.log(n.mauiResources.blank);var a=r.getPreferredAndroidSdkPath();a&&a.trim()&&o.log(n.mauiResources.projectSystem.platforms.android.autosdkUserPreferredAndroidSdkPath(a));var u=i.getMSBuildPreferredAndroidSdkPath();u&&u.trim()&&o.log(n.mauiResources.projectSystem.platforms.android.directoryFound("MSBuild AndroidSdkDirectory",u));var c=process.env.ANDROID_SDK_ROOT;c&&c.trim()&&o.log(n.mauiResources.projectSystem.platforms.android.directoryFound("ANDROID_SDK_ROOT",c));var l=process.env.ANDROID_HOME;if(l&&l.trim()&&o.log(n.mauiResources.projectSystem.platforms.android.directoryFound("ANDROID_HOME",l)),e.path?.trim()&&o.log(n.mauiResources.projectSystem.platforms.android.brokeredServiceAndroidSdkPathFound(e.path)),e.status!==s.SdkStatus.notFound){o.log(n.mauiResources.blank),o.log(n.mauiResources.projectSystem.platforms.android.autosdkRequiredComponentVersionsTraceHeader),p(t,o);var d=e.components.filter((e=>e.required&&e!==t));d.length>0&&(o.log(n.mauiResources.blank),o.log(n.mauiResources.projectSystem.platforms.android.autosdkRequiredComponentVersionsTraceEntry),d.forEach((e=>p(e,o))));var f=e.components.filter((e=>!e.required&&e!==t));f.length>0&&(o.log(n.mauiResources.blank),o.log(n.mauiResources.projectSystem.platforms.android.autosdkOtherComponentVersionsTraceEntry),f.forEach((e=>p(e,o))))}}function f(e,t,r,i){i.log(n.mauiResources.blank);var o=t.getPreferredJavaSdkPath();o&&o.trim()&&i.log(n.mauiResources.projectSystem.platforms.android.autosdkUserPreferredJavaSdkPath(o));var a=r.getMSBuildPreferredJavaSdkPath();a&&a.trim()&&i.log(n.mauiResources.projectSystem.platforms.android.directoryFound("MSBuild JavaSdkDirectory",a));var s=process.env.JDK_HOME;s&&s.trim()&&i.log(n.mauiResources.projectSystem.platforms.android.directoryFound("JDK_HOME",s));var u=process.env.JAVA_HOME;u&&u.trim()&&i.log(n.mauiResources.projectSystem.platforms.android.directoryFound("JAVA_HOME",u)),e&&e.path?.trim()&&i.log(n.mauiResources.projectSystem.platforms.android.brokeredServiceJavaSdkPathFound(e.path))}function p(e,t){const r=n.mauiResources.projectSystem.platforms.android.getAutosdkComponentInfo(e);r?.trim()&&t.log(r)}t.traceSdkState=function(e,t,r,n){if(e){var i=r.getJavaSdkStateFor(e);f(i,t,r,n),d(e,i,t,r,n),u(e,i,n)}},t.traceRecommendedActions=u,t.getAndroidSdkPakageIds=c,t.traceAndroidSdkState=d,t.traceJavaSdkState=f,t.traceSdkComponent=p},4464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidProperties=void 0;const n=r(6810),i=r(3865),o=r(2432),a=r(3497),s=r(9301),u=r(7147);t.AndroidProperties=class{currentAndroidSdkPath;currentJavaSdkPath;sdkState;settingsProperties;constructor(e){this.settingsProperties=e}getSdkState(){return this.sdkState}getJavaSdkStateFor(e){return e?.components.find((e=>e.component===a.mauiCommons.android.javaSDKComponentName))}setSdkState(e){this.sdkState=e,this.currentAndroidSdkPath=e?.path??void 0;var t=this.getJavaSdkStateFor(e);this.currentJavaSdkPath=t?.path??void 0}getAndroidSdkPath(){return this.currentAndroidSdkPath&&this.currentAndroidSdkPath.trim()||(this.sdkState&&this.sdkState.status!==s.SdkStatus.notFound&&this.sdkState.path&&this.sdkState.path.trim()?this.currentAndroidSdkPath=this.sdkState.path:this.currentAndroidSdkPath=this.getPreferredAndroidSdkPath()),this.currentAndroidSdkPath}async setAndroidSdkPath(e){return!(!e||!e.trim()||(await this.settingsProperties.setPreferredAndroidSdkPath(e),this.currentAndroidSdkPath=e,n.logger.log(" "),n.logger.log(i.mauiResources.projectSystem.platforms.android.setAndroidSdkPathTo(e)),0))}getMSBuildPreferredAndroidSdkPath(){var e=this.settingsProperties.getStartUpProject();return e?.getPropertyValue(o.MauiKnownPlatforms.Android,"Debug","AndroidSdkDirectory")}getPreferredAndroidSdkPath(){var e=process.env.ANDROID_HOME;if(e&&e.trim()&&u.existsSync(e))return e;var t=process.env.ANDROID_SDK_ROOT;if(t&&t.trim()){if(u.existsSync(t))return t;e&&e.trim()||(e=t)}var r=this.getMSBuildPreferredAndroidSdkPath();if(r&&r.trim()){if(u.existsSync(r))return r;e&&e.trim()||(e=r)}var n=this.settingsProperties.getPreferredAndroidSdkPath();if(n&&n.trim()){if(u.existsSync(n))return n;e&&e.trim()||(e=n)}return e}getJavaSdkPath(){if(!this.currentJavaSdkPath||!this.currentJavaSdkPath.trim()){var e=this.getSdkState(),t=this.getJavaSdkStateFor(e);t&&t.status!==s.SdkStatus.notFound&&t.path&&t.path.trim()?this.currentJavaSdkPath=t.path:this.currentJavaSdkPath=this.getPreferredJavaSdkPath()}return this.currentJavaSdkPath}async setJavaSdkPath(e){return!(!e||!e.trim()||(await this.settingsProperties.setPreferredJavaSdkPath(e),this.currentJavaSdkPath=e,n.logger.log(" "),n.logger.log(i.mauiResources.projectSystem.platforms.android.setJavaSdkPathTo(e)),0))}getMSBuildPreferredJavaSdkPath(){var e=this.settingsProperties.getStartUpProject();return e?.getPropertyValue(o.MauiKnownPlatforms.Android,"Debug","JavaSdkDirectory")}getPreferredJavaSdkPath(){var e=process.env.JAVA_HOME;if(e&&e.trim()&&u.existsSync(e))return e;var t=process.env.JDK_HOME;if(t&&t.trim()){if(u.existsSync(t))return t;e&&e.trim()||(e=t)}var r=this.getMSBuildPreferredJavaSdkPath();if(r&&r.trim()){if(u.existsSync(r))return r;e&&e.trim()||(e=r)}var n=this.settingsProperties.getPreferredJavaSdkPath();if(n&&n.trim()){if(u.existsSync(n))return n;e&&e.trim()||(e=n)}return e}}},3385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchEmulatorResult=void 0;const n=r(3173);class i extends n.DebugValidationResult{constructor(e,t=void 0){super(t),this.mauiDevice=e}mauiDevice}t.LaunchEmulatorResult=i},9960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiAndroidPlatform=void 0;const n=r(9496),i=r(8510),o=r(3865),a=r(3117),s=r(4630),u=r(8377),c=r(8195),l=r(2432),d=r(9518),f=r(127),p=r(3559),h=r(5865),m=r(8757),g=r(2869),v=r(3497),y=r(6284),S=r(5455),b=r(9301),w=r(3385),P=r(1017);class k extends y.MauiPlatformBase{properties;androidDeviceManager;debugTargetActionsProviders;launchEmulatorProgress;constructor(e,t,r,n,i,o,a,s){super(l.MauiKnownPlatforms.Android,e,t,r,n,s),this.properties=o,this.androidDeviceManager=i,this.debugTargetActionsProviders=a,this.launchEmulatorProgress=new f.ProgressStatusBarNotificationItem}activate(){super.activate(),this.launchEmulatorProgress.activate(),this.debugTargetActionsProviders.forEach((e=>{e.activate()}))}deactivate(){super.deactivate(),this.launchEmulatorProgress.deactivate()}async getDebugTargets(e){const t=[];try{if(e.platform&&e.platform.trim()&&e.platform!==this.platform)return t;let r=e.project,n="";if(r){if(r.isCapabilityMatchOnProjectOrAnyConfiguration(d.ProjectCapabilities.AndroidApplication)){const e=r.getTargetFrameworkFor(this.platform);n=e?e.toString():"Android"}}else n="Android";if(n&&n.trim()){let e,r=await this.getDevices();e=0===r.length?this.createDefaultActions(n):this.createDeviceTargetGroups(n,r);const i=new h.MauiDebugTargets({platform:this.platform,defaultDebugTarget:e.defaultDebugTarget,groups:e.groups});t.push(i)}}catch(e){e instanceof Error&&this.logger.log(e.message)}return t}async getDeviceIdentifierForDebug(e,t){if(t&&t.isEmulator&&!t.isRunning&&t.manufacturer.includes("Google")&&t.platforms.includes(this.platform)){const r=await this.launchEmulator(t,e);return r.isValid?new u.DebugDeviceIdentifierResult(r.mauiDevice?.identifier):(r.error?.message.trim()&&n.window.showErrorMessage(r.error?.message),new u.DebugDeviceIdentifierResult(t?.identifier,r.error))}return new u.DebugDeviceIdentifierResult(t?.identifier)}async launchEmulator(e,t){let r,n,u=!1;const l=new a.TelemetryActivity("starting-android-emulator");if(e){const a=o.mauiResources.projectSystem.platforms.android.launchEmulator(e.name??e.identifier);this.logger.log(a,i.LogImportance.low);let l=!1;try{this.launchEmulatorProgress.isActive()&&!this.launchEmulatorProgress.isRunning()&&(l=!0,this.launchEmulatorProgress.startProgress(a));var d=e.identifier;if(u=await(this.androidDeviceManager?.startEmulator(d,!0)),u){let i=await this.getDevices();i&&(r=i.find((e=>e.isEmulator&&e.isRunning&&e.emulatorId&&e.emulatorId.trim()&&e.emulatorId===d&&e.identifier&&e.identifier.trim()&&e.identifier!==d))),r?(this.logger.log(o.mauiResources.newLine),this.logger.log(o.mauiResources.projectSystem.platforms.android.emulatorLaunched(e.name??e.identifier,r.identifier))):(n=new c.DebugValidationError(s.TelemetryErrors.debug.AndroidEmulatorNotFound,t?.trim()?o.mauiResources.debugconfig.debuggingAndroidEmulatorNotFoundErrorMessage(e.name??e.identifier):o.mauiResources.projectSystem.platforms.android.androidEmulatorNotFoundErrorMessage(e.name??e.identifier)),u=!1)}else n=new c.DebugValidationError(s.TelemetryErrors.debug.AndroidEmulatorLaunchFailed,t?.trim()?o.mauiResources.debugconfig.debuggingAndroidEmulatorLaunchFailedErrorMessage(e.name??e.identifier):o.mauiResources.projectSystem.platforms.android.androidEmulatorLaunchFailedErrorMessage(e.name??e.identifier))}catch(r){n=new c.DebugValidationError(s.TelemetryErrors.debug.AndroidEmulatorLaunchFailed,t?.trim()?o.mauiResources.debugconfig.debuggingAndroidEmulatorLaunchFailedErrorMessage(e.name??e.identifier):o.mauiResources.projectSystem.platforms.android.androidEmulatorLaunchFailedErrorMessage(e.name??e.identifier))}finally{l&&(l=!1,this.launchEmulatorProgress.endProgress())}}else n=new c.DebugValidationError(s.TelemetryErrors.debug.AndroidEmulatorNotFound,t?.trim()?o.mauiResources.debugconfig.debuggingAndroidEmulatorNotFoundErrorMessage(""):o.mauiResources.projectSystem.platforms.android.androidEmulatorNotFoundErrorMessage(""));return l.addOrUpdateProperties({succeeded:String(u),status:u?s.TelemetryStatus.Success:s.TelemetryStatus.Failed,error:n?.errorCode??"",sessionId:t??"",manufacturer:e?.manufacturer??"",model:e?.model??"",subModel:e?.subModel??"",architecture:e?.architecture??"",idiom:e?.idiom??"",version:e?.version??"",versionName:e?.versionName??""}).sendTelemetry(),new w.LaunchEmulatorResult(r,n)}async getDeviceRuntimeIdentifierForDebug(e,t){}setTaskProperties(e,t,r,n){if(this.isDebugConfiguration(t.project,t.platform,t.configuration)&&(void 0!==t.device&&r.push(`-p:AdbTarget=-s%20${t.device}`),n)){r.push("-p:AndroidAttachDebugger=true");var i=t?.debugConfig?.debugPort;i&&(r.push(`-p:AndroidSdbTargetPort=${i}`),r.push(`-p:AndroidSdbHostPort=${i}`));const e=P.join(this.settingsProperties.getExtensionResourcesPath(),this.settingsProperties.getCustomAfterMicrosoftCSharpTargetsFilename());r.push(`-p:CustomAfterMicrosoftCSharpTargets="${e}"`),r.push(`-p:MauiVSCodeBuildOutputFile=${t._mauiBuildOutputPropsFile}`)}var o=this.properties.getSdkState();o&&(o.status===b.SdkStatus.installed||o.status===b.SdkStatus.updateRequired)&&o.kind!==S.SdkKind.defaultVS&&o.path&&o.path.trim()&&r.push(`-p:AndroidSdkDirectory='${o.path}'`);var a=this.properties.getJavaSdkStateFor(o);a&&(a.status===b.SdkStatus.installed||a.status===b.SdkStatus.updateRequired)&&a.kind!==S.SdkKind.defaultVS&&a.path&&a.path.trim()&&r.push(`-p:JavaSdkDirectory='${a.path}'`)}isDebugConfiguration(e,t,r){let n=!1;if(e?.trim()&&t?.trim()&&r?.trim()){const i=this.startUpProjectManager?.getProject(e),o=i?.getPropertyValue(t,r,"AndroidIncludeDebugSymbols");if(o?.trim())n=Boolean(o);else{const e=i?.getPropertyValue(t,r,"DebugSymbols")??"false";n=Boolean(e)}}return n}createDeviceTargetGroups(e,t){const r=t.map((e=>new g.MauiDeviceTarget(e)));let n,i=[],a=r.filter((e=>!e.isEmulator())),s=r.filter((e=>e.isEmulator())).sort(((e,t)=>{var r=t.mauiDevice.version?.localeCompare(e.mauiDevice.version);return 0===r?t.detail?.localeCompare(e.detail):r}));if(n=r[0],a.length>0){const t=new m.MauiDebugTargetsGroup({platform:this.platform,debugTargets:a,actions:[],platformGroup:o.mauiResources.projectSystem.platforms.android.platformGroupLabelForDevices(e)});i.push(t)}if(s.length>0){const t=new m.MauiDebugTargetsGroup({platform:this.platform,debugTargets:s,actions:[],platformGroup:o.mauiResources.projectSystem.platforms.android.platformGroupLabelForEmulators(e)});i.push(t)}const u=[],c=this.createBuildOnlyAction("");u.push(c);const l=new m.MauiDebugTargetsGroup({platform:this.platform,debugTargets:[],actions:u,platformGroup:e});return i.push(l),{groups:i,defaultDebugTarget:n}}createBuildOnlyAction(e){return new p.MauiDebugTargetAction(this.platform,`$(tools) ${o.mauiResources.projectSystem.platforms.android.buildOnly}`,e,"",v.mauiCommons.onlyBuildActionId)}createDefaultActions(e){const t=[];let r,n=[];const i=this.createBuildOnlyAction(o.mauiResources.projectSystem.platforms.android.noDevicesFound);t.push(i),this.debugTargetActionsProviders.forEach((e=>{e.getDebugTargetActions().forEach((e=>{t.push(e)}))})),r=i;const a=new m.MauiDebugTargetsGroup({platform:this.platform,debugTargets:[],actions:t,platformGroup:e});return n.push(a),{groups:n,defaultDebugTarget:r}}async getDevices(){try{return await(this.androidDeviceManager?.getDevices())??[]}catch(e){return this.logger.log(o.mauiResources.newLine),this.logger.log(o.mauiResources.projectSystem.platforms.android.getDevicesError(e)),[]}}}t.MauiAndroidPlatform=k},876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcceptAndroidSdkLicenses=void 0;const n=r(9496),i=r(6810),o=r(8510),a=r(2501),s=r(3865),u=r(3117),c=r(4779),l=r(410),d=r(4018),f=r(9301);t.AcceptAndroidSdkLicenses=class{constructor(e,t,r){this.settingsProperties=t,this.androidProperties=r,this.autoSdk=e}androidProperties;settingsProperties;autoSdk;createPickAction(){return new l.MauiActionQuickPickItem(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesCommandLabel,"",s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesCommandDescription,this.autoSdk.configuration.commandIds.acceptAndroidSdkLicensesCommandId,s.mauiResources.projectSystem.platforms.android.autoSdkAcceptingLicenses,s.mauiResources.projectSystem.platforms.android.autoSdkAcceptingLicenses,this.autoSdk.configuration.commandIds.showOutputCommandId)}registerCommandActions(){let e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.autoSdk.configuration.commandIds.acceptAndroidSdkLicensesCommandId,(async()=>{let e=this.androidProperties.getSdkState();e?.pathLocator&&e.path&&e.path.trim()&&this.run(e.path,e.pathLocator)})))}async run(e,t){i.logger.log(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptingLicenses,o.LogImportance.low);const r=Object.assign({},process.env);let l;if(r.JAVA_TOOL_OPTIONS=`-Dcom.android.sdklib.toolsdir="${t.sdkManagerToolPath}"`,r.CLASSPATH=t.sdkManagerClassPaths?.join(t.javaClassPathSeparator??";")??"",t.sdkManagerLibPath&&(l=t.sdkManagerLibPath),!(0,c.isLocationUserWritable)(e)){let r=s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesAdminPermissionsWorkaround(t.sdkManagerToolPath,e);return i.logger.log(" "),i.logger.log(r),this.autoSdk.showError(r),void this.autoSdk.notifyActionCompleted(this.createPickAction())}let p=new u.TelemetryActivity("accept-android-licenses"),h=n.tasks.onDidEndTaskProcess((async r=>{if("acceptandroidlicenses"===r.execution.task.name){h.dispose();let n=r.exitCode;if(void 0===n)return i.logger.log(" "),i.logger.log(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesCanceled),void this.autoSdk.notifyActionCompleted(this.createPickAction());let o=0===n;try{let r=!o;o?(await this.autoSdk.verify(d.AutoSdkContext.silentMode),r=this.autoSdk.getSdkState()?.status===f.SdkStatus.unacceptedLicenses,r||this.autoSdk.refreshNotification()):this.autoSdk.notifyActionCompleted(this.createPickAction()),r&&((0,c.isWindowsProgramFiles)(e)?(i.logger.log(" "),i.logger.log(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesUnexpectedError),t.sdkManagerToolPath&&t.sdkManagerToolPath.trim()&&i.logger.log(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesAdminPermissionsWorkaround(t.sdkManagerToolPath,e)),this.autoSdk.showError(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesUnexpectedError)):(t.sdkManagerToolPath&&(i.logger.log(" "),i.logger.log(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesUnexpectedError),i.logger.log(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesUnexpectedErrorWorkaround(t.sdkManagerToolPath,e))),this.autoSdk.showError(s.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesUnexpectedError)))}finally{p.addOrUpdateProperties({licensesIds:this.androidProperties.getSdkState()?.acceptedLicenseIds?.join("|")??"",succeeded:String(o)}).sendTelemetry()}}})),m=this.settingsProperties.getLogVerbosity(),g=["com.android.sdklib.tool.sdkmanager.SdkManagerCli","--licenses"];m!==a.LogVerbosity.detailed&&m!==a.LogVerbosity.diagnostic||g.push("--verbose"),n.tasks.executeTask(new n.Task({type:"shell",task:"acceptandroidlicenses"},n.TaskScope.Workspace,"acceptandroidlicenses","maui",new n.ShellExecution(t.jdkJavaPath??"java",g,{env:r,cwd:l})))}}},1761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectAndroidPhysicalDevice=void 0;const n=r(9496),i=r(3865),o=r(3109),a=r(2432),s=r(3559),u=r(3497);t.ConnectAndroidPhysicalDevice=class{settingsProperties;actionId;constructor(e){this.settingsProperties=e,this.actionId=`${u.mauiCommons.commandPrefix}.android.connectAndroidPhysicalDevice`}getDebugTargetActions(){return[new s.MauiDebugTargetAction(a.MauiKnownPlatforms.Android,i.mauiResources.projectSystem.platforms.android.connectAndroidPhysicalDeviceActionLabel,i.mauiResources.projectSystem.platforms.android.connectAndroidPhysicalDeviceActionDetail,i.mauiResources.projectSystem.platforms.android.connectAndroidPhysicalDeviceActionDescription,this.actionId)]}activate(){var e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.actionId,(async()=>{this.run()})))}canRun(){return!0}run(){n.env.openExternal(n.Uri.parse(u.mauiCommons.urls.connectAndroidPhysicalDevice)),new o.TelemetryEvent("learn-more-connectAndroidPhysicalDevice").sendTelemetry()}}},3662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateAndroidVirtualDevice=void 0;const n=r(9496),i=r(3865),o=r(3109),a=r(2432),s=r(3559),u=r(3497),c=r(9301);t.CreateAndroidVirtualDevice=class{androidProperties;settingsProperties;actionId;constructor(e,t){this.settingsProperties=e,this.androidProperties=t,this.actionId=`${u.mauiCommons.commandPrefix}.android.createAndroidEmulator`}getDebugTargetActions(){return[new s.MauiDebugTargetAction(a.MauiKnownPlatforms.Android,i.mauiResources.debugTargetsManager.createAndroidEmulator.actionLabel,i.mauiResources.debugTargetsManager.createAndroidEmulator.actionDetail,i.mauiResources.debugTargetsManager.createAndroidEmulator.actionDescription,this.actionId)]}activate(){var e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.actionId,(async()=>{this.run()})))}canRun(){let e=this.androidProperties.getSdkState(),t=this.androidProperties.getJavaSdkStateFor(e);return e&&t&&e.status!==c.SdkStatus.notFound&&t.status!==c.SdkStatus.notFound}run(){n.env.openExternal(n.Uri.parse(u.mauiCommons.urls.createAndroidEmulator)),new o.TelemetryEvent("learn-more-createAndroidEmulator").sendTelemetry()}}},6839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstallAndroidSdkCommand=void 0;const n=r(9496),i=r(6810),o=r(3865),a=r(3117),s=r(4779),u=r(2432),c=r(410),l=r(5455),d=r(9301),f=r(1017);t.InstallAndroidSdkCommand=class{settingsProperties;androidProperties;androidDependenciesResolver;autoSdk;constructor(e,t,r,n){this.settingsProperties=t,this.androidProperties=r,this.androidDependenciesResolver=n,this.autoSdk=e}createFreshInstallPickAction(){return new c.MauiActionQuickPickItem(o.mauiResources.projectSystem.platforms.android.autoSdkInstallCommandLabel,"",o.mauiResources.projectSystem.platforms.android.autoSdkInstallCommandDescription,this.autoSdk.configuration.commandIds.installMinimalAndroidSdkCommandId,o.mauiResources.projectSystem.platforms.android.autoSdkInstalling,o.mauiResources.projectSystem.platforms.android.autoSdkInstalling,this.autoSdk.configuration.commandIds.showOutputCommandId)}createUpdatePickAction(){return new c.MauiActionQuickPickItem(o.mauiResources.projectSystem.platforms.android.autoSdkUpdateCommandLabel,"",o.mauiResources.projectSystem.platforms.android.autoSdkUpdateCommandDescription,this.autoSdk.configuration.commandIds.updateAndroidSdkCommandId,o.mauiResources.projectSystem.platforms.android.autoSdkInstalling,o.mauiResources.projectSystem.platforms.android.autoSdkInstalling,this.autoSdk.configuration.commandIds.showOutputCommandId)}registerCommandActions(){var e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.autoSdk.configuration.commandIds.installMinimalAndroidSdkCommandId,(async()=>{this.run(!0)}))),e?.subscriptions.push(n.commands.registerCommand(this.autoSdk.configuration.commandIds.updateAndroidSdkCommandId,(async()=>{this.run(!1)})))}canRunUpdate(e){return this.canRun(!1,e)}canRun(e,t){var r=!(!t||!t.trim()||(0,s.isWindowsProgramFiles)(t));if(e)return r;var n=this.androidProperties.getSdkState();return r&&(void 0===n||n.path===t&&n.kind===l.SdkKind.custom)}async run(e,t=!1){var r=!1,n=!1,c=new a.TelemetryActivity(e?"install-android":"update-android");try{if(this.settingsProperties.getExtensionContext()){var l="",p="";if(e){if(!(l=await(0,s.pickDirectory)(o.mauiResources.projectSystem.platforms.android.autoSdkPickDirectoryTitle,this.androidProperties.getAndroidSdkPath(),(e=>!(0,s.isWindowsProgramFiles)(e)),(e=>o.mauiResources.projectSystem.platforms.android.freshInstallAndroidSdkNeedsToBeLocatedNoInProgramsFiles)))||!l.trim())return n=!0,r;if(await this.androidProperties.setAndroidSdkPath(l),!(p=await(0,s.pickDirectory)(o.mauiResources.projectSystem.platforms.android.autoSdkJavaSdkPickDirectoryTitle,this.androidProperties.getJavaSdkPath(),(e=>!(0,s.isWindowsProgramFiles)(e)),(e=>o.mauiResources.projectSystem.platforms.android.freshInstallJavaSdkNeedsToBeLocatedNoInProgramsFiles)))||!p.trim())return n=!0,r;await this.androidProperties.setJavaSdkPath(p)}else l=this.androidProperties.getAndroidSdkPath()??"",p=this.androidProperties.getJavaSdkPath()??"";if(this.canRun(e,l)){var h,m=this.settingsProperties.getStartUpProject();m&&(h=f.dirname(f.normalize(m.path)));var g=["build","-t:InstallAndroidDependencies",`-f:${m?.getTargetFrameworkFor(u.MauiKnownPlatforms.Android)??"net7.0-android"}`,`-p:AndroidSdkDirectory="${l}"`,"-p:AcceptAndroidSDKLicenses=true","-v:normal"];p&&p.trim()&&g.push(`-p:JavaSdkDirectory="${p}"`),this.androidDependenciesResolver.addSystemImageDependencyMsBuildPropertyForHostArch(g);const e=f.join(this.settingsProperties.getExtensionResourcesPath(),this.settingsProperties.getCustomAfterMicrosoftCSharpTargetsFilename());g.push(`-p:CustomAfterMicrosoftCSharpTargets="${e}"`),r=await this.runInstallTarget(h,g)}}}catch(t){var v=e?o.mauiResources.projectSystem.platforms.android.autoSdkInstallSdkFailed:o.mauiResources.projectSystem.platforms.android.autoSdkUpdateSdkFailed;i.logger.log(`${v}: ${o.mauiResources.getErrorMessage(t)}`),this.autoSdk.showError(v)}finally{n||c.addOrUpdateProperties({succeeded:String(r),components:this.androidProperties.getSdkState()?.components?.filter((e=>e.status===d.SdkStatus.notFound||e.status===d.SdkStatus.updateRequired))?.map((e=>e.component))?.join("|")??""}).sendTelemetry(),t?await this.autoSdk.refresh():this.autoSdk.refresh()}return r}async runInstallTarget(e,t){const r=Object.assign({},process.env);var i=void 0;e&&(i=e);var o=new n.EventEmitter,a=new Promise((e=>{o.event((t=>{e(t),o.dispose()}))})),s=n.tasks.onDidEndTaskProcess((async e=>{"installandroid"===e.execution.task.name&&(s.dispose(),o.fire(0===e.exitCode))}));const u="win32"===process.platform?"dotnet.exe":"dotnet";return n.tasks.executeTask(new n.Task({type:"shell",task:"installandroid"},n.TaskScope.Workspace,"installandroid","maui",new n.ShellExecution(u,t,{env:r,cwd:i}))),a}}},3739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetCustomAndroidSdkPath=void 0;const n=r(9496),i=r(3865),o=r(3109),a=r(4779),s=r(410);t.SetCustomAndroidSdkPath=class{settingsProperties;androidProperties;autoSdk;constructor(e,t,r){this.settingsProperties=t,this.androidProperties=r,this.autoSdk=e}createPickAction(){return new s.MauiActionQuickPickItem(i.mauiResources.projectSystem.platforms.android.autoSdkSetPathCommandLabel,"",i.mauiResources.projectSystem.platforms.android.autoSdkSetPathCommandDescription,this.autoSdk.configuration.commandIds.setAndroidSdkCustomPathCommandId)}registerCommandActions(){var e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.autoSdk.configuration.commandIds.setAndroidSdkCustomPathCommandId,(async()=>{this.run()})))}async run(){try{let e=await(0,a.pickDirectory)(i.mauiResources.projectSystem.platforms.android.autoSdkPickDirectoryTitle,this.androidProperties.getAndroidSdkPath(),(e=>!0),(e=>""));e&&e.trim()&&(await this.androidProperties.setAndroidSdkPath(e),new o.TelemetryEvent("set-android-sdk-path").sendTelemetry())}finally{this.autoSdk.refresh()}}}},1148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetCustomJavaSdkPath=void 0;const n=r(9496),i=r(3865),o=r(3109),a=r(4779),s=r(410);t.SetCustomJavaSdkPath=class{settingsProperties;androidProperties;autoSdk;constructor(e,t,r){this.settingsProperties=t,this.androidProperties=r,this.autoSdk=e}createPickAction(){return new s.MauiActionQuickPickItem(i.mauiResources.projectSystem.platforms.android.autoSdkSetJavaSdkPathCommandLabel,"",i.mauiResources.projectSystem.platforms.android.autoSdkSetJavaSdkPathCommandDescription,this.autoSdk.configuration.commandIds.setJavaSdkCustomPathCommandId)}registerCommandActions(){var e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.autoSdk.configuration.commandIds.setJavaSdkCustomPathCommandId,(async()=>{this.run()})))}async run(){try{let e=await(0,a.pickDirectory)(i.mauiResources.projectSystem.platforms.android.autoSdkJavaSdkPickDirectoryTitle,this.androidProperties.getJavaSdkPath(),(e=>!0),(e=>""));e&&e.trim()&&(await this.androidProperties.setJavaSdkPath(e),new o.TelemetryEvent("set-java-sdk-path").sendTelemetry())}finally{this.autoSdk.refresh()}}}},3401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidAutoSdk=void 0;const n=r(9496),i=r(8510),o=r(3865),a=r(4630),s=r(4779),u=r(8195),c=r(3173),l=r(2432),d=r(3497),f=r(1795),p=r(9435),h=r(5455),m=r(9301),g=r(9208),v=r(7358),y=r(876),S=r(6839),b=r(3739),w=r(1148),P=r(7229),k=r(59);class _ extends f.AutoSdkBase{update;unacceptedLicenses;installSdk;setCustomAndroidSdkPath;setCustomJavaSdkPath;acceptLicenses;androidDependenciesResolver;androidProperties;androidDeviceManager;debugTargetsManager;constructor(e,t,r,n,i,o,a){super(!0,e,r,a,new P.AndroidAutoSdkConfiguration),this.androidDependenciesResolver=t,this.androidProperties=n,this.androidDeviceManager=i,this.debugTargetsManager=o,this.installSdk=new S.InstallAndroidSdkCommand(this,r,n,t),this.setCustomAndroidSdkPath=new b.SetCustomAndroidSdkPath(this,r,n),this.setCustomJavaSdkPath=new w.SetCustomJavaSdkPath(this,r,n),this.acceptLicenses=new y.AcceptAndroidSdkLicenses(this,r,n)}async reset(){if(this.latestServiceStatus){var e=this.androidProperties.getMSBuildPreferredAndroidSdkPath(),t=new Boolean(e&&e.trim()).valueOf(),r=this.androidProperties.getPreferredAndroidSdkPath(),n=this.androidProperties.getAndroidSdkPath(),a=this.androidProperties.getMSBuildPreferredJavaSdkPath(),u=new Boolean(a&&a.trim()).valueOf(),c=this.androidProperties.getPreferredJavaSdkPath(),l=this.androidProperties.getJavaSdkPath(),d=this.androidProperties.getSdkState(),f=this.androidProperties.getJavaSdkStateFor(d);(t&&(0,s.isSamePath)(e,r)&&!(0,s.isSamePath)(e,n)||!t&&d?.kind===h.SdkKind.custom&&!(0,s.isSamePath)(r,n)||u&&(0,s.isSamePath)(a,c)&&!(0,s.isSamePath)(a,l)||!u&&f&&f?.kind===h.SdkKind.custom&&!(0,s.isSamePath)(c,l))&&(this.logger.log(o.mauiResources.debugTracing.autoSdk.reset(this.configuration),i.LogImportance.low),this.latestServiceStatus.isRunning()&&(this.logger.log(o.mauiResources.debugTracing.autoSdk.stopService(this.configuration),i.LogImportance.low),await(this.androidDeviceManager?.stopWatching())),this.androidProperties.setSdkState(void 0),this.latestServiceStatus=void 0)}}async refresh(e=void 0){await super.refresh(e),this.latestServiceStatus&&this.latestServiceStatus.isRunning()&&(this.logger.log(o.mauiResources.debugTracing.autoSdk.refreshDevices(this.configuration,e),i.LogImportance.low),await(this.androidDeviceManager?.refreshDevices()))}async verifySdk(e){try{var t=this.androidProperties.getAndroidSdkPath()??"",r=this.androidProperties.getJavaSdkPath()??"",n=await this.androidDependenciesResolver.getAndroidDependencies(t,r),a=await this.androidDependenciesResolver.getAndroidLicenses();await this.runService(n,a,e)}catch(t){this.logger.log(o.mauiResources.debugTracing.autoSdk.serviceFailed(this.configuration,e,o.mauiResources.getErrorMessage(t)),i.LogImportance.low),await this.runService(new k.SdkDependencies([],[]),[],e)}return!0}async runService(e,t,r){if(this.androidDeviceManager){var n=this.androidProperties.getAndroidSdkPath(),a=this.androidProperties.getJavaSdkPath();if(this.latestServiceStatus&&this.latestServiceStatus.isRunning()){var u=this.androidProperties.getSdkState();(0,s.isSamePath)(u?.path,n)?await this.runVerify(n,a,e,t,r):(this.logger.log(o.mauiResources.debugTracing.autoSdk.stopService(this.configuration,r),i.LogImportance.low),await this.androidDeviceManager.stopWatching(),await this.startWatching(n,a,e,t,r))}else{var c=this.settingsProperties.getPreferredAndroidSdkPath(),l=this.settingsProperties.getPreferredJavaSdkPath(),d=c&&c.trim()&&!(0,s.isSamePath)(c,n)||l&&l.trim()&&!(0,s.isSamePath)(l,a);await this.startWatching(n,a,e,t,r),d&&this.showWarning(o.mauiResources.projectSystem.platforms.android.autosdkPreferredPathDiscarded)}}}async runVerify(e,t,r,n,a){this.logger.log(o.mauiResources.debugTracing.autoSdk.runService(this.configuration,a),i.LogImportance.low);try{var s=await(this.androidDeviceManager?.verify(e??"",t??"",r,n));const i="";this.updateServiceStatus(g.ServiceSdkStatus.newInitializationSdkStatus(d.mauiCommons.services.androidServiceId,i,s),a)}catch(e){var u=o.mauiResources.projectSystem.platforms.android.autosdkVerifyFailed(e);this.logger.log(u),this.updateServiceStatus(g.ServiceSdkStatus.newInitializationSdkStatus(d.mauiCommons.services.androidServiceId,u),a)}}async startWatching(e,t,r,n,a){this.logger.log(o.mauiResources.debugTracing.autoSdk.startService(this.configuration,a),i.LogImportance.low);try{var s=await(this.androidDeviceManager?.startWatching(e??"",t??"",r,n)),u=!this.latestServiceStatus&&s&&s.sdkState.status!==m.SdkStatus.notFound&&(0===r.requiredDependencies.length||!r.requiredDependencies.includes("platforms/android-")),c=s?.success,f="";c||(f=o.mauiResources.services.startWatchingAndroidDevicesFailed,u||this.logger.log(f)),this.debugTargetsManager.startWatchingCompleted([l.MauiKnownPlatforms.Android]),this.updateServiceStatus(g.ServiceSdkStatus.newInitializationSdkStatus(d.mauiCommons.services.androidServiceId,f,s?.sdkState,u),a)}catch(e){f=o.mauiResources.services.startWatchingAndroidDevicesError(e);const t=[l.MauiKnownPlatforms.Android];this.logger.log(f),this.debugTargetsManager.startWatchingCompleted(t),this.updateServiceStatus(g.ServiceSdkStatus.newInitializationSdkStatus(d.mauiCommons.services.androidServiceId,f),a)}}setStateForSdkState(e,t,r){var n=e;if(!n)return this.androidProperties.setSdkState(void 0),void this.setState(this.getNotInstalledState(),r);this.androidProperties.setSdkState(n),t&&(0,v.traceSdkState)(n,this.settingsProperties,this.androidProperties,this.logger),n.status===m.SdkStatus.notFound?this.setState(this.getNotInstalledState(),r):n.status===m.SdkStatus.updateRequired?this.setState(this.getUpdateState(),r):n.status===m.SdkStatus.unacceptedLicenses?this.setState(this.getUnacceptedLicensesState(),r):this.setState(this.getInstalledState(),r),t&&n.status!==m.SdkStatus.installed&&this.logger.show()}getUnacceptedLicensesState(){if(!this.unacceptedLicenses){let e=new p.AutoSdkState(this);e.commandId=this.configuration.commandIds.acceptAndroidSdkLicensesCommandId,e.statusText=o.mauiResources.projectSystem.platforms.android.autosdkAcceptLicensesStateStatusText,e.tooltip=o.mauiResources.projectSystem.platforms.android.autosdkAcceptLicensesStateTooltip,e.title=o.mauiResources.projectSystem.platforms.android.autosdkAcceptLicensesStateTitle,e.severity=n.LanguageStatusSeverity.Error,e.busy=!1,this.unacceptedLicenses=e}return this.unacceptedLicenses.pickActions=[],this.acceptLicenses&&this.androidProperties.getSdkState()?.status===m.SdkStatus.unacceptedLicenses&&(this.unacceptedLicenses.defaultPickAction=this.acceptLicenses.createPickAction(),this.unacceptedLicenses.pickActions.push(this.unacceptedLicenses.defaultPickAction)),this.addDefaultPickActions(this.unacceptedLicenses),this.unacceptedLicenses}getUpdateState(){if(!this.update){let e=new p.AutoSdkState(this);e.commandId=this.configuration.commandIds.learnMoreCommandId,e.statusText=o.mauiResources.projectSystem.platforms.android.autosdkUpdateStateStatusText,e.tooltip=o.mauiResources.projectSystem.platforms.android.autosdkUpdateStateTooltip,e.title=o.mauiResources.projectSystem.platforms.android.autosdkUpdateStateTitle,e.severity=n.LanguageStatusSeverity.Warning,e.busy=!1,e.pickActions=[],this.addDefaultPickActions(e),this.update=e}var e=this.getSdkState(),t=this.androidProperties.getJavaSdkStateFor(e);return t&&t.status===m.SdkStatus.notFound?(this.update.statusText=o.mauiResources.projectSystem.platforms.android.autosdkUpdateJavaSdkRequiredStatusText,this.update.tooltip=o.mauiResources.projectSystem.platforms.android.autosdkUpdateJavaSdkRequiredTooltip,this.update.title=o.mauiResources.projectSystem.platforms.android.autosdkUpdateJavaSdkRequiredTitle,this.update.severity=n.LanguageStatusSeverity.Error,this.setCustomJavaSdkPath&&(this.update.commandId=this.configuration.commandIds.setJavaSdkCustomPathCommandId)):(this.update.commandId=this.configuration.commandIds.learnMoreCommandId,this.update.statusText=o.mauiResources.projectSystem.platforms.android.autosdkUpdateStateStatusText,this.update.tooltip=o.mauiResources.projectSystem.platforms.android.autosdkUpdateStateTooltip,this.update.title=o.mauiResources.projectSystem.platforms.android.autosdkUpdateStateTitle,this.update.severity=n.LanguageStatusSeverity.Warning,e.components.find((e=>e.required&&e.status===m.SdkStatus.notFound))&&(this.update.severity=n.LanguageStatusSeverity.Error,this.update.statusText=o.mauiResources.projectSystem.platforms.android.autosdkUpdateInstallStateStatusText)),this.update}addDefaultPickActions(e){super.addDefaultPickActions(e),this.setCustomAndroidSdkPath&&e.pickActions.push(this.setCustomAndroidSdkPath.createPickAction()),this.setCustomJavaSdkPath&&e.pickActions.push(this.setCustomJavaSdkPath.createPickAction())}registerCommandActions(){super.registerCommandActions(),this.setCustomAndroidSdkPath?.registerCommandActions(),this.setCustomJavaSdkPath?.registerCommandActions(),this.installSdk?.registerCommandActions(),this.acceptLicenses?.registerCommandActions()}validateDebug(){let e,t=this.getSdkState();if(t)if(t.status===m.SdkStatus.notFound)e=new u.DebugValidationError(a.TelemetryErrors.debug.AndroidSDKNotFound,o.mauiResources.debugconfig.debuggingAndroidSdkNotFoundErrorMessage);else if(t.status===m.SdkStatus.unacceptedLicenses)e=new u.DebugValidationError(a.TelemetryErrors.debug.AndroidUnacceptedLicenses,o.mauiResources.debugconfig.debuggingAndroidSdkUnacceptedLicensesErrorMessage);else if(t.status===m.SdkStatus.updateRequired&&t.components.find((e=>e.required&&e.status===m.SdkStatus.notFound))){const e=new Error(o.mauiResources.debugconfig.debuggingAndroidSdkRequiredComponentNeedsToBeInstalled);this.notifyStateError(e)}return this.notifyStateError(e),new c.DebugValidationResult(e)}}t.AndroidAutoSdk=_},7229:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidAutoSdkConfiguration=void 0;const n=r(3865),i=r(3497),o=r(9433);t.AndroidAutoSdkConfiguration=class{commandIds;resources;constructor(){this.commandIds=new o.AutoSdkCommandIds(i.mauiCommons.services.androidServiceId),this.resources={notInstalledStatusText:n.mauiResources.projectSystem.platforms.android.autosdkNotInstalledStateStatusText,notInstalledTooltip:n.mauiResources.projectSystem.platforms.android.autosdkNotInstalledStateTooltip,notInstalledTitle:n.mauiResources.projectSystem.platforms.android.autosdkNotInstalledStateTitle,notInstalledDetail:n.mauiResources.projectSystem.platforms.android.autoSdkStateNotInstalledDetail,runningStatusText:n.mauiResources.projectSystem.platforms.android.autosdkRunningStateStatusText,runningTooltip:n.mauiResources.projectSystem.platforms.android.autoSdkRunning,runningTitle:" ",installedStatusText:n.mauiResources.projectSystem.platforms.android.autosdkInstalledStateStatusText,installedTooltip:n.mauiResources.projectSystem.platforms.android.autosdkInstalledStateTooltip,installedTitle:n.mauiResources.projectSystem.platforms.android.autosdkInstalledStateTitle,installedDetail:n.mauiResources.projectSystem.platforms.android.autoSdkStateInstalledDetail,leaMoreCommandLabel:n.mauiResources.projectSystem.platforms.android.autoSdkLeaMoreCommandLabel,leaMoreCommandDescription:n.mauiResources.projectSystem.platforms.android.autoSdkLeaMoreCommandDescription,refreshCommandLabel:n.mauiResources.projectSystem.platforms.android.autoSdkRefreshCommandLabel,refreshCommandDescription:n.mauiResources.projectSystem.platforms.android.autoSdkRefreshCommandDescription}}}},59:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SdkDependencies=void 0,t.SdkDependencies=class{constructor(e,t){this.requiredDependencies=e,this.optionalDependencies=t}requiredDependencies;optionalDependencies}},739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppleAutoSdk=void 0;const n=r(6113),i=r(9496),o=r(9496),a=r(8510),s=r(3865),u=r(4630),c=r(8195),l=r(3173),d=r(2432),f=r(1346),p=r(3497),h=r(1795),m=r(4018),g=r(9435),v=r(9301),y=r(9208),S=r(4828);class b extends h.AutoSdkBase{appleDeviceManager;debugTargetsManager;latestProjectQueryResultHash;constructor(e,t,r,n,i){super((0,f.isMac)(),e,t,i,new S.AppleAutoSdkConfiguration),this.appleDeviceManager=r,this.debugTargetsManager=n}async updateProjectsStatus(e){this.enabled||this.notifyStartWatchingCompleted();const t=JSON.stringify(e?.map((e=>e.queryVersions))??"");n.createHash("sha256").update(t).digest("hex"),this.latestProjectQueryResultHash&&this.latestProjectQueryResultHash===t||(this.latestProjectQueryResultHash=t,await super.updateProjectsStatus(e))}reset(){}async refresh(e=void 0){await super.refresh(e),this.latestServiceStatus&&this.latestServiceStatus.isRunning()&&(this.logger.log(s.mauiResources.debugTracing.autoSdk.refreshDevices(this.configuration,e),a.LogImportance.low),await(this.appleDeviceManager?.refreshDevices()))}async verifySdk(e){let t,r="";this.latestServiceStatus&&this.latestServiceStatus.isRunning()&&(this.logger.log(s.mauiResources.debugTracing.autoSdk.stopService(this.configuration,e),a.LogImportance.low),await(this.appleDeviceManager?.stopWatching()));try{this.logger.log(s.mauiResources.debugTracing.autoSdk.startService(this.configuration,e),a.LogImportance.low);const n=await(this.appleDeviceManager?.startWatching());t=n?.sdkState,void 0!==t&&t.status!==v.SdkStatus.notSupported||this.enabled&&(r=s.mauiResources.services.startWatchingAppleDevicesFailed,this.logger.log(r))}catch(e){r=s.mauiResources.services.startWatchingAppleDevicesError(e),this.logger.log(r)}return this.notifyStartWatchingCompleted(),this.updateServiceStatus(y.ServiceSdkStatus.newInitializationSdkStatus(p.mauiCommons.services.appleServiceId,r,t),e),!0}notifyStartWatchingCompleted(){const e=[d.MauiKnownPlatforms.iOS,d.MauiKnownPlatforms.MacCatalyst,d.MauiKnownPlatforms.MacOS,d.MauiKnownPlatforms.TvOS];this.debugTargetsManager.startWatchingCompleted(e)}validateDebug(){let e;if(this.latestServiceStatus){const t=this.getSdkState();(this.latestServiceStatus.errorMessage&&this.latestServiceStatus.errorMessage.trim()||t&&t.status===v.SdkStatus.notFound)&&(e=new c.DebugValidationError(u.TelemetryErrors.debug.XCodeNotFound,s.mauiResources.debugconfig.debuggingAppleSdkNotFoundErrorMessage),this.notifyStateError(e))}return new l.DebugValidationResult(e)}registerCommandActions(){super.registerCommandActions(),this.regsiterAcceptXcodeLicense()}setStateForSdkState(e,t,r){var n=e;if(n){switch(n.status){case v.SdkStatus.installed:t&&this.logger.log(s.mauiResources.projectSystem.platforms.apple.brokeredServiceXcodePathFound(n.path)),this.setState(this.getInstalledState(),r);break;case v.SdkStatus.unacceptedLicenses:t&&(this.logger.log(s.mauiResources.projectSystem.platforms.apple.brokeredServiceXcodePathFound(n.path)),this.logger.log(s.mauiResources.projectSystem.platforms.apple.autosdkRecommendedActionAcceptLicenses())),this.setState(this.getUnacceptedLicensesState(),r);break;default:t&&this.logger.log(s.mauiResources.projectSystem.platforms.apple.autosdkRecommendedActionInstallXcode()),this.setState(this.getNotInstalledState(),r)}t&&n.status!==v.SdkStatus.installed&&this.logger.show()}else this.setState(this.getNotInstalledState(),r)}getUnacceptedLicensesState(){let e=new g.AutoSdkState(this);return e.commandId=this.configuration.commandIds.acceptXcodeLicenseCommandId,e.statusText=s.mauiResources.projectSystem.platforms.apple.autoSdkAcceptXcodeLicenseError(),e.tooltip=s.mauiResources.projectSystem.platforms.apple.autoSDKAcceptXcodeLicenseTooltip,e.title=s.mauiResources.projectSystem.platforms.apple.autoSDKAcceptXcodeLicenseAction,e.severity=o.LanguageStatusSeverity.Error,e.busy=!1,e}regsiterAcceptXcodeLicense(){this.settingsProperties.getExtensionContext().subscriptions.push(i.commands.registerCommand(this.configuration.commandIds.acceptXcodeLicenseCommandId,(async()=>{const e=new i.ShellExecution("sudo xcodebuild -license agree"),t=new i.Task({type:"shell",task:"xcodebuild license"},i.TaskScope.Workspace,"xcodebuild license","maui",e);i.tasks.executeTask(t),i.tasks.onDidEndTaskProcess((async e=>{"xcodebuild license"===e.execution.task.name&&(0===e.exitCode?await this.verify(m.AutoSdkContext.silentMode):this.logger.log(s.mauiResources.projectSystem.platforms.apple.autoSdkAcceptLicensesUnexpectedError))}))})))}}t.AppleAutoSdk=b},4828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppleAutoSdkConfiguration=void 0;const n=r(3865),i=r(3497),o=r(9433);t.AppleAutoSdkConfiguration=class{commandIds;resources;constructor(){this.commandIds=new o.AutoSdkCommandIds(i.mauiCommons.services.appleServiceId),this.resources={notInstalledStatusText:n.mauiResources.projectSystem.platforms.apple.autosdkNotInstalledStateStatusText,notInstalledTooltip:n.mauiResources.projectSystem.platforms.apple.autosdkNotInstalledStateTooltip,notInstalledTitle:n.mauiResources.projectSystem.platforms.apple.autosdkNotInstalledStateTitle,notInstalledDetail:n.mauiResources.projectSystem.platforms.apple.autoSdkStateNotInstalledDetail,runningStatusText:n.mauiResources.projectSystem.platforms.apple.autosdkRunningStateStatusText,runningTooltip:n.mauiResources.projectSystem.platforms.apple.autoSdkRunning,runningTitle:" ",installedStatusText:n.mauiResources.projectSystem.platforms.apple.autosdkInstalledStateStatusText,installedTooltip:n.mauiResources.projectSystem.platforms.apple.autosdkInstalledStateTooltip,installedTitle:n.mauiResources.projectSystem.platforms.apple.autosdkInstalledStateTitle,installedDetail:n.mauiResources.projectSystem.platforms.apple.autoSdkStateInstalledDetail,leaMoreCommandLabel:n.mauiResources.projectSystem.platforms.apple.autoSdkLeaMoreCommandLabel,leaMoreCommandDescription:n.mauiResources.projectSystem.platforms.apple.autoSdkLeaMoreCommandDescription,refreshCommandLabel:n.mauiResources.projectSystem.platforms.apple.autoSdkRefreshCommandLabel,refreshCommandDescription:n.mauiResources.projectSystem.platforms.apple.autoSdkRefreshCommandDescription}}}},6552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppleProjectDebuggerProperties=void 0;const n=r(3486),i=r(2432),o=r(9518);t.AppleProjectDebuggerProperties=class{static createSnapshot(e){var t=void 0;if(e.Name&&(e.Name.includes(i.MauiKnownPlatforms.MacCatalyst)||e.Name.includes(i.MauiKnownPlatforms.iOS))||e.Capabilities&&e.Capabilities.includes(o.ProjectCapabilities.Apple)){var r=[];["_MLaunchPath","AppBundleDir","_SdkDevPath"].forEach((t=>{var i=e.BuildProperties?.find((e=>e.Name===t));i&&i.Value&&r.push(new n.PropertyValue(t,i.Value))})),t=new n.PropertiesSnapshot("AppleProjectDebuggerProperties",r)}return t}constructor(e){let t=e.getProperties("AppleProjectDebuggerProperties");t&&(this.mLaunchPath=t.getProperty("_MLaunchPath"),this.appBundleDir=t.getProperty("AppBundleDir"),this.sdkDevPath=t.getProperty("_SdkDevPath"))}mLaunchPath;appBundleDir;sdkDevPath}},997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiApplePlatformBase=void 0;const n=r(1017),i=r(3865),o=r(6284),a=r(6552);class s extends o.MauiPlatformBase{appleDeviceManager;constructor(e,t,r,n,i,o,a){super(e,t,r,n,i,a),this.appleDeviceManager=o}supportsTaskRunForDebugging(){return!1}getShellExecutionTaskEnvironment(){return super.getShellExecutionTaskEnvironment()}setTaskProperties(e,t,r,i){if(i){const e=n.join(this.settingsProperties.getExtensionResourcesPath(),this.settingsProperties.getCustomAfterMicrosoftCSharpTargetsFilename());r.push(`-p:CustomAfterMicrosoftCSharpTargets="${e}"`),r.push(`-p:MauiVSCodeBuildOutputFile=${t._mauiBuildOutputPropsFile}`)}}async setDebugProperties(e,t){var r=await super.setDebugProperties(e,t);if(r&&t){let t=this.startUpProjectManager?.getProject(e?.project);if(t){const r=new Map;let n=new a.AppleProjectDebuggerProperties(t);this.addDebugPropertyIfExist(n.mLaunchPath,r),this.addDebugPropertyIfExist(n.appBundleDir,r),this.addDebugPropertyIfExist(n.sdkDevPath,r),r.size>0&&(e.msbuildProperties=Object.fromEntries(r))}}return r}addDebugPropertyIfExist(e,t){e&&e.name&&e.name.trim()&&e.value&&t.set(e.name,e.value)}async getDevices(){try{return await(this.appleDeviceManager?.getDevices())??[]}catch(e){return this.logger.log(i.mauiResources.projectSystem.platforms.apple.getDevicesError(e)),[]}}}t.MauiApplePlatformBase=s},1747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiIOSPlatform=void 0;const n=r(3865),i=r(2432),o=r(9518),a=r(3559),s=r(5865),u=r(8757),c=r(2869),l=r(3497),d=r(997);class f extends d.MauiApplePlatformBase{constructor(e,t,r,n,o,a){super(i.MauiKnownPlatforms.iOS,e,t,r,n,o,a)}async getDebugTargets(e){const t=[];try{if(e.platform&&e.platform.trim()&&e.platform!==this.platform)return t;let r=e.project,n="";if(r){if(r.isCapabilityMatchOnProjectOrAnyConfiguration(o.ProjectCapabilities.IOSApplication)){const e=r.getTargetFrameworkFor(this.platform);n=e?e.toString():"iOS"}}else n="iOS";if(n&&n.trim()){let e;const r=(await this.getDevices()).filter((e=>void 0!==e.platforms.find((e=>i.MauiKnownPlatforms.iOS===e))));e=0===r.length?this.createDefaultActions(n):this.createDeviceTargetGroups(n,r);const o=new s.MauiDebugTargets({platform:this.platform,defaultDebugTarget:e.defaultDebugTarget,groups:e.groups});t.push(o)}}catch(e){this.logger.log(n.mauiResources.getErrorMessage(e))}return t}createDeviceTargetGroups(e,t){const r=t.map((e=>new c.MauiDeviceTarget(e))).sort(((e,t)=>{var r=t.mauiDevice.version?.localeCompare(e.mauiDevice.version);return 0===r?e.mauiDevice.name?.localeCompare(t.mauiDevice.name):r}));let i,o=[],a=r.filter((e=>!e.isEmulator())),s=r.filter((e=>e.isEmulator()));if(i=r[0],a.length>0){const t=new u.MauiDebugTargetsGroup({platform:this.platform,debugTargets:a,actions:[],platformGroup:n.mauiResources.projectSystem.platforms.apple.iOS.platformGroupLabelForDevices(e)});o.push(t)}if(s.length>0){const t=new u.MauiDebugTargetsGroup({platform:this.platform,debugTargets:s,actions:[],platformGroup:n.mauiResources.projectSystem.platforms.apple.iOS.platformGroupLabelForSimulators(e)});o.push(t)}const l=[],d=this.createBuildOnlyAction("");l.push(d);const f=new u.MauiDebugTargetsGroup({platform:this.platform,debugTargets:[],actions:l,platformGroup:e});return o.push(f),{groups:o,defaultDebugTarget:i}}createBuildOnlyAction(e){return new a.MauiDebugTargetAction(this.platform,`$(tools) ${n.mauiResources.projectSystem.platforms.apple.iOS.buildOnly}`,e,"",l.mauiCommons.onlyBuildActionId)}createDefaultActions(e){const t=[];let r,i=[];const o=this.createBuildOnlyAction(n.mauiResources.projectSystem.platforms.apple.iOS.noDevicesFound);t.push(o),r=o;const a=new u.MauiDebugTargetsGroup({platform:this.platform,debugTargets:[],actions:t,platformGroup:e});return i.push(a),{groups:i,defaultDebugTarget:r}}}t.MauiIOSPlatform=f},2790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiMacCatalystPlatform=void 0;const n=r(3865),i=r(2432),o=r(9518),a=r(3559),s=r(5865),u=r(8757),c=r(2869),l=r(3497),d=r(997);class f extends d.MauiApplePlatformBase{constructor(e,t,r,n,o,a){super(i.MauiKnownPlatforms.MacCatalyst,e,t,r,n,o,a)}async getDebugTargets(e){const t=[];try{if(e.platform&&e.platform.trim()&&e.platform!==this.platform)return t;let r=e.project,d="";if(r){if(r.isCapabilityMatchOnProjectOrAnyConfiguration(o.ProjectCapabilities.MacCatalystApplication)){const e=r.getTargetFrameworkFor(this.platform);d=e?e.toString():"MacCatalyst"}}else d="MacCatalyst";if(d&&d.trim()){const e=(await this.getDevices()).filter((e=>void 0!==e.platforms.find((e=>i.MauiKnownPlatforms.MacCatalyst===e||i.MauiKnownPlatforms.MacOS===e)))).map((e=>new c.MauiDeviceTarget(e))).filter((e=>e.isMacCatalyst())),r=[];let o;const f=Boolean(e.length>0);let p=new a.MauiDebugTargetAction(this.platform,`$(tools) ${n.mauiResources.projectSystem.platforms.apple.macCatalyst.buildOnly}`,f?"":n.mauiResources.projectSystem.platforms.apple.macCatalyst.noDevicesFound,"",l.mauiCommons.onlyBuildActionId);r.push(p);let h=[];const m=new u.MauiDebugTargetsGroup({platform:this.platform,debugTargets:e,actions:r,platformGroup:d});h.push(m),o=f?e[0]:p;const g=new s.MauiDebugTargets({platform:this.platform,defaultDebugTarget:o,groups:h});t.push(g)}}catch(e){this.logger.log(n.mauiResources.getErrorMessage(e))}return t}}t.MauiMacCatalystPlatform=f},6361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSdkAggregateNotificationItem=void 0,t.AutoSdkAggregateNotificationItem=class{notificationItems=[];constructor(e){this.notificationItems=e}isActive(){var e=!0;return this.notificationItems.forEach((t=>{e=e&&t.isActive()})),e}deactivate(){this.notificationItems.forEach((e=>{e.deactivate()}))}activate(e){this.notificationItems.forEach((t=>{t.activate(e)}))}refreshFromAction(e){this.notificationItems.forEach((t=>{t.refreshFromAction(e)}))}notifyActionCompleted(e){this.notificationItems.forEach((t=>{t.notifyActionCompleted(e)}))}refreshFromState(e,t){this.notificationItems.forEach((r=>{r.refreshFromState(e,t)}))}}},1795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSdkBase=void 0;const n=r(9496),i=r(9496),o=r(8510),a=r(3865),s=r(410),u=r(4018),c=r(9435),l=r(9301),d=r(9208);t.AutoSdkBase=class{enabled;initialized=!1;settingsProperties;notificationItem;configuration;state;logger;latestServiceStatus;running;installed;noInstalled;constructor(e=!0,t,r,n,i){this.enabled=e,this.logger=t,this.settingsProperties=r,this.configuration=i,this.notificationItem=n}activate(){this.initialized||(this.initialized=!0,this.configuration.commandIds.activate(),this.registerCommands())}deactivate(){this.notificationItem?.deactivate(),this.notificationItem=void 0}async updateProjectsStatus(e){await this.reset(),this.enabled&&this.settingsProperties.getExtensionContext()&&e.length>0?(this.initializeStatus(),await this.verify(u.AutoSdkContext.defaultInstance)):this.deactivate()}initializeStatus(){this.notificationItem&&!this.notificationItem.isActive()&&(this.state=this.getInitialState(),this.registerCommandActions(),this.notificationItem.activate(this.state))}runAction(e){e&&(this.refreshFromAction(e),n.commands.executeCommand(e.actionId))}refreshFromAction(e){this.logger.log(a.mauiResources.debugTracing.autoSdk.refreshFromAction(this.configuration,e),o.LogImportance.low),this.notificationItem?.refreshFromAction(e)}registerCommands(){var e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.configuration.commandIds.configureCommandId,(async()=>{if(this.enabled){let e=await this.pickAutoSdkAction();this.runAction(e)}else this.openLearnMoreUrl()})))}registerCommandActions(){var e=this.settingsProperties.getExtensionContext();e?.subscriptions.push(n.commands.registerCommand(this.configuration.commandIds.refreshCommandId,(async()=>{this.refresh()}))),e?.subscriptions.push(n.commands.registerCommand(this.configuration.commandIds.learnMoreCommandId,(async()=>{this.openLearnMoreUrl()}))),e?.subscriptions.push(n.commands.registerCommand(this.configuration.commandIds.showOutputCommandId,(async()=>{this.logger.show()})))}async showError(e){void 0!==await n.window.showErrorMessage(e,a.mauiResources.projectSystem.showOutput)&&n.commands.executeCommand(this.configuration.commandIds.showOutputCommandId)}async showWarning(e){void 0!==await n.window.showWarningMessage(e,a.mauiResources.projectSystem.showOutput)&&n.commands.executeCommand(this.configuration.commandIds.showOutputCommandId)}async showInfo(e){void 0!==await n.window.showInformationMessage(e,a.mauiResources.projectSystem.showOutput)&&n.commands.executeCommand(this.configuration.commandIds.showOutputCommandId)}refreshNotification(e=void 0){this.state?(this.logger.log(a.mauiResources.debugTracing.autoSdk.refreshNotification(this.configuration,e,this.state),o.LogImportance.low),this.notificationItem?.refreshFromState(this.state,e)):this.logger.log(a.mauiResources.debugTracing.autoSdk.refreshNotificationDiscarded(this.configuration,e),o.LogImportance.low)}notifyStateError(e){e&&this.refreshNotification(new u.AutoSdkContext(!1,e.message))}notifyActionCompleted(e){this.notificationItem?.notifyActionCompleted(e)}setState(e,t){this.logger.log(a.mauiResources.debugTracing.autoSdk.setState(this.configuration,t,e),o.LogImportance.low),this.state=e,this.refreshNotification(t)}async pickAutoSdkAction(){var e;if((e=this.state&&this.state.pickActions.length>0?this.state.pickActions:this.getDefaultPickActions())&&e.length>0)return await n.window.showQuickPick(e,{matchOnDescription:!1,matchOnDetail:!1,placeHolder:a.mauiResources.projectSystem.platforms.autoSdkPickerInputPlaceHolder})}async refresh(e=void 0){this.logger.log(a.mauiResources.debugTracing.autoSdk.refresh(this.configuration,e),o.LogImportance.low),this.notificationItem?.isActive()&&await this.verify(e??u.AutoSdkContext.defaultInstance)}openLearnMoreUrl(){n.commands.executeCommand(this.configuration.commandIds.extensionConfigureCommandId)}getDefaultPickActions(){return[new s.MauiActionQuickPickItem(this.configuration.resources.leaMoreCommandLabel,"",this.configuration.resources.leaMoreCommandDescription,this.configuration.commandIds.learnMoreCommandId),new s.MauiActionQuickPickItem(this.configuration.resources.refreshCommandLabel,"",this.configuration.resources.refreshCommandDescription,this.configuration.commandIds.refreshCommandId,this.configuration.resources.runningTooltip,this.configuration.resources.runningTooltip,this.configuration.commandIds.showOutputCommandId)]}getSdkState(){return this.latestServiceStatus&&this.isSdkServiceStatus(this.latestServiceStatus)?this.latestServiceStatus.sdkState:null}async verify(e){return this.logger.log(a.mauiResources.debugTracing.autoSdk.verify(this.configuration,e),o.LogImportance.low),this.setState(this.getRunningState(),e),this.verifySdk(e)}updateServiceStatus(e,t){this.latestServiceStatus=e,this.setStateForServiceStatus(this.latestServiceStatus,t)}setStateForServiceStatus(e,t){if(this.isSdkServiceStatus(e)){var r=e;this.setStateForSdkState(r.sdkState,!r.requireRefresh,t),r.requireRefresh&&(this.logger.log(a.mauiResources.debugTracing.autoSdk.reRunVerifyBecauseRefreshIsRequired(this.configuration,t),o.LogImportance.low),this.verifySdk(t))}else e&&e.errorMessage&&e.errorMessage.trim()?this.setState(this.getNotInstalledState(),t):this.setState(this.getInstalledState(),t)}setStateForSdkState(e,t,r){e?e.status===l.SdkStatus.notFound?this.setState(this.getNotInstalledState(),r):this.setState(this.getInstalledState(),r):this.setState(this.getNotInstalledState(),r)}getInitialState(){return this.getRunningState()}getRunningState(){if(!this.running){let e=new c.AutoSdkState(this);e.commandId=this.configuration.commandIds.showOutputCommandId,e.statusText=this.configuration.resources.runningStatusText,e.tooltip=this.configuration.resources.runningTooltip,e.title=this.configuration.resources.runningTitle,e.severity=i.LanguageStatusSeverity.Information,e.busy=!0,e.pickActions=[],this.running=e}return this.running}getInstalledState(){if(!this.installed){let e=new c.AutoSdkState(this);e.commandId=this.configuration.commandIds.configureCommandId,e.statusText=this.configuration.resources.installedStatusText,e.tooltip=this.configuration.resources.installedTooltip,e.title=this.configuration.resources.installedTitle,e.severity=i.LanguageStatusSeverity.Information,e.busy=!1,this.addDefaultPickActions(e),this.installed=e}return this.installed}getNotInstalledState(){if(!this.noInstalled){let e=new c.AutoSdkState(this);e.commandId=this.configuration.commandIds.configureCommandId,e.statusText=this.configuration.resources.notInstalledStatusText,e.tooltip=this.configuration.resources.notInstalledTooltip,e.title=this.configuration.resources.notInstalledTitle,e.severity=i.LanguageStatusSeverity.Error,e.busy=!1,this.addDefaultPickActions(e),this.noInstalled=e}return this.noInstalled}addDefaultPickActions(e){this.getDefaultPickActions().forEach((t=>{e.pickActions.push(t)}))}isSdkServiceStatus(e){return!!e&&e instanceof d.ServiceSdkStatus}}},9433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSdkCommandIds=void 0;const n=r(3497);t.AutoSdkCommandIds=class{platformIdentifier;configureCommandId="";learnMoreCommandId="";refreshCommandId="";showOutputCommandId="";updateAndroidSdkCommandId="";acceptAndroidSdkLicensesCommandId="";installMinimalAndroidSdkCommandId="";setAndroidSdkCustomPathCommandId="";setJavaSdkCustomPathCommandId="";extensionConfigureCommandId="";acceptXcodeLicenseCommandId="";constructor(e){this.platformIdentifier=e}activate(){var e=n.mauiCommons.commandPrefix;this.extensionConfigureCommandId=`${e}.configure`,this.configureCommandId=`${e}.${this.platformIdentifier}.autosdk.configure`,this.learnMoreCommandId=`${e}.${this.platformIdentifier}.autosdk.learnMore`,this.refreshCommandId=`${e}.${this.platformIdentifier}.autosdk.refresh`,this.showOutputCommandId=`${e}.${this.platformIdentifier}.autosdk.showOutput`,this.updateAndroidSdkCommandId=`${e}.${this.platformIdentifier}.autosdk.updateAndroidSdk`,this.acceptAndroidSdkLicensesCommandId=`${e}.${this.platformIdentifier}.autosdk.acceptAndroidSdkLicenses`,this.installMinimalAndroidSdkCommandId=`${e}.${this.platformIdentifier}.autosdk.installMinimalAndroidSdk`,this.setAndroidSdkCustomPathCommandId=`${e}.${this.platformIdentifier}.autosdk.setAndroidSdkCustomPath`,this.setJavaSdkCustomPathCommandId=`${e}.${this.platformIdentifier}.autosdk.setJavaSdkCustomPathCommandId`,this.acceptXcodeLicenseCommandId=`${e}.${this.platformIdentifier}.autosdk.acceptXcodeLicense`}}},4018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSdkContext=void 0;class r{static defaultInstance=new r(!1);static silentMode=new r(!0);constructor(e,t=void 0){this.silentMode=e,this.contextNotificationTitle=t}silentMode;contextNotificationTitle}t.AutoSdkContext=r},7056:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSdkProgressStatusBarNotificationItem=void 0;const n=r(127);t.AutoSdkProgressStatusBarNotificationItem=class{progress;constructor(){this.progress=new n.ProgressStatusBarNotificationItem}isActive(){return this.progress.isActive()}deactivate(){this.progress.deactivate()}activate(e){this.progress.activate()}refreshFromAction(e){e&&e.runningUpdateStatus&&e.runningUpdateStatus.trim()&&this.progress.startProgress(e.runningUpdateStatus)}notifyActionCompleted(e){e&&e.runningUpdateStatus&&e.runningUpdateStatus.trim()&&this.progress.endProgress()}async refreshFromState(e,t){e.busy?this.progress.startProgress(e.statusText):this.progress.endProgress()}}},9435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSdkState=void 0;const n=r(9496);t.AutoSdkState=class{statusText;pickActions;defaultPickAction;commandId;severity;busy;tooltip;title;autoSdk;constructor(e){this.pickActions=[],this.commandId="",this.statusText="",this.tooltip="",this.title="",this.severity=n.LanguageStatusSeverity.Information,this.busy=!1,this.autoSdk=e}runDefaultPickAction(){this.defaultPickAction&&this.autoSdk&&this.autoSdk.runAction(this.defaultPickAction)}}},2045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSdkToastNotificationItem=void 0;const n=r(9496),i=r(9496),o=r(3865),a=r(4018);t.AutoSdkToastNotificationItem=class{isInitialized=!1;enabled=!0;openedStates=[];isActive(){return this.isInitialized}deactivate(){this.isInitialized=!1}activate(e){this.isInitialized=!0}refreshFromAction(e){}notifyActionCompleted(e){}async refreshFromState(e,t){var r=t??a.AutoSdkContext.defaultInstance;if(!(r.silentMode||e.busy||e.severity!==i.LanguageStatusSeverity.Error&&e.severity!==i.LanguageStatusSeverity.Warning)){if(void 0===r.contextNotificationTitle&&(this.openedStates.includes(e)||!this.enabled))return;this.openedStates.push(e);var s,u=o.mauiResources.projectSystem.dontShowThisAgain;try{s=r.contextNotificationTitle&&r.contextNotificationTitle.trim()?e.severity===i.LanguageStatusSeverity.Error?await n.window.showErrorMessage(r.contextNotificationTitle,e.title):await n.window.showWarningMessage(r.contextNotificationTitle,e.title):e.severity===i.LanguageStatusSeverity.Error?await n.window.showErrorMessage(e.statusText,e.title,u):await n.window.showWarningMessage(e.statusText,e.title,u)}finally{this.openedStates=this.openedStates.filter((t=>t!==e))}s&&(s===e.title||r.contextNotificationTitle&&s===r.contextNotificationTitle)?e.defaultPickAction?e.runDefaultPickAction():n.commands.executeCommand(e.commandId):s&&s===u&&(this.enabled=!1)}}}},8894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugMauiSdkValidationError=void 0;const n=r(8195);class i extends n.DebugValidationError{errorCode;suggestedWorkloads;constructor(e,t,r=[]){super(e,t),this.errorCode=e,this.suggestedWorkloads=r,this.name="DebugMauiSdkValidationError",this.suggestedWorkloads=r}}t.DebugMauiSdkValidationError=i},7513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiWorkloadsAutoSdk=void 0;const n=r(2920),i=r(3865),o=r(4630),a=r(8195),s=r(3173),u=r(9053),c=r(2432),l=r(1346),d=r(1795),f=r(8894),p=r(4538),h=r(4810),m=r(9301),g=r(9208),v=r(1017);class y extends d.AutoSdkBase{projects=[];cliService;dotnetSdkInformationProvider;ready=!1;constructor(e,t,r,n,i){super(!0,e,t,r,new p.MauiWorkloadsAutoSdkConfiguration),this.cliService=n,this.dotnetSdkInformationProvider=i}updateProjectsStatus(e){try{return this.projects=e,super.updateProjectsStatus(e)}finally{this.setReady()}}setReady(){this.ready=!0}reset(){}validateDebug(){let e;if(this.ready){let t=this.getSdkState();t&&t.status===m.SdkStatus.notFound&&t instanceof h.MauiWorkloadsSdkState&&(e=new f.DebugMauiSdkValidationError(o.TelemetryErrors.debug.MAUISDKNotFound,i.mauiResources.debugconfig.debuggingMauiSdkNotFoundErrorMessage,t.suggestedWorkloads),this.notifyStateError(e))}else e=new a.DebugValidationError(o.TelemetryErrors.debug.EnvironmentNotReady,i.mauiResources.debugconfig.debuggingMauiNotReadyErrorMessage);return new s.DebugValidationResult(e)}async verifySdk(e){let t=await this.getMauiWorkloadsState(),r="";t&&t.status!==m.SdkStatus.notFound||(r=i.mauiResources.projectSystem.mauiSdk.autosdkNotInstalledStateStatusText),this.updateServiceStatus(g.ServiceSdkStatus.newInitializationSdkStatus(this.configuration.commandIds.platformIdentifier,r,t),e);const n=t.sdkInfo?.version;if(n){const e=this.getStartUpProjectOrDefaultProjectIfAbsent();if(e){const t=await this.dotnetSdkInformationProvider.supportsVSDbg(e);this.settingsProperties.setSupportsVSDbg(t)}}return!0}async getMauiWorkloadsState(){let e=null,t=m.SdkStatus.notFound,r=[];try{let n=this.getStartUpProjectOrDefaultProjectIfAbsent();n&&(e=await this.dotnetSdkInformationProvider.getDotNetSdkInformation(n),r=await this.getSuggestedWorkloads(n),0===r.length&&(t=m.SdkStatus.installed),this.traceWorkloads(e,r))}catch(e){this.logger.log(i.mauiResources.projectSystem.mauiSdk.workloadResolverFailed(e))}return new h.MauiWorkloadsSdkState(e,t,r)}traceWorkloads(e,t){t&&t.length>0&&(this.logger.log(i.mauiResources.newLine),this.logger.log(i.mauiResources.projectSystem.mauiSdk.traceWorkloadsHeader),this.logger.log(i.mauiResources.projectSystem.mauiSdk.traceDotNetSdkInfo(e)),this.logger.log(i.mauiResources.projectSystem.mauiSdk.traceSuggestedWorkloadsHeader),t.forEach((e=>{this.logger.log(i.mauiResources.projectSystem.mauiSdk.traceSuggestedWorkloadToBeInstalled(e.workloadId))})),(0,l.isWindows)()?this.logger.log(i.mauiResources.projectSystem.mauiSdk.autoSdkMauiNotFoundWindows):this.logger.log(i.mauiResources.projectSystem.mauiSdk.autoSdkMauiNotFound))}getStartUpProjectOrDefaultProjectIfAbsent(){let e=this.settingsProperties.getStartUpProject();return!e&&this.projects.length>0&&(e=this.projects[0]),e}async getSuggestedWorkloads(e){let t=[],r=e.targetFrameworkMonikers.map((e=>e.toString()));e.queryVersions.filter((e=>e.targetFramework?.trim()&&e.targetFrameworkMoniker&&e.targetFrameworkMoniker.platform?.trim()&&c.MauiKnownPlatforms.getSupportedPlatforms().includes(e.targetFrameworkMoniker.platform))).map((e=>e.targetFramework)).forEach((e=>{e?.trim()&&!r.includes(e)&&r.push(e)}));for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){let i=r[n],o=await this.getSuggestedWorkloadsForTargetFramework(e,i);if(o&&o.length>0)for(const e in o){let r=o[e];t.find((e=>e.workloadId===r.workloadId))||t.push(r)}}return t}async getSuggestedWorkloadsForTargetFramework(e,t){let r,o=[];const a=new n.ProcessLogger;try{let r=this.cliService.getTempFileName("maui-vsc-dotnetsuggestedworkloads"),n=v.normalize(e.path),i=v.dirname(n);const s=["build","-t:_GetDotNetSuggestedWorkloads","-v:quiet","--no-restore"];t?.trim()&&s.push(`-f:${t}`);const c=v.join(this.settingsProperties.getExtensionResourcesPath(),this.settingsProperties.getCustomAfterMicrosoftCSharpTargetsFilename());s.push(`-p:CustomAfterMicrosoftCSharpTargets="${c}"`),s.push(`-p:MauiVSCodeBuildOutputFile="${r}"`),n&&s.push(n),await this.cliService.runDotNet(i,s,a);let l=await this.cliService.readFile(r);l?.trim()&&l.split(/\r?\n/).forEach((e=>{e?.trim()&&o.push(new u.DotNetSuggestedWorkload(e))}))}catch(e){this.logger.log(i.mauiResources.getErrorMessage(e)),r=i.mauiResources.projectSystem.mauiSdk.autoSdkFailedToFindNetSdk}return new Promise(((e,t)=>{r?t(r):e(o)}))}}t.MauiWorkloadsAutoSdk=y},4538:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiWorkloadsAutoSdkConfiguration=void 0;const n=r(3865),i=r(3497),o=r(9433);t.MauiWorkloadsAutoSdkConfiguration=class{commandIds;resources;constructor(){this.commandIds=new o.AutoSdkCommandIds(i.mauiCommons.services.workloadResolverServiceId),this.resources={notInstalledStatusText:n.mauiResources.projectSystem.mauiSdk.autosdkNotInstalledStateStatusText,notInstalledTooltip:n.mauiResources.projectSystem.mauiSdk.autosdkNotInstalledStateTooltip,notInstalledTitle:n.mauiResources.projectSystem.mauiSdk.autosdkNotInstalledStateTitle,notInstalledDetail:n.mauiResources.projectSystem.mauiSdk.autoSdkStateNotInstalledDetail,runningStatusText:n.mauiResources.projectSystem.mauiSdk.autosdkRunningStateStatusText,runningTooltip:n.mauiResources.projectSystem.mauiSdk.autoSdkRunning,runningTitle:" ",installedStatusText:n.mauiResources.projectSystem.mauiSdk.autosdkInstalledStateStatusText,installedTooltip:n.mauiResources.projectSystem.mauiSdk.autosdkInstalledStateTooltip,installedTitle:n.mauiResources.projectSystem.mauiSdk.autosdkInstalledStateTitle,installedDetail:n.mauiResources.projectSystem.mauiSdk.autoSdkStateInstalledDetail,leaMoreCommandLabel:n.mauiResources.projectSystem.mauiSdk.autoSdkLeaMoreCommandLabel,leaMoreCommandDescription:n.mauiResources.projectSystem.mauiSdk.autoSdkLeaMoreCommandDescription,refreshCommandLabel:n.mauiResources.projectSystem.mauiSdk.autoSdkRefreshCommandLabel,refreshCommandDescription:n.mauiResources.projectSystem.mauiSdk.autoSdkRefreshCommandDescription}}}},4810:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiWorkloadsSdkState=void 0,t.MauiWorkloadsSdkState=class{constructor(e,t,r){this.status=t,this.sdkInfo=e,this.suggestedWorkloads=r}status;sdkInfo;suggestedWorkloads}},5455:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SdkKind=void 0,(r=t.SdkKind||(t.SdkKind={}))[r.none=0]="none",r[r.defaultVS=1]="defaultVS",r[r.androidStudio=2]="androidStudio",r[r.custom=3]="custom"},9301:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SdkStatus=void 0,(r=t.SdkStatus||(t.SdkStatus={}))[r.installed=0]="installed",r[r.unacceptedLicenses=1]="unacceptedLicenses",r[r.updateRequired=2]="updateRequired",r[r.notFound=3]="notFound",r[r.notSupported=4]="notSupported"},9208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceSdkStatus=t.ServiceStatus=void 0;class r{serviceId;status;errorMessage;static initializationFailedStatus="initialization failed";static initializedStatus="initialized";constructor(e,t,r=""){this.serviceId=e,this.status=t,this.errorMessage=r}static newInitializationStatus(e,t=""){return t&&t.trim()?new r(e,r.initializationFailedStatus,t):new r(e,r.initializedStatus)}isRunning(){return this.status===r.initializedStatus}}t.ServiceStatus=r;class n extends r{constructor(e,t,r,n="",i=!1){super(e,t,n),this.sdkState=r,this.requireRefresh=i}static newInitializationSdkStatus(e,t="",i=null,o=!1){return t&&t.trim()?new n(e,r.initializationFailedStatus,i,t,o):new n(e,r.initializedStatus,i,"",o)}sdkState;requireRefresh}t.ServiceSdkStatus=n},7234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiWindowsDeviceTarget=void 0;const n=r(2037),i=r(5813),o=r(2432),a=r(2869);class s extends a.MauiDeviceTarget{commandName="MsixPackage";nativeDebugging=!1;constructor(e,t,r,o,a,s){var u="x64";"win32"===n.platform()&&(u="arm64"===n.arch()?"arm64":"x64"),super(new i.MauiDevice(t,e,null,["windows"],"",o,r,"","","computer",u,[new i.DotNetRuntimeIdentifier(u,"windows","win10")],u,!1,!0)),this.commandName=a,this.nativeDebugging=s}getPlatform(){return o.MauiKnownPlatforms.Windows}matchesWithInput(e){return this.label?.includes(e)||this.description?.includes(e)||this.detail?.includes(e)}}t.MauiWindowsDeviceTarget=s},3121:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiWindowsPlatform=void 0;const n=r(2037),i=r(1017),o=r(2920),a=r(3865),s=r(8377),u=r(2432),c=r(1346),l=r(9518),d=r(3559),f=r(5865),p=r(8757),h=r(3497),m=r(6284),g=r(7234);class v extends m.MauiPlatformBase{static deletePriConfigXml=!0;cliService;constructor(e,t,r,n,i){super(u.MauiKnownPlatforms.Windows,e,t,r,void 0,n),this.cliService=i}async getDebugTargets(e){const t=[];try{if(e.platform&&e.platform.trim()&&e.platform!==this.platform)return t;let n=e.project,i="";if(n){if(n.isCapabilityMatchOnProjectOrAnyConfiguration(l.ProjectCapabilities.WinUI)){const e=n.getTargetFrameworkFor(this.platform);i=e?e.toString():"Windows"}}else i="Windows";if(i&&i.trim()){let e=[];var r=void 0;let n=new d.MauiDebugTargetAction(this.platform,`$(tools) ${a.mauiResources.projectSystem.platforms.windows.buildOnly}`,"","",h.mauiCommons.onlyBuildActionId);const o=[];o.push(n);const s=new p.MauiDebugTargetsGroup({platform:this.platform,debugTargets:[],actions:o,platformGroup:i});if(e.push(s),r=n,(0,c.isWindows)()){const t=[];t.push(new g.MauiWindowsDeviceTarget("windowsmachine",a.mauiResources.projectSystem.platforms.windows.localMachine,"",a.mauiResources.projectSystem.platforms.windows.unpackaged,"Unpackaged",!1));const n=new p.MauiDebugTargetsGroup({platform:this.platform,debugTargets:t,actions:[],platformGroup:a.mauiResources.projectSystem.platforms.windows.platformGroupLabelForDebug(i)});e.push(n),r=t[0]}const u=new f.MauiDebugTargets({platform:this.platform,defaultDebugTarget:r,groups:e});t.push(u)}}catch(e){this.logger.log(a.mauiResources.getErrorMessage(e))}return t}async getDeviceRuntimeIdentifierForDebug(e,t){}async getDeviceIdentifierForDebug(e,t){return t?super.getDeviceIdentifierForDebug(e,t):new s.DebugDeviceIdentifierResult("windowsdevice")}supportsTaskRunForDebugging(){return!1}setTaskProperties(e,t,r,n){r.push("-p:WindowsPackageType=None"),v.deletePriConfigXml&&(r.push(`-p:CustomAfterMicrosoftCSharpTargets="${this.getPathToCustomTargets()}"`),r.push("-p:_DeletePriConfigXml=True"),v.deletePriConfigXml=!1)}async setDebugProperties(e,t){var r=await super.setDebugProperties(e,t);if(r&&t){if(!e.program){let t=await this.getTargetPathFromProject(e);t||(t=this.calculateTargetPath(e)),e.program=t}e.type="coreclr",e.request="launch",e.console="internalConsole",e.stopAtEntry=!1}return r}getUseVSDbg(){return!0}async getTargetPathFromProject(e){let t,r,n=this.startUpProjectManager?.getProject(e?.project);n&&(t=i.normalize(n.path),r=i.dirname(t));let s=n?.getTargetFrameworkFor(u.MauiKnownPlatforms.Windows),c=["build","-t:_GetTargetPath",`-f:${s}`,"-v:quiet","-p:WindowsPackageType=None"];c.push(`-p:CustomAfterMicrosoftCSharpTargets="${this.getPathToCustomTargets()}"`);let l,d=this.cliService.getTempFileName("maui-vsc-targetopath");c.push(`-p:MauiVSCodeBuildOutputFile="${d}"`),t&&c.push(t);let f,p=new o.ProcessLogger;try{await this.cliService.runDotNet(r,c,p)}catch(e){this.logger.log(a.mauiResources.getErrorMessage(e)),l=a.mauiResources.projectSystem.platforms.windows.failedToGetTargetPathFromProject}let h=await this.cliService.readFile(d);return h&&h.trim()&&(f=h.substring(0,h.toLowerCase().lastIndexOf(".dll"))+".exe"),new Promise(((e,t)=>{l&&l.trim()?t(l):e(f)}))}getPathToCustomTargets(){return i.join(this.settingsProperties.getExtensionResourcesPath(),this.settingsProperties.getCustomAfterMicrosoftCSharpTargetsFilename())}calculateTargetPath(e){var t=void 0;"win32"===n.platform()&&(t="arm64"===n.arch()?"win10-arm64":"win10-x64");var r=e?.project.lastIndexOf("\\"),i=e?.project.substring(0,r).replaceAll("\\","/"),o=e?.project.substring(r+1),a=o.replace(".csproj",".exe");return`${i}/bin/${e.configuration}/${e.targetFramework}/${t}/${a}`}}t.MauiWindowsPlatform=v},7840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9679);class i{static solutionExplorerService=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.NoDelay.SolutionViewService","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static projectTreeService=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.NoDelay.CpsProjectTreeService","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static errorReportingService=this.create(n.ServiceMoniker.create("Microsoft.VisualStudio.ErrorReportingService","0.1"));static activeDocumentsInformationService=this.create(n.ServiceMoniker.create("Microsoft.VisualStudio.ActiveDocumentsInformationService","0.1"));static projectQueryExecutionService=Object.freeze(new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.ProjectSystem.Query.Remoting.QueryExecutionService","0.2"),n.Formatters.Utf8,n.MessageDelimiters.HttpLikeHeaders));static create(e){return Object.freeze(new n.ServiceJsonRpcDescriptor(e,n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3}))}}t.default=i},7092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectQueryableSpace=void 0;const n=r(9679),i=r(2781),o=r(6810),a=r(8510),s=r(3865),u=r(7840);class c extends i.EventEmitter{serviceBroker;constructor(e){super(),this.serviceBroker=e}async executeQuery(e,t){const r=this.serviceBroker,n=JSON.stringify(e),i=await r.getProxy(u.default.projectQueryExecutionService);try{if(i){const e=await i.ExecuteQueryAsync(n,t);return JSON.parse(e)}throw new Error("Proxy is null")}catch(e){throw new Error("Exception while talking to proxy: "+e)}finally{i?.dispose()}}async executeAction(e,t){const r=this.serviceBroker,n=JSON.stringify(e),i=await r.getProxy(u.default.projectQueryExecutionService);try{if(i){const e=await i.ExecuteRemoteExecutableAsync(n,t);return JSON.parse(e)}throw new Error("Proxy is null")}catch(e){throw new Error("Exception while talking to proxy: "+e)}finally{i?.dispose()}}async subscribeQuery(e){const t=this.serviceBroker,r=new n.Observer((e=>{o.logger.log(s.mauiResources.debugTracing.query.changed(e),a.LogImportance.low),this.emit("queryChanged",JSON.parse(e))}),(e=>{e?o.logger.log(s.mauiResources.debugTracing.query.failed(s.mauiResources.getErrorMessage(e))):o.logger.log(s.mauiResources.debugTracing.query.completed,a.LogImportance.low),this.emit("queryCompleted",e)})),i=JSON.stringify(e),c=await t.getProxy(u.default.projectQueryExecutionService);try{if(c)return[await c.SubscribeQueryResultsAsync(i,r),c]}catch(e){throw new Error("Exception while talking to proxy: "+e)}}}t.ProjectQueryableSpace=c},6431:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidVirtualDeviceCreationError=void 0,t.AndroidVirtualDeviceCreationError=class{reason;constructor(e){this.reason=e}}},8184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSharpExtensionServiceBroker=void 0;const n=r(9679);class i{static androidDeviceManagerService=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.Maui.Devices.AndroidDeviceManager","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader);static appleDeviceManagerService=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.Maui.Devices.AppleDeviceManager","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader);static propertiesMonitorService=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.Maui.ProjectSystem.PropertiesMonitor","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader);static utilService=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.Maui.UtilService","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader);static dotNetWorkloadResolver=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.Maui.ProjectSystem.DotNetWorkloadResolver","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader);static dotnetDebugConfigurationService=new n.ServiceJsonRpcDescriptor(n.ServiceMoniker.create("Microsoft.VisualStudio.Debugger.DotnetDebugConfigurationService","0.1"),n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static create(e){return Object.freeze(new n.ServiceJsonRpcDescriptor(e,n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3}))}}t.default=i;class o extends n.GlobalBrokeredServiceContainer{registerExternalServices(...e){const t=new n.ServiceRegistration(n.ServiceAudience.local,!1);this.register(e.map((e=>({moniker:e,registration:t}))))}}t.CSharpExtensionServiceBroker=o},5813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MauiDevice=t.DotNetRuntimeIdentifier=void 0,t.DotNetRuntimeIdentifier=class{constructor(e,t,r){this.platform=t,this.architecture=e,this.dotnetPlatform=r}platform;architecture;dotnetPlatform},t.MauiDevice=class{constructor(e,t,r,n,i,o,a,s,u,c,l,d,f,p,h){this.name=e,this.identifier=t,this.emulatorId=r,this.platforms=n,this.version=i,this.versionName=o,this.manufacturer=a,this.model=s,this.subModel=u,this.idiom=c,this.platformArchitecture=l,this.isEmulator=p,this.isRunning=h,this.architecture=f,this.runtimeIdentifiers=d}name;identifier;emulatorId;platforms;version;versionName;manufacturer;model;subModel;idiom;platformArchitecture;isEmulator;isRunning;architecture;runtimeIdentifiers}},3486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesMonitor=t.PropertiesSnapshot=t.PropertyValue=void 0;const n=r(9679),i=r(8184),o=r(2361);t.PropertyValue=class{constructor(e,t){this.name=e,this.value=t}name;value},t.PropertiesSnapshot=class{constructor(e,t){this.name=e,this.properties=t}name;properties;getProperty(e){if(e)return this.properties.find((t=>t.name===e))}},t.PropertiesMonitor=class extends o{serviceBroker;constructor(e){super(),this.serviceBroker=e}async getProxy(){const e=i.default.propertiesMonitorService.moniker,t=await this.serviceBroker.getProxy(new n.ServiceJsonRpcDescriptor(e,n.Formatters.MessagePack,n.MessageDelimiters.BigEndianInt32LengthHeader));if(!t)throw new Error(`No service known by ${n.ServiceMoniker.toString(e)}.`);return t}async notifyPropertiesChanged(e,t,r,n){const i=await this.getProxy();try{return await i.notifyPropertiesChanged(e,t,r,n)}finally{i?.dispose()}}}},3865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mauiResources=void 0;const n=r(9496),i=r(2432),o=r(3497),a=r(9301),s=r(6431),u=r(1017);t.mauiResources={blank:" ",newLine:"\n",tab:"\t",getErrorMessage(e){var t="";return e&&(t=e instanceof Error?e.message:e instanceof s.AndroidVirtualDeviceCreationError?e.reason:e),t??""},requiredExtensionError:e=>n.l10n.t('The extension "{0}" is required for this command to work.',[e]),debugconfig:{createsLaunchjsonFileErrorMessage:n.l10n.t("launch.json file creation failed: Please open a .NET MAUI app project from the Solution Explorer to debug using the .NET MAUI configuration."),debuggingErrorMessage:n.l10n.t("Debugging canceled: Please open a .NET MAUI app project from the Solution Explorer to debug using the .NET MAUI configuration."),debuggingAndroidEmulatorLaunchFailedErrorMessage:e=>n.l10n.t("Debugging canceled: Launch Android Emulator failed {0}",[`'${e??""}'`]),debuggingAndroidEmulatorNotFoundErrorMessage:e=>n.l10n.t("Debugging canceled: Unexpected error occurred trying to connect Android Emulator {0}. Try running the {1} command and selecting {2}.",[`'${e??""}'`,`'${t.mauiResources.projectSystem.platforms.android.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.android.autoSdkRefreshCommandLabel}'`]),debuggingAndroidSdkNotFoundErrorMessage:n.l10n.t("Debugging canceled: Android SDK not found."),debuggingAndroidSdkUnacceptedLicensesErrorMessage:n.l10n.t("Debugging canceled: Android SDK licenses need to be accepted."),debuggingAndroidSdkRequiredComponentNeedsToBeInstalled:n.l10n.t("Debugging can fail: Android SDK required components need to be installed."),debuggingAppleSdkNotFoundErrorMessage:n.l10n.t("Debugging canceled: Xcode not found."),debuggingMauiSdkNotFoundErrorMessage:n.l10n.t("Debugging canceled: MAUI SDK not found."),debuggingMauiNotReadyErrorMessage:n.l10n.t("Debugging canceled: MAUI is not ready to be used. Please wait for the projects to be fully loaded and the .NET MAUI environment initialization finished."),debugConfigurationValues:(e,t,r)=>n.l10n.t("\nCurrent debug configuration values:\nType: {0}\nUse VSDbg: {1}\nPlatform: {2}",[e,t,r])},services:{mauiDeactivationCalled:n.l10n.t("Shutdown for VSCode MAUI is called"),startWatchingAndroidDevicesFailed:n.l10n.t("Android platform cannot be initialized. Please verify the Android SDK and JDK installation."),startWatchingAndroidDevicesError:e=>n.l10n.t("Android platform failed with an unexpected error: {0}. Please verify the Android SDK and JDK installation.",[t.mauiResources.getErrorMessage(e)]),startWatchingAppleDevicesFailed:n.l10n.t("Apple platform cannot be initialized. Please verify the Xcode installation."),startWatchingAppleDevicesError:e=>n.l10n.t("Apple platform failed with an unexpected error: {0}. Please verify the Xcode installation.",[t.mauiResources.getErrorMessage(e)])},projectSystem:{dontShowThisAgain:n.l10n.t("Don't show this again"),showOutput:n.l10n.t("Show Output"),invalidTargetFrameworkError:e=>n.l10n.t("Invalid Target Framework Moniker: {0} ",[e]),unableToParseTargetFrameworkError:e=>n.l10n.t("Unable to parse Target Framework Moniker: {0}",[e??""]),underConstructionError:n.l10n.t("Under Construction"),mauiSdk:{autoSdkRefreshCommandLabel:n.l10n.t("Refresh .NET MAUI environment"),autoSdkRefreshCommandDescription:n.l10n.t("Analyze .NET MAUI environment and report the status"),autoSdkRunning:n.l10n.t("Analyzing .NET MAUI environment..."),autoSdkLeaMoreCommandLabel:n.l10n.t("How to configure .NET MAUI"),autoSdkLeaMoreCommandDescription:n.l10n.t("Learn more..."),autosdkStartingService:n.l10n.t("Starting .NET MAUI environment..."),autosdkRunningStateStatusText:n.l10n.t(".NET MAUI SDK: verifying environment"),autosdkRunningStateTooltip:n.l10n.t("Running MAUI SDK environment verification"),autosdkRunningStateTitle:n.l10n.t("Learn more..."),autosdkInstalledStateStatusText:n.l10n.t(".NET MAUI SDK: installed"),autosdkInstalledStateTooltip:n.l10n.t("Learn more about .NET MAUI"),autosdkInstalledStateTitle:n.l10n.t("Learn more..."),autosdkNotInstalledStateStatusText:n.l10n.t(".NET MAUI SDK: not found. Please check the .NET MAUI output window for more details."),autosdkNotInstalledStateTooltip:n.l10n.t("Learn more about how to configure .NET MAUI"),autosdkNotInstalledStateTitle:n.l10n.t("Learn more..."),autoSdkStateInstalledDetail:n.l10n.t(".NET MAUI SDK is already installed"),autoSdkStateNotInstalledDetail:n.l10n.t(".NET MAUI SDK is not installed"),traceWorkloadsHeader:n.l10n.t(".NET MAUI Workloads:"),traceDotNetSdkInfo:e=>n.l10n.t("\tPath: {0}   Version: {1}",[e?.path??"",e?.version?.value??""]),traceSuggestedWorkloadsHeader:n.l10n.t("\tSuggested Workloads to be installed:"),traceSuggestedWorkloadToBeInstalled:e=>n.l10n.t("\t\tWorkload: {0}",[e??""]),autoSdkMauiNotFound:n.l10n.t(".NET MAUI SDK verification failed. Please try running `dotnet workload restore` from your project's directory and reopen the solution."),autoSdkMauiNotFoundWindows:n.l10n.t(".NET MAUI SDK verification failed. If you installed .NET MAUI through the Visual Studio installer, please repair it and then reopen the solution. Otherwise, try running `dotnet workload restore` from your project directory. Note this command is not recommended if .NET MAUI was installed by the Visual Studio installer."),autoSdkNetSdkNotFound:n.l10n.t("Could not find the .NET SDK path or version"),autoSdkStartUpProjectNotFound:n.l10n.t("Could not find a .NET MAUI startup project, please make sure you've selected one"),autoSdkFailedToFindNetSdk:n.l10n.t("Failed to retrieve the .NET SDK information"),autoSdkDotNetInfoProjectQueryFailed:n.l10n.t("Failed to resolve workloads using information from the project query. Falling back to build target."),autoSdkTargetFrameworkNotFound:e=>n.l10n.t("Could not find an active target framework for '{0}'. Please make sure you've selected a valid debug target and its platform is present in the TargetFrameworks or TargetFramework properties",e),workloadResolverFailed:e=>n.l10n.t(".NET MAUI SDK verification failed with an unexpected error: {0}.\nIf you cannot solve this problem, please report an issue from the Help menu.",[t.mauiResources.getErrorMessage(e)])},platforms:{autoSdkPickerInputPlaceHolder:n.l10n.t("Type to filter actions"),windows:{failedToGetTargetPathFromProject:n.l10n.t("Failed to retrieve the application information"),platformGroupLabelForDebug:e=>n.l10n.t("Windows Devices - {0}",[e]),buildOnly:n.l10n.t("Windows (Build Only)"),localMachine:n.l10n.t("Local Machine"),unpackaged:n.l10n.t("Unpackaged")},apple:{simulatorDescription:(e,t)=>n.l10n.t("Simulator ({0} {1})",[e,t]),deviceRunningDescription:n.l10n.t("running"),getDevicesError:e=>n.l10n.t("Unexpected error occurs trying to get Apple devices: {0}",[t.mauiResources.getErrorMessage(e)]),autoSdkRefreshCommandLabel:n.l10n.t("Refresh Apple environment"),autoSdkRefreshCommandDescription:n.l10n.t("Analyze Apple environment and report the status"),autoSdkRunning:n.l10n.t("Analyzing Apple environment..."),autoSdkLeaMoreCommandLabel:n.l10n.t("How to configure Apple"),autoSdkLeaMoreCommandDescription:n.l10n.t("Learn more..."),autosdkRunningStateStatusText:n.l10n.t("Xcode: verifying environment"),autosdkRunningStateTooltip:n.l10n.t("Running Xcode environment verification"),autosdkRunningStateTitle:n.l10n.t("Learn more..."),autosdkInstalledStateStatusText:n.l10n.t("Xcode: installed"),autosdkInstalledStateTooltip:n.l10n.t("Learn more about Xcode"),autosdkInstalledStateTitle:n.l10n.t("Learn more..."),autosdkNotInstalledStateStatusText:n.l10n.t("Xcode: not found"),autosdkNotInstalledStateTooltip:n.l10n.t("Learn more about how to configure Xcode"),autosdkNotInstalledStateTitle:n.l10n.t("Learn more..."),autoSdkStateInstalledDetail:n.l10n.t("Xcode is already installed"),autoSdkStateNotInstalledDetail:n.l10n.t("Xcode is not installed"),autoSdkAcceptXcodeLicenseError:()=>n.l10n.t("Xcode license not accepted. Open Xcode and accept it or run 'sudo xcodebuild -license agree'. Then run the {0} command and select {1}.",[`'${t.mauiResources.projectSystem.platforms.apple.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.apple.autoSdkRefreshCommandLabel}'`]),autoSDKAcceptXcodeLicenseAction:n.l10n.t("Accept licenses..."),autoSDKAcceptXcodeLicenseTooltip:n.l10n.t("Review Xcode license"),autoSdkAcceptLicensesUnexpectedError:n.l10n.t("An error occurred trying to accept the Xcode license"),autosdkConfigureCommandLabel:n.l10n.t("Configure Apple"),brokeredServiceXcodePathFound:e=>e&&e.trim()?n.l10n.t("\nXcode path to be used: {0}",[e]):"",autosdkRecommendedActionAcceptLicenses:()=>n.l10n.t('\nACTION REQUIRED:\n\t- To enable debugging, the Xcode licenses need to be accepted. Open Xcode and accept it or run "sudo xcodebuild -license agree".'),autosdkRecommendedActionInstallXcode:()=>n.l10n.t("\nACTION REQUIRED:\n\t- Xcode needs to be installed. You can install it from the command palette by choosing {0}, selecting {1}, and following the instructions.",[`'.NET MAUI: ${t.mauiResources.projectSystem.platforms.apple.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.apple.autoSdkLeaMoreCommandLabel}'`]),macCatalyst:{noDevicesFound:n.l10n.t("No connected devices"),buildOnly:n.l10n.t("MacCatalyst (Build only)")},iOS:{platformGroupLabelForDevices:e=>n.l10n.t("iOS Devices - {0}",[e]),platformGroupLabelForSimulators:e=>n.l10n.t("iOS Simulators - {0}",[e]),noDevicesFound:n.l10n.t("No connected devices"),buildOnly:n.l10n.t("iOS (Build only)")}},android:{autosdkPreferredPathDiscarded:n.l10n.t("The preferred Android SDK/Java SDK path stored on Settings was not used."),directoryFound:(e,t)=>n.l10n.t("{0} value found: {1}",[e??"",t]),setAndroidSdkPathTo:e=>n.l10n.t("new Android SDK path selected: '{0}'",[e]),setJavaSdkPathTo:e=>n.l10n.t("new Java SDK path selected: '{0}'",[e]),platformGroupLabelForDevices:e=>n.l10n.t("Android Devices - {0}",[e]),platformGroupLabelForEmulators:e=>n.l10n.t("Android Emulators - {0}",[e]),getDevicesError:e=>n.l10n.t("Unexpected error occurs trying to get Android devices: {0}",[t.mauiResources.getErrorMessage(e)]),getAutosdkComponentInfo(e){let r="";if(!e?.component?.trim())return r;const n=e.status===a.SdkStatus.installed?"-":"x",i=t.mauiResources.projectSystem.platforms.android.getComponentStatusRecommendationAction(e.status,e.required,e.version,e.installedVersion);return r=`${t.mauiResources.tab}${n} ${e.component?.trim()}: ${i}`,!e.referencingComponent?.trim()||e.status!==a.SdkStatus.notFound&&e.status!==a.SdkStatus.updateRequired||(r=`${r} ${t.mauiResources.projectSystem.platforms.android.getAutosdkReferencingComponent(e.referencingComponent)}.`),r},getComponentStatusRecommendationAction(e,t,r,i){const o=i?.trim()?`installed version '${i}'`:"installed";return e===a.SdkStatus.installed?o:e===a.SdkStatus.unacceptedLicenses?n.l10n.t("license needs to be accepted."):e===a.SdkStatus.updateRequired?t?n.l10n.t("{0} - update required{1}.",[o,r?.trim()?` to version '${r}'`:""]):n.l10n.t("{0} - new version available{1}.",[o,r?.trim()?` '${r}'`:""]):e===a.SdkStatus.notFound?n.l10n.t("not installed."):""},androidEmulatorLaunchFailedErrorMessage:e=>n.l10n.t("Launch Android Emulator failed {0}",[`'${e??""}'`]),androidEmulatorNotFoundErrorMessage:e=>n.l10n.t("Unexpected error occurred trying to connect Android Emulator {0}. Try running the {1} command and selecting {2}.",[`'${e??""}'`,`'${t.mauiResources.projectSystem.platforms.android.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.android.autoSdkRefreshCommandLabel}'`]),brokeredServiceAndroidSdkPathFound:e=>n.l10n.t("Android SDK path to be used: {0}",[e]),brokeredServiceJavaSdkPathFound:e=>n.l10n.t("Java SDK path to be used: {0}",[e]),autosdkUserPreferredAndroidSdkPath:e=>n.l10n.t("User preferred Android SDK path stored on Settings: {0}",[e]),autosdkUserPreferredJavaSdkPath:e=>n.l10n.t("User preferred Java SDK path stored on Settings: {0}",[e]),autosdkConfigureCommandLabel:n.l10n.t("Configure Android"),autosdkJavaSDKPreferredPathSettingName:n.l10n.t("Java SDK Preferred Path"),autosdkAndroidSDKPreferredPathSettingName:n.l10n.t("Android SDK Preferred Path"),autosdkRecommendedActionInstallJavaSdk:()=>n.l10n.t("\nACTION REQUIRED:\n\t- The Java SDK needs to be installed. You can install it from the command palette by choosing {0}, selecting {1}, and following the instructions.\n\t- Alternatively, configure the Java SDK to be used by adding the MSBuild property {2} on the csproj file, or by specifying the {3} from the Settings page to determine the path at the user/workspace level. You can also set the {4} environment variable to define the path at machine level.",[`'.NET MAUI: ${t.mauiResources.projectSystem.platforms.android.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.android.autoSdkLeaMoreCommandLabel}'`,"'JavaSdkDirectory'",`'${t.mauiResources.projectSystem.platforms.android.autosdkJavaSDKPreferredPathSettingName}'`,"'JAVA_HOME'"]),autosdkRecommendedActionInstallAndroidSdk:()=>n.l10n.t("\nACTION REQUIRED:\n\t- The Android SDK needs to be installed. You can install it from the command palette by choosing {0}, selecting {1}, and following the instructions.\n\t- Alternatively, configure the Android SDK to be used by adding the MSBuild property {2} on the csproj file, or by specifying the {3} from the Settings page to determine the path at the user/workspace level. You can also set the {4} environment variable to define the path at machine level.",[`'.NET MAUI: ${t.mauiResources.projectSystem.platforms.android.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.android.autoSdkLeaMoreCommandLabel}'`,"'AndroidSdkDirectory'",`'${t.mauiResources.projectSystem.platforms.android.autosdkAndroidSDKPreferredPathSettingName}'`,"'ANDROID_HOME'"]),autosdkRecommendedActionAcceptLicenses:()=>n.l10n.t("\nACTION REQUIRED:\n\t- To enable debugging, the Android SDK licenses need to be accepted. You can accept them from the command palette by choosing {0}, selecting {1}, and following the instructions.",[`'.NET MAUI: ${t.mauiResources.projectSystem.platforms.android.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.android.autoSdkAcceptLicensesCommandLabel}'`]),autosdkRecommendedActionInstallAndroidComponents:()=>n.l10n.t("\nACTION REQUIRED:\n\t- The required Android SDK components need to be installed. You can install them from the command palette by choosing {0}, selecting {1}, and following the instructions. Take into account that the Maui Android SDK recommends specific component versions and if you decide to not use them the build/debug may not work well.",[`'.NET MAUI: ${t.mauiResources.projectSystem.platforms.android.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.android.autoSdkLeaMoreCommandLabel}'`]),autosdkRecommendedActionUpgradeAndroidComponents:()=>n.l10n.t("\nOPTIONAL:\n\t- There are optional recommended Android SDK components that can be installed/upgraded. You can install it from the command palette by choosing {0}, selecting {1}, and following the instructions.",[`'.NET MAUI: ${t.mauiResources.projectSystem.platforms.android.autosdkConfigureCommandLabel}'`,`'${t.mauiResources.projectSystem.platforms.android.autoSdkLeaMoreCommandLabel}'`]),autosdkRecommendedActionRunVisualStudioToInstallAndroidComponents:n.l10n.t("\t- Another option is to use the Android SDK Manager tool from Visual Studio to install the Android Sdk components."),autosdkRecommendedActionRunAndroidStudioToInstallAndroidComponents:n.l10n.t("\t- Another option is to use Android Studio to install the Android Sdk components."),autosdkRecommendedActionRunSdkManagerToInstallAndroidComponents:(e,t,r)=>n.l10n.t("\t- Alternatively, you can try installing the components by opening a Terminal, navigating to directory {0} and then running: {1}.\n\tLicenses needs to be accepted running: {2}. After that, please verify if the android-sdk-license file exist into the licenses directory on {3}. If this keeps failing, please try deleting the licenses folder and accepting the licenses again.",[`'${t.endsWith("bin")?t:u.normalize(u.join(t,"bin"))}'`,`'sdkmanager${r}'`,"'sdkmanager --licenses --verbose'",`'${e}'`]),autosdkRecommendedActionRunSdkManagerToInstallAndroidComponentsAsAdministrator:(e,t,r)=>n.l10n.t("\t- Alternatively, you can try installing the components by opening a Terminal as administrator, navigating to directory {0} and then running: {1}.\n\tLicenses needs to be accepted running: {2}. After that, please verify if the android-sdk-license file exist into the licenses directory on {3}. If this keeps failing, please try deleting the licenses folder and accepting the licenses again.",[`'${t.endsWith("bin")?t:u.normalize(u.join(t,"bin"))}'`,`'sdkmanager${r}'`,"'sdkmanager --licenses --verbose'",`'${e}'`]),autosdkRequiredComponentVersionsTraceHeader:n.l10n.t("Android components:"),autosdkRequiredComponentVersionsTraceEntry:n.l10n.t("\tAndroid SDK recommended required components:"),autosdkOtherComponentVersionsTraceEntry:n.l10n.t("\tAndroid SDK recommended optional components:"),getAutosdkReferencingComponent:e=>n.l10n.t("Dependent Components {0}",[e]),autosdkVerifyFailed:e=>n.l10n.t("Android environment verification failed with an unexpected error: {0}. Please verify the Android SDK and JDK installation.",[t.mauiResources.getErrorMessage(e)]),autosdkGetDependenciesFailed:e=>n.l10n.t("Get Android dependencies failed with an unexpected error {0}",[t.mauiResources.getErrorMessage(e)]),autoSdkStateInstalledDetail:n.l10n.t("Android SDK is already installed"),autoSdkStateNotInstalledDetail:n.l10n.t("Android SDK is not installed"),autoSdkStateUpdateRequiredDetail:n.l10n.t("Android SDK updates required"),autoSdkStateAcceptLicensesRequiredDetail:n.l10n.t("Android SDK has unaccepted licenses pending review"),autoSdkAcceptingLicenses:n.l10n.t("Accepting Android licenses..."),autoSdkInstalling:n.l10n.t("Installing Android SDK..."),autoSdkRunning:n.l10n.t("Analyzing Android environment..."),autosdkRunningStateStatusText:n.l10n.t("Android SDK: analyzing..."),autosdkInstalledStateStatusText:n.l10n.t("Android SDK: Installed"),autosdkInstalledStateTooltip:n.l10n.t("Configure the Android SDK"),autosdkInstalledStateTitle:n.l10n.t("Configure..."),autosdkNotInstalledStateStatusText:n.l10n.t("Android SDK: Not found"),autosdkNotInstalledStateTooltip:n.l10n.t("Learn more about how to configure the Android SDK"),autosdkNotInstalledStateTitle:n.l10n.t("Configure..."),autosdkUpdateStateStatusText:n.l10n.t("Android SDK: Updates required"),autosdkUpdateInstallStateStatusText:n.l10n.t("Android SDK: Install required"),autosdkUpdateStateTooltip:n.l10n.t("Update the Android SDK"),autosdkUpdateStateTitle:n.l10n.t("Configure..."),autosdkUpdateJavaSdkRequiredStatusText:n.l10n.t("Android SDK: Java SDK required"),autosdkUpdateJavaSdkRequiredTooltip:n.l10n.t("Set Java SDK path is required"),autosdkUpdateJavaSdkRequiredTitle:n.l10n.t("Set Java SDK path"),autosdkAcceptLicensesStateStatusText:n.l10n.t("Android SDK: Unaccepted licenses"),autosdkAcceptLicensesStateTooltip:n.l10n.t("Review Android licenses"),autosdkAcceptLicensesStateTitle:n.l10n.t("Accept licenses..."),autoSdkLeaMoreCommandLabel:n.l10n.t("How to configure Android"),autoSdkLeaMoreCommandDescription:n.l10n.t("Learn more..."),autoSdkRefreshCommandLabel:n.l10n.t("Refresh Android environment"),autoSdkRefreshCommandDescription:n.l10n.t("Analyze Android environment and report the status"),autoSdkSetPathCommandLabel:n.l10n.t("Set Android SDK path"),autoSdkSetPathCommandDescription:n.l10n.t("Select the path where the Android SDK is installed"),autoSdkSetJavaSdkPathCommandLabel:n.l10n.t("Set Java SDK path"),autoSdkSetJavaSdkPathCommandDescription:n.l10n.t("Select the path where the Java SDK is installed"),autoSdkInstallCommandLabel:n.l10n.t("Install fresh Android SDK"),autoSdkInstallCommandDescription:n.l10n.t("Fresh Install of Android SDK/Java SDK components required to build and debug"),freshInstallAndroidSdkNeedsToBeLocatedNoInProgramsFiles:n.l10n.t("Fresh Install of Android SDK requires a custom path out of the {0} directory",["Programs Files|Programs Files(x86)"]),freshInstallJavaSdkNeedsToBeLocatedNoInProgramsFiles:n.l10n.t("Fresh Install of Java SDK requires a custom path out of the {0} directory",["Programs Files|Programs Files(x86)"]),autoSdkUpdateCommandLabel:n.l10n.t("Update Android SDK"),autoSdkUpdateCommandDescription:n.l10n.t("Update Android SDK components required to build and debug"),autoSdkAcceptLicensesCommandLabel:n.l10n.t("Review Android licenses"),autoSdkAcceptLicensesCommandDescription:n.l10n.t("Review and accept Android SDK components Licenses required to build and debug"),autoSdkPickDirectoryTitle:n.l10n.t("Android SDK Location"),autoSdkJavaSdkPickDirectoryTitle:n.l10n.t("Java SDK Location"),noDevicesFound:n.l10n.t("No connected devices"),buildOnly:n.l10n.t("Android (Build only)"),launchEmulator:e=>n.l10n.t("launching emulator: {0}",[e]),emulatorLaunched:(e,t)=>n.l10n.t("\nemulator is running: {0} (identifier: {1})",[e,t]),emulator:n.l10n.t("Emulator"),deviceRunningDescription:n.l10n.t("running"),connectAndroidPhysicalDeviceActionLabel:n.l10n.t("Connect Android Physical device"),connectAndroidPhysicalDeviceActionDetail:n.l10n.t("(No devices found)"),connectAndroidPhysicalDeviceActionDescription:n.l10n.t("Learn More..."),autoSdkInstallSdkFailed:n.l10n.t("An error occurred trying to install the Android SDK"),autoSdkUpdateSdkFailed:n.l10n.t("An error occurred trying to update the Android SDK"),autoSdkAcceptLicensesCanceled:n.l10n.t("Accept Android SDK licenses was canceled."),autoSdkAcceptLicensesUnexpectedError:n.l10n.t("An error occurred trying to accept Android SDK licenses."),autoSdkAcceptLicensesAdminPermissionsWorkaround:(e,t)=>n.l10n.t("Insufficient privileges: Please try accepting licenses again by opening a Terminal as administrator, navigating to directory {0} and then running: {1}. After that, please verify if the android-sdk-license file exist into the licenses directory on {2}. If this keeps failing, please try deleting the licenses folder and accepting the licenses again.",[`'${e.endsWith("bin")?e:u.normalize(u.join(e,"bin"))}'`,"'sdkmanager --licenses --verbose'",`'${t}'`]),autoSdkAcceptLicensesUnexpectedErrorWorkaround:(e,t,r=!1)=>n.l10n.t("Please try accepting licenses again by opening a Terminal, navigating to directory {0} and then running: {1}. After that, please verify if the android-sdk-license file exist into the licenses directory on {2}. If this keeps failing, please try deleting the licenses folder and accepting the licenses again.",[`'${e.endsWith("bin")?e:u.normalize(u.join(e,"bin"))}'`,"'sdkmanager --licenses --verbose'",`'${t}'`])}}},startUpProjectManager:{pickerName:n.l10n.t("Startup Project"),pickerTitle:n.l10n.t("Startup Project"),pickerTooltip:n.l10n.t("Select a startup project for debugging."),pickerInitialText:n.l10n.t("Pick Startup Project"),pickerInputPlaceHolder:n.l10n.t("Type to filter Project"),statusItemLabelDefault:n.l10n.t("Pick Startup Project")},debugPropertiesProvider:{vsDbgNotSupported:n.l10n.t("VSDbg is set to be used but it is not currently supported with the actual dotnet SDK version and target framework, so the setting will be ignored.")},debugTargetsManager:{pickerName:n.l10n.t("Target Device"),pickerTitle:n.l10n.t("Debug Target"),pickerTooltip:n.l10n.t("Select a target device for debugging."),pickerInitialText:n.l10n.t("Pick Startup Device"),pickerInputPlaceHolder:n.l10n.t("Type to filter devices"),statusItemLabelDefault:n.l10n.t("Pick Startup Device"),statusItemLabelBuildOnly:e=>n.l10n.t("{0} (build only)",[e]),createAndroidEmulator:{actionLabel:n.l10n.t("Create Android Emulator"),actionDetail:n.l10n.t("(No emulators found)"),actionDescription:n.l10n.t("Creates a new Android Virtual device..."),deviceProfile:{pickerInputPrompt:n.l10n.t("Device:"),pickerInputPlaceHolder:"pixel_5"},api:{pickerInputPrompt:n.l10n.t("Api:"),pickerInputPlaceHolder:"33"},sdcard:{pickerInputPrompt:n.l10n.t("SD Card Size:"),pickerInputPlaceHolder:"512M"},avdName:{pickerInputPrompt:n.l10n.t("Name:"),pickerInputPlaceHolder:"pixel_5_api_33"},success:e=>n.l10n.t("Android virtual device {0} successfully created",[e??""]),failedMessage:n.l10n.t("An error occurred trying to create the Android virtual device."),updateSdkRequiredMessage:n.l10n.t("An error occurred trying to create the Android virtual device. The Android SDK needs to be updated."),updateSdkFailedMessage:n.l10n.t("An error occurred trying to create the Android virtual device. The Android SDK update failed."),failed:e=>`${t.mauiResources.debugTargetsManager.createAndroidEmulator.failedMessage} ${e??""}`,updateSdkFailed:e=>`${t.mauiResources.debugTargetsManager.createAndroidEmulator.updateSdkFailedMessage} ${e??""}`,noDeviceProfileSelectedError:n.l10n.t("No device profile selected."),noApiLevelSelectedError:n.l10n.t("No api level selected."),noSdcardSizeProvidedError:n.l10n.t("No sdcard size provided."),noNameProvidedError:n.l10n.t("No name provided.")},startUpProjectChangedEventCallbackError:(e,r)=>n.l10n.t("An error occurred trying to choose the default debug target for project {0}.\nError: {1}",[e?.name??"",t.mauiResources.getErrorMessage(r)])},debugTracing:{services:{androidDevicesChanged:n.l10n.t("Android devices changed"),appleDevicesChanged:n.l10n.t("Apple devices changed"),projectPropertiesChanged:e=>n.l10n.t("Project properties changed {0} -> {1} -> {2}",[e.propertiesGroup,e.properties,e.projectPath])},query:{changed:e=>n.l10n.t("Query changed"),completed:n.l10n.t("Query completed"),failed:e=>n.l10n.t("Query failed: {0}",[e])},projectQuery:{skipSubscription:"Already subscribed to project query, skipping...",projectsChanged:e=>n.l10n.t("ProjectQuery Changed: {0} projects versions: {1}",[e.Items?.length,JSON.stringify(e.Versions??"")]),completed:n.l10n.t("ProjectQuery completed"),failed:e=>n.l10n.t("ProjectQuery failed: {0}",[e]),subscribed:n.l10n.t("Subscribed to project changes"),subscriptionFailed:e=>n.l10n.t("Error subscribing to project changes: {0}",[e])},autoSdk:{getContextInfo:(e=void 0)=>e?.silentMode?`(${n.l10n.t("silent mode")})`:"",getServiceName:e=>e.commandIds.platformIdentifier===o.mauiCommons.services.workloadResolverServiceId?"MAUI SDK":e.commandIds.platformIdentifier===o.mauiCommons.services.appleServiceId?"Apple":e.commandIds.platformIdentifier===o.mauiCommons.services.androidServiceId?"Android":i.MauiKnownPlatforms.getDisplayName(e.commandIds.platformIdentifier),reset(e,t=void 0){return n.l10n.t("reseting status for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])},refresh(e,t=void 0){return n.l10n.t("refreshing status for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])},refreshFromAction(e,t){return n.l10n.t("updating notifications for {0}: '{1}'",[this.getServiceName(e),t.label])},refreshNotification(e,t=void 0,r){return n.l10n.t("updating notifications for {0} {1}: '{2}'",[this.getServiceName(e),this.getContextInfo(t),r.statusText??""])},refreshNotificationDiscarded(e,t=void 0){return n.l10n.t("update notifications discarded for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])},setState(e,t,r){return n.l10n.t("set state for {0} {1}: '{2}'",[this.getServiceName(e),this.getContextInfo(t),r.statusText])},verify(e,t=void 0){return n.l10n.t("start verifying environment for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])},reRunVerifyBecauseRefreshIsRequired(e,t=void 0){return n.l10n.t("rerun verification for {0} because refresh is required {1}",[this.getServiceName(e),this.getContextInfo(t)])},startService(e,t=void 0){return n.l10n.t("starting service for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])},runService(e,t=void 0){return n.l10n.t("run service for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])},stopService(e,t=void 0){return n.l10n.t("stopping service for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])},serviceFailed(e,t=void 0,r){return n.l10n.t("service failed for {0} {1}: {2}",[this.getServiceName(e),this.getContextInfo(t),r])},refreshDevices(e,t=void 0){return n.l10n.t("refreshing devices for {0} {1}",[this.getServiceName(e),this.getContextInfo(t)])}}}}},3117:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryActivity=void 0;const n=r(3109);class i extends n.TelemetryEvent{static startTimeMeasurementName="startTimeInMilliseconds";static endTimeMeasurementName="endTimeInMilliseconds";static durationMeasurementName="ActivityDurationInMilliseconds";startTime;endTime;constructor(e){super(e),this.startTime=Date.now()}start(){return this.startTime=Date.now(),this.endTime=void 0,this}end(){return void 0!==this.startTime&&(this.endTime=Date.now()),this}sendTelemetry(){void 0===this.endTime&&(this.endTime=Date.now()),this.measurements[i.startTimeMeasurementName]=this.startTime,this.measurements[i.endTimeMeasurementName]=this.endTime,this.measurements[i.durationMeasurementName]=this.endTime-this.startTime,super.sendTelemetry()}}t.TelemetryActivity=i},3109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryEvent=void 0;const n=r(6810);t.TelemetryEvent=class{eventName;properties;measurements;constructor(e){this.eventName=e,this.properties={},this.measurements={}}addOrUpdateProperties(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];r&&(this.properties[t]=r)}return this}addOrUpdateMeasurements(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];r&&(this.measurements[t]=r)}return this}sendTelemetry(){n.telemetryService?.sendTelemetryEvent(this.eventName,this.properties,this.measurements)}}},4630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryErrors=t.TelemetryStatus=void 0,t.TelemetryStatus={Success:"success",Failed:"failed",Canceled:"canceled"},t.TelemetryErrors={debug:{NoMAUIApplication:"NoMAUIApplication",EnvironmentNotReady:"EnvironmentNotReady",MAUISDKNotFound:"MAUISDKNotFound",XCodeNotFound:"XCodeNotFound",AndroidSDKNotFound:"AndroidSDKNotFound",AndroidUnacceptedLicenses:"AndroidUnacceptedLicenses",AndroidEmulatorNotFound:"AndroidEmulatorNotFound",AndroidEmulatorLaunchFailed:"AndroidEmulatorLaunchFailed",BuildFailed:"BuildFailed",BuildCanceled:"BuildCanceled"}}},5617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryService=void 0;const n=r(2291);t.TelemetryService=class{telemetryReporter;telemetryLogger;constructor(e,t){this.telemetryLogger=t;try{this.telemetryReporter=new n.default(e.extension.packageJSON.aiKey),e.subscriptions.push(this.telemetryReporter)}catch(e){this.telemetryLogger?.log(`Failed to create TelemetryReporter due to ${e}`),this.telemetryReporter=void 0}}sendTelemetryEvent(e,t,r){this.outputTelemetryToLog(e,t,r),this.telemetryReporter?.sendTelemetryEvent(e,t,r)}sendTelemetryErrorEvent(e,t,r){this.telemetryReporter?.sendTelemetryErrorEvent(e,t,r)}outputTelemetryToLog(e,t,r){if(this.telemetryLogger?.log(`Event: ${e}`),void 0!==t){this.telemetryLogger?.log("Properties");for(const e in t)this.telemetryLogger?.log(`  ${e}: ${t[e]}`)}if(void 0!==r){this.telemetryLogger?.log("Measurements");for(const e in r)this.telemetryLogger?.log(`  ${e}: ${r[e]}`)}this.telemetryLogger?.log("")}async dispose(){if(void 0!==this.telemetryReporter)return await this.telemetryReporter.dispose()}}},1152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTemporaryFile=t.createUniqueTemporaryFile=void 0;const n=r(6113),i=r(7147),o=r(2037),a=r(1017),s="TemporaryFile";async function u(e,t,r){let n=a.join(o.tmpdir(),`${e}`,`${t}`);const u=a.dirname(n);try{await i.promises.mkdir(u,{recursive:!0}),await i.promises.writeFile(n,""),await i.promises.chmod(n,384),process.on("exit",(e=>{i.unlink(n,(e=>{e&&(r?.log(`${s}.deleteFile: ${e}`),console.error(`Could not delete temp file: ${n}`))}))}))}catch(e){r?.log(`${s}.writeFile: ${e}`),console.error(`Could not create temp file: ${n}`)}return n}t.createUniqueTemporaryFile=async function(e,t,r,i){return u(e,t+"-"+(0,n.randomUUID)()+r,i)},t.createTemporaryFile=u},4779:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickDirectory=t.isSamePath=t.isWindowsProgramFiles=t.isLocationUserWritable=t.getLocalIPAddresses=t.getLoopbackAddress=t.getDebugHosts=t.lazyPromiseLambda=void 0;const n=r(7147),i=r(7031),o=r(2037),a=r(1017),s=r(9496),u=r(1346);function c(e){const t=o.networkInterfaces();let r=[];return e&&r.push("127.0.0.1"),t&&Object.values(t).forEach((e=>{e&&e.forEach((e=>{const t="string"==typeof e.family?"IPv4":4;e.family!==t||e.internal||r.push(e.address)}))})),r}t.lazyPromiseLambda=function(e){return new i.default(((t,r)=>{try{t(e())}catch(e){r(e)}}))},t.getDebugHosts=function(e){return c(e).join("%3b")},t.getLoopbackAddress=function(){return"127.0.0.1"},t.getLocalIPAddresses=c,t.isLocationUserWritable=function(e){const t=e&&e.trim(),r=a.join(e,"writeTest.txt");if(!t)return!1;try{return n.accessSync(e,n.constants.W_OK),n.writeFileSync(r,""),n.existsSync(r)}catch(e){return!1}finally{n.existsSync(r)&&n.unlinkSync(r)}},t.isWindowsProgramFiles=function(e){if(!e||!e.trim())return!1;if(!(0,u.isWindows)())return!1;var t=process.env["ProgramFiles(x86)"]??"",r=process.env.ProgramFiles??"",n=!(!t||!t.trim())&&e.toUpperCase().startsWith(t.toUpperCase()),i=!(!r||!r.trim())&&e.toUpperCase().startsWith(r.toUpperCase());return n||i},t.isSamePath=function(e,t){return e==t||Boolean(e&&e.trim()&&t&&t.trim()&&e!==t&&a.normalize(e).toLocaleLowerCase()===a.normalize(t).toLocaleLowerCase()).valueOf()},t.pickDirectory=async function(e,t,r,n){const i=await s.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:e,defaultUri:t&&t.trim()?s.Uri.file(t):void 0});if(1===i?.length){const e=a.normalize(i[0].fsPath);if(r(e))return e;var o=n(e);o&&o.trim()&&s.window.showErrorMessage(o)}return""}},2600:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NIL:()=>_,parse:()=>y,stringify:()=>f,v1:()=>v,v3:()=>b,v4:()=>P,v5:()=>k,validate:()=>c,version:()=>C});var n=r(6113),i=r.n(n);const o=new Uint8Array(256);let a=o.length;function s(){return a>o.length-16&&(i().randomFillSync(o),a=0),o.slice(a,a+=16)}const u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&u.test(e)},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function d(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}const f=function(e,t=0){const r=d(e,t);if(!c(r))throw TypeError("Stringified UUID is invalid");return r};let p,h,m=0,g=0;const v=function(e,t,r){let n=t&&r||0;const i=t||new Array(16);let o=(e=e||{}).node||p,a=void 0!==e.clockseq?e.clockseq:h;if(null==o||null==a){const t=e.random||(e.rng||s)();null==o&&(o=p=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=h=16383&(t[6]<<8|t[7]))}let u=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:g+1;const l=u-m+(c-g)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>m)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=u,g=c,h=a,u+=122192928e5;const f=(1e4*(268435455&u)+c)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;const v=u/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(let e=0;e<6;++e)i[n+e]=o[e];return t||d(i)},y=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function S(e,t,r){function n(e,n,i,o){var a;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==(null===(a=n)||void 0===a?void 0:a.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),s=r(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(let e=0;e<16;++e)i[o+e]=s[e];return i}return d(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}const b=S("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()})),w={randomUUID:i().randomUUID},P=function(e,t,r){if(w.randomUUID&&!t&&!e)return w.randomUUID();const n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return d(n)},k=S("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()})),_="00000000-0000-0000-0000-000000000000",C=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},3870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const n=r(839);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return n.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});const i=r(6184);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return i.Touch}});const o=r(3911);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const a=r(7135);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return a.Emitter}});const s=r(3881);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const u=r(8211);Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return u.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return u.SharedArrayReceiverStrategy}});const c=r(6525);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const l=r(6654);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const d=r(5530);Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return d.AbstractMessageBuffer}});const f=r(1343);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return f.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return f.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return f.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return f.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return f.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return f.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return f.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return f.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return f.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return f.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return f.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return f.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return f.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return f.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return f.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return f.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return f.MessageStrategy}});const p=r(147);t.RAL=p.default},3881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const n=r(147),i=r(7574),o=r(7135);var a;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const r=t;return r&&(r===e.None||r===e.Cancelled||i.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(a||(t.CancellationToken=a={}));const s=Object.freeze((function(e,t){const r=(0,n.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}));class u{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new u),this._token}cancel(){this._token?this._token.cancel():this._token=a.Cancelled}dispose(){this._token?this._token instanceof u&&this._token.dispose():this._token=a.None}}},1343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const n=r(147),i=r(7574),o=r(839),a=r(6184),s=r(7135),u=r(3881);var c,l,d,f,p,h,m,g,v,y,S,b,w,P,k,_,C,M,T;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(c||(c={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l||(t.ProgressToken=l={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(f||(f={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(p||(t.Trace=p={})),function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"}(h||(t.TraceValues=h={})),function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(p||(t.Trace=p={})),function(e){e.Text="text",e.JSON="json"}(m||(t.TraceFormat=m={})),function(e){e.fromString=function(t){return i.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(m||(t.TraceFormat=m={})),function(e){e.type=new o.NotificationType("$/setTrace")}(g||(t.SetTraceNotification=g={})),function(e){e.type=new o.NotificationType("$/logTrace")}(v||(t.LogTraceNotification=v={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(y||(t.ConnectionErrors=y={}));class I extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,I.prototype)}}t.ConnectionError=I,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(S||(t.ConnectionStrategy=S={})),function(e){e.is=function(e){const t=e;return t&&(void 0===t.kind||"id"===t.kind)&&i.func(t.createCancellationTokenSource)&&(void 0===t.dispose||i.func(t.dispose))}}(b||(t.IdCancellationReceiverStrategy=b={})),function(e){e.is=function(e){const t=e;return t&&"request"===t.kind&&i.func(t.createCancellationTokenSource)&&(void 0===t.dispose||i.func(t.dispose))}}(w||(t.RequestCancellationReceiverStrategy=w={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new u.CancellationTokenSource}),e.is=function(e){return b.is(e)||w.is(e)}}(P||(t.CancellationReceiverStrategy=P={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(c.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(k||(t.CancellationSenderStrategy=k={})),function(e){e.Message=Object.freeze({receiver:P.Message,sender:k.Message}),e.is=function(e){const t=e;return t&&P.is(t.receiver)&&k.is(t.sender)}}(_||(t.CancellationStrategy=_={})),function(e){e.is=function(e){const t=e;return t&&i.func(t.handleMessage)}}(C||(t.MessageStrategy=C={})),function(e){e.is=function(e){const t=e;return t&&(_.is(t.cancellationStrategy)||S.is(t.connectionStrategy)||C.is(t.messageStrategy))}}(M||(t.ConnectionOptions=M={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(T||(T={})),t.createMessageConnection=function(e,r,h,S){const w=void 0!==h?h:t.NullLogger;let P=0,k=0,M=0;const A="2.0";let D;const E=new Map;let j;const R=new Map,O=new Map;let x,N,L=new a.LinkedMap,F=new Map,B=new Set,U=new Map,z=p.Off,V=m.Text,q=T.New;const W=new s.Emitter,$=new s.Emitter,K=new s.Emitter,J=new s.Emitter,H=new s.Emitter,G=S&&S.cancellationStrategy?S.cancellationStrategy:_.Message;function Q(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function X(e){}function Z(){return q===T.Listening}function Y(){return q===T.Closed}function ee(){return q===T.Disposed}function te(){q!==T.New&&q!==T.Listening||(q=T.Closed,$.fire(void 0))}function re(){x||0===L.size||(x=(0,n.default)().timer.setImmediate((()=>{x=void 0,function(){if(0===L.size)return;const e=L.shift();try{const t=S?.messageStrategy;C.is(t)?t.handleMessage(e,ne):ne(e)}finally{re()}}()})))}function ne(e){o.Message.isRequest(e)?function(e){if(ee())return;function t(t,n,i){const a={jsonrpc:A,id:e.id};t instanceof o.ResponseError?a.error=t.toJson():a.result=void 0===t?null:t,ae(a,n,i),r.write(a).catch((()=>w.error("Sending response failed.")))}function n(t,n,i){const o={jsonrpc:A,id:e.id,error:t.toJson()};ae(o,n,i),r.write(o).catch((()=>w.error("Sending response failed.")))}!function(e){if(z!==p.Off&&N)if(V===m.Text){let t;z!==p.Verbose&&z!==p.Compact||!e.params||(t=`Params: ${oe(e.params)}\n\n`),N.log(`Received request '${e.method} - (${e.id})'.`,t)}else ue("receive-request",e)}(e);const a=E.get(e.method);let s,u;a&&(s=a.type,u=a.handler);const c=Date.now();if(u||D){const a=e.id??String(Date.now()),l=b.is(G.receiver)?G.receiver.createCancellationTokenSource(a):G.receiver.createCancellationTokenSource(e);null!==e.id&&B.has(e.id)&&l.cancel(),null!==e.id&&U.set(a,l);try{let d;if(u)if(void 0===e.params){if(void 0!==s&&0!==s.numberOfParams)return void n(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${s.numberOfParams} params but received none.`),e.method,c);d=u(l.token)}else if(Array.isArray(e.params)){if(void 0!==s&&s.parameterStructures===o.ParameterStructures.byName)return void n(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,c);d=u(...e.params,l.token)}else{if(void 0!==s&&s.parameterStructures===o.ParameterStructures.byPosition)return void n(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,c);d=u(e.params,l.token)}else D&&(d=D(e.method,e.params,l.token));const f=d;d?f.then?f.then((r=>{U.delete(a),t(r,e.method,c)}),(t=>{U.delete(a),t instanceof o.ResponseError?n(t,e.method,c):t&&i.string(t.message)?n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,c):n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)})):(U.delete(a),t(d,e.method,c)):(U.delete(a),function(t,n,i){void 0===t&&(t=null);const o={jsonrpc:A,id:e.id,result:t};ae(o,n,i),r.write(o).catch((()=>w.error("Sending response failed.")))}(d,e.method,c))}catch(r){U.delete(a),r instanceof o.ResponseError?t(r,e.method,c):r&&i.string(r.message)?n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${r.message}`),e.method,c):n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}}else n(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,c)}(e):o.Message.isNotification(e)?function(e){if(ee())return;let t,r;if(e.method===c.type.method){const t=e.params.id;return B.delete(t),void se(e)}{const n=R.get(e.method);n&&(r=n.handler,t=n.type)}if(r||j)try{if(se(e),r)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&w.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),r();else if(Array.isArray(e.params)){const n=e.params;e.method===d.type.method&&2===n.length&&l.is(n[0])?r({token:n[0],value:n[1]}):(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&w.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&w.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${n.length} arguments`)),r(...n))}else void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&w.error(`Notification ${e.method} defines parameters by position but received parameters by name`),r(e.params);else j&&j(e.method,e.params)}catch(t){t.message?w.error(`Notification handler '${e.method}' failed with message: ${t.message}`):w.error(`Notification handler '${e.method}' failed unexpectedly.`)}else K.fire(e)}(e):o.Message.isResponse(e)?function(e){if(!ee())if(null===e.id)e.error?w.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):w.error("Received response message without id. No further error information provided.");else{const t=e.id,r=F.get(t);if(function(e,t){if(z!==p.Off&&N)if(V===m.Text){let r;if(z!==p.Verbose&&z!==p.Compact||(e.error&&e.error.data?r=`Error data: ${oe(e.error.data)}\n\n`:e.result?r=`Result: ${oe(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){const n=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";N.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${n}`,r)}else N.log(`Received response ${e.id} without active response promise.`,r)}else ue("receive-response",e)}(e,r),void 0!==r){F.delete(t);try{if(e.error){const t=e.error;r.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?w.error(`Response handler '${r.method}' failed with message: ${e.message}`):w.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void w.error("Received empty message.");w.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=t.id,r=F.get(e);r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}e.onClose(te),e.onError((function(e){W.fire([e,void 0,void 0])})),r.onClose(te),r.onError((function(e){W.fire(e)}));const ie=e=>{try{if(o.Message.isNotification(e)&&e.method===c.type.method){const t=e.params.id,n=Q(t),i=L.get(n);if(o.Message.isRequest(i)){const o=S?.connectionStrategy,a=o&&o.cancelUndispatched?o.cancelUndispatched(i,X):void 0;if(a&&(void 0!==a.error||void 0!==a.result))return L.delete(n),U.delete(t),a.id=i.id,ae(a,e.method,Date.now()),void r.write(a).catch((()=>w.error("Sending response for canceled message failed.")))}const a=U.get(t);if(void 0!==a)return a.cancel(),void se(e);B.add(t)}!function(e,t){var r;o.Message.isRequest(t)?e.set(Q(t.id),t):o.Message.isResponse(t)?e.set(null===(r=t.id)?"res-unknown-"+(++M).toString():"res-"+r.toString(),t):e.set("not-"+(++k).toString(),t)}(L,e)}finally{re()}};function oe(e){if(null!=e)switch(z){case p.Verbose:return JSON.stringify(e,null,4);case p.Compact:return JSON.stringify(e);default:return}}function ae(e,t,r){if(z!==p.Off&&N)if(V===m.Text){let n;z!==p.Verbose&&z!==p.Compact||(e.error&&e.error.data?n=`Error data: ${oe(e.error.data)}\n\n`:e.result?n=`Result: ${oe(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),N.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,n)}else ue("send-response",e)}function se(e){if(z!==p.Off&&N&&e.method!==v.type.method)if(V===m.Text){let t;z!==p.Verbose&&z!==p.Compact||(t=e.params?`Params: ${oe(e.params)}\n\n`:"No parameters provided.\n\n"),N.log(`Received notification '${e.method}'.`,t)}else ue("receive-notification",e)}function ue(e,t){if(!N||z===p.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};N.log(r)}function ce(){if(Y())throw new I(y.Closed,"Connection is closed.");if(ee())throw new I(y.Disposed,"Connection is disposed.")}function le(e){return void 0===e?null:e}function de(e){return null===e?void 0:e}function fe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function pe(e,t){switch(e){case o.ParameterStructures.auto:return fe(t)?de(t):[le(t)];case o.ParameterStructures.byName:if(!fe(t))throw new Error("Received parameters by name but param is not an object literal.");return de(t);case o.ParameterStructures.byPosition:return[le(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function he(e,t){let r;const n=e.numberOfParams;switch(n){case 0:r=void 0;break;case 1:r=pe(e.parameterStructures,t[0]);break;default:r=[];for(let e=0;e<t.length&&e<n;e++)r.push(le(t[e]));if(t.length<n)for(let e=t.length;e<n;e++)r.push(null)}return r}const me={sendNotification:(e,...t)=>{let n,a;if(ce(),i.string(e)){n=e;const r=t[0];let i=0,s=o.ParameterStructures.auto;o.ParameterStructures.is(r)&&(i=1,s=r);let u=t.length;const c=u-i;switch(c){case 0:a=void 0;break;case 1:a=pe(s,t[i]);break;default:if(s===o.ParameterStructures.byName)throw new Error(`Received ${c} parameters for 'by Name' notification parameter structure.`);a=t.slice(i,u).map((e=>le(e)))}}else{const r=t;n=e.method,a=he(e,r)}const s={jsonrpc:A,method:n,params:a};return function(e){if(z!==p.Off&&N)if(V===m.Text){let t;z!==p.Verbose&&z!==p.Compact||(t=e.params?`Params: ${oe(e.params)}\n\n`:"No parameters provided.\n\n"),N.log(`Sending notification '${e.method}'.`,t)}else ue("send-notification",e)}(s),r.write(s).catch((e=>{throw w.error("Sending notification failed."),e}))},onNotification:(e,t)=>{let r;return ce(),i.func(e)?j=e:t&&(i.string(e)?(r=e,R.set(e,{type:void 0,handler:t})):(r=e.method,R.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==r?R.delete(r):j=void 0}}},onProgress:(e,t,r)=>{if(O.has(t))throw new Error(`Progress handler for token ${t} already registered`);return O.set(t,r),{dispose:()=>{O.delete(t)}}},sendProgress:(e,t,r)=>me.sendNotification(d.type,{token:t,value:r}),onUnhandledProgress:J.event,sendRequest:(e,...t)=>{let n,a,s;if(ce(),function(){if(!Z())throw new Error("Call listen() first.")}(),i.string(e)){n=e;const r=t[0],i=t[t.length-1];let c=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(r)&&(c=1,l=r);let d=t.length;u.CancellationToken.is(i)&&(d-=1,s=i);const f=d-c;switch(f){case 0:a=void 0;break;case 1:a=pe(l,t[c]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Received ${f} parameters for 'by Name' request parameter structure.`);a=t.slice(c,d).map((e=>le(e)))}}else{const r=t;n=e.method,a=he(e,r);const i=e.numberOfParams;s=u.CancellationToken.is(r[i])?r[i]:void 0}const c=P++;let l;s&&(l=s.onCancellationRequested((()=>{const e=G.sender.sendCancellation(me,c);return void 0===e?(w.log(`Received no promise from cancellation strategy when cancelling id ${c}`),Promise.resolve()):e.catch((()=>{w.log(`Sending cancellation messages for id ${c} failed`)}))})));const d={jsonrpc:A,id:c,method:n,params:a};return function(e){if(z!==p.Off&&N)if(V===m.Text){let t;z!==p.Verbose&&z!==p.Compact||!e.params||(t=`Params: ${oe(e.params)}\n\n`),N.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ue("send-request",e)}(d),"function"==typeof G.sender.enableCancellation&&G.sender.enableCancellation(d),new Promise((async(e,t)=>{const i={method:n,timerStart:Date.now(),resolve:t=>{e(t),G.sender.cleanup(c),l?.dispose()},reject:e=>{t(e),G.sender.cleanup(c),l?.dispose()}};try{await r.write(d),F.set(c,i)}catch(e){throw w.error("Sending request failed."),i.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),e}}))},onRequest:(e,t)=>{ce();let r=null;return f.is(e)?(r=void 0,D=e):i.string(e)?(r=null,void 0!==t&&(r=e,E.set(e,{handler:t,type:void 0}))):void 0!==t&&(r=e.method,E.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==r&&(void 0!==r?E.delete(r):D=void 0)}}},hasPendingResponse:()=>F.size>0,trace:async(e,t,r)=>{let n=!1,o=m.Text;void 0!==r&&(i.boolean(r)?n=r:(n=r.sendNotification||!1,o=r.traceFormat||m.Text)),z=e,V=o,N=z===p.Off?void 0:t,!n||Y()||ee()||await me.sendNotification(g.type,{value:p.toString(e)})},onError:W.event,onClose:$.event,onUnhandledNotification:K.event,onDispose:H.event,end:()=>{r.end()},dispose:()=>{if(ee())return;q=T.Disposed,H.fire(void 0);const t=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of F.values())e.reject(t);F=new Map,U=new Map,B=new Set,L=new a.LinkedMap,i.func(r.dispose)&&r.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{ce(),function(){if(Z())throw new I(y.AlreadyListening,"Connection is already listening")}(),q=T.Listening,e.listen(ie)},inspect:()=>{(0,n.default)().console.log("inspect")}};return me.onNotification(v.type,(e=>{if(z===p.Off||!N)return;const t=z===p.Verbose||z===p.Compact;N.log(e.message,t?e.verbose:void 0)})),me.onNotification(d.type,(e=>{const t=O.get(e.token);t?t(e.value):J.fire(e)})),me}},3911:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(r||(t.Disposable=r={}))},7135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const n=r(147);var i;!function(e){const t={dispose(){}};e.None=function(){return t}}(i||(t.Event=i={}));class o{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=r.length;o<a;o++)try{t.push(r[o].apply(i[o],e))}catch(e){(0,n.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class a{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const n={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),n.dispose=a._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=a,a._noop=function(){}},7574:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=n,t.stringArray=function(e){return n(e)&&e.every((e=>r(e)))}},6184:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(n||(t.Touch=n={}));class i{constructor(){this[r]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=n.None){const r=this._map.get(e);if(r)return t!==n.None&&this.touch(r,t),r.value}set(e,t,r=n.None){let i=this._map.get(e);if(i)i.value=t,r!==n.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case n.None:this.addItemLast(i);break;case n.First:this.addItemFirst(i);break;case n.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const r=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return r}[(r=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===n.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,r)=>{e.push([r,t])})),e}fromJSON(e){this.clear();for(const[t,r]of e)this.set(t,r)}}t.LinkedMap=i,t.LRUCache=class extends i{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=n.AsNew){return super.get(e,t)}peek(e){return super.get(e,n.None)}set(e,t){return super.set(e,t,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},5530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(0===this._chunks.length)return;let t=0,r=0,n=0,i=0;e:for(;r<this._chunks.length;){const e=this._chunks[r];for(n=0;n<e.length;){switch(e[n]){case 13:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case 10:switch(t){case 1:t=2;break;case 3:t=4,n++;break e;default:t=0}break;default:t=0}n++}i+=e.byteLength,r++}if(4!==t)return;const o=this._read(i+n),a=new Map,s=this.toString(o,"ascii").split("\r\n");if(s.length<2)return a;for(let t=0;t<s.length-2;t++){const r=s[t],n=r.indexOf(":");if(-1===n)throw new Error(`Message header must separate key and value using ':'\n${r}`);const i=r.substr(0,n),o=r.substr(n+1).trim();a.set(e?i.toLowerCase():i,o)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],r=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,r}const t=this.allocNative(e);let r=0;for(;e>0;){const n=this._chunks[0];if(n.byteLength>e){const i=n.slice(0,e);t.set(i,r),r+=e,this._chunks[0]=n.slice(e),this._totalLength-=e,e-=e}else t.set(n,r),r+=n.byteLength,this._chunks.shift(),this._totalLength-=n.byteLength,e-=n.byteLength}return t}}},6525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const n=r(147),i=r(7574),o=r(7135),a=r(142);var s,u;!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(s||(t.MessageReader=s={}));class c{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=c,function(e){e.fromOptions=function(e){let t,r;const i=new Map;let o;const a=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(r=e.contentDecoder,i.set(r.name,r)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)i.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(o=e.contentTypeDecoder,a.set(o.name,o)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)a.set(t.name,t)}return void 0===o&&(o=(0,n.default)().applicationJson.decoder,a.set(o.name,o)),{charset:t,contentDecoder:r,contentDecoders:i,contentTypeDecoder:o,contentTypeDecoders:a}}}(u||(u={})),t.ReadableStreamMessageReader=class extends c{constructor(e,t){super(),this.readable=e,this.options=u.fromOptions(t),this.buffer=(0,n.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new a.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){try{for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders(!0);if(!e)return;const t=e.get("content-length");if(!t)return void this.fireError(new Error(`Header must provide a Content-Length property.\n${JSON.stringify(Object.fromEntries(e))}`));const r=parseInt(t);if(isNaN(r))return void this.fireError(new Error(`Content-Length value must be a number. Got ${t}`));this.nextMessageLength=r}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock((async()=>{const t=void 0!==this.options.contentDecoder?await this.options.contentDecoder.decode(e):e,r=await this.options.contentTypeDecoder.decode(t,this.options);this.callback(r)})).catch((e=>{this.fireError(e)}))}}catch(e){this.fireError(e)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,n.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const n=r(147),i=r(7574),o=r(142),a=r(7135);var s,u;!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(s||(t.MessageWriter=s={}));class c{constructor(){this.errorEmitter=new a.Emitter,this.closeEmitter=new a.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,n.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,n.default)().applicationJson.encoder}}}(u||(u={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=u.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const r=[];return r.push("Content-Length: ",t.byteLength.toString(),"\r\n"),r.push("\r\n"),this.doWrite(e,r,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,r){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(r)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const n=r(7574);var i,o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(i||(t.ErrorCodes=i={}));class a extends Error{constructor(e,t,r){super(t),this.code=n.number(e)?e:i.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,a.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=a;class s{constructor(e){this.kind=e}static is(e){return e===s.auto||e===s.byName||e===s.byPosition}toString(){return this.kind}}t.ParameterStructures=s,s.auto=new s("auto"),s.byPosition=new s("byPosition"),s.byName=new s("byName");class u{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return s.auto}}t.AbstractMessageSignature=u,t.RequestType0=class extends u{constructor(e){super(e,0)}},t.RequestType=class extends u{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends u{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends u{constructor(e){super(e,2)}},t.RequestType3=class extends u{constructor(e){super(e,3)}},t.RequestType4=class extends u{constructor(e){super(e,4)}},t.RequestType5=class extends u{constructor(e){super(e,5)}},t.RequestType6=class extends u{constructor(e){super(e,6)}},t.RequestType7=class extends u{constructor(e){super(e,7)}},t.RequestType8=class extends u{constructor(e){super(e,8)}},t.RequestType9=class extends u{constructor(e){super(e,9)}},t.NotificationType=class extends u{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends u{constructor(e){super(e,0)}},t.NotificationType1=class extends u{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends u{constructor(e){super(e,2)}},t.NotificationType3=class extends u{constructor(e){super(e,3)}},t.NotificationType4=class extends u{constructor(e){super(e,4)}},t.NotificationType5=class extends u{constructor(e){super(e,5)}},t.NotificationType6=class extends u{constructor(e){super(e,6)}},t.NotificationType7=class extends u{constructor(e){super(e,7)}},t.NotificationType8=class extends u{constructor(e){super(e,8)}},t.NotificationType9=class extends u{constructor(e){super(e,9)}},function(e){e.isRequest=function(e){const t=e;return t&&n.string(t.method)&&(n.string(t.id)||n.number(t.id))},e.isNotification=function(e){const t=e;return t&&n.string(t.method)&&void 0===e.id},e.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(n.string(t.id)||n.number(t.id)||null===t.id)}}(o||(t.Message=o={}))},147:(e,t)=>{"use strict";let r;function n(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(n||(n={})),t.default=n},142:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const n=r(147);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,n.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},8211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=void 0;const n=r(3881);var i;!function(e){e.Continue=0,e.Cancelled=1}(i||(i={})),t.SharedArraySenderStrategy=class{constructor(){this.buffers=new Map}enableCancellation(e){if(null===e.id)return;const t=new SharedArrayBuffer(4);new Int32Array(t,0,1)[0]=i.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){const r=this.buffers.get(t);if(void 0===r)return;const n=new Int32Array(r,0,1);Atomics.store(n,0,i.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};class o{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===i.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class a{constructor(e){this.token=new o(e)}cancel(){}dispose(){}}t.SharedArrayReceiverStrategy=class{constructor(){this.kind="request"}createCancellationTokenSource(e){const t=e.$cancellationData;return void 0===t?new n.CancellationTokenSource:new a(t)}}},4389:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.PortMessageWriter=t.PortMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=r(3034);o.default.install();const a=r(1017),s=r(2037),u=r(6113),c=r(1808),l=r(3870);i(r(3870),t);class d extends l.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),l.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class f extends l.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;const t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=f;class p extends l.AbstractMessageReader{constructor(e){super(),this.onData=new l.Emitter,e.on("close",(()=>this.fireClose)),e.on("error",(e=>this.fireError(e))),e.on("message",(e=>{this.onData.fire(e)}))}listen(e){return this.onData.event(e)}}t.PortMessageReader=p;class h extends l.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",(()=>this.fireClose())),e.on("error",(e=>this.fireError(e)))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.PortMessageWriter=h;class m extends l.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,o.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=m;class g extends l.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=g;class v extends l.ReadableStreamMessageReader{constructor(e,t){super((0,o.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=v;class y extends l.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=y;const S=process.env.XDG_RUNTIME_DIR,b=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=(0,u.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=S?a.join(S,`vscode-ipc-${e}.sock`):a.join(s.tmpdir(),`vscode-${e}.sock`);const r=b.get(process.platform);return void 0!==r&&t.length>r&&(0,o.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let r;const n=new Promise(((e,t)=>{r=e}));return new Promise(((i,o)=>{let a=(0,c.createServer)((e=>{a.close(),r([new m(e,t),new g(e,t)])}));a.on("error",o),a.listen(e,(()=>{a.removeListener("error",o),i({onConnected:()=>n})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const r=(0,c.createConnection)(e);return[new m(r,t),new g(r,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let r;const n=new Promise(((e,t)=>{r=e}));return new Promise(((i,o)=>{const a=(0,c.createServer)((e=>{a.close(),r([new m(e,t),new g(e,t)])}));a.on("error",o),a.listen(e,"127.0.0.1",(()=>{a.removeListener("error",o),i({onConnected:()=>n})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const r=(0,c.createConnection)(e,"127.0.0.1");return[new m(r,t),new g(r,t)]},t.createMessageConnection=function(e,t,r,n){r||(r=l.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new v(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new y(t):t;return l.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,l.createMessageConnection)(i,o,r,n)}},3034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3837),i=r(3870);class o extends i.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return o.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new n.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}o.emptyBuffer=Buffer.allocUnsafe(0);class a{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),i.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),i.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),i.Disposable.create((()=>this.stream.off("data",e)))}}class s{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),i.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),i.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((r,n)=>{const i=e=>{null==e?r():n(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const u=Object.freeze({messageBuffer:Object.freeze({create:e=>new o(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new n.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new a(e),asWritableStream:e=>new s(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){const n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){const r=setImmediate(e,...t);return{dispose:()=>clearImmediate(r)}},setInterval(e,t,...r){const n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function c(){return u}!function(e){e.install=function(){i.RAL.install(u)}}(c||(c={})),t.default=c},5028:(e,t,r)=>{"use strict";e.exports=r(4389)},9496:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},3639:e=>{"use strict";e.exports=require("domain")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},3837:e=>{"use strict";e.exports=require("util")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(6810);module.exports=n})();
// SIG // Begin signature block
// SIG // MIIlvQYJKoZIhvcNAQcCoIIlrjCCJaoCAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // A2V8JHGlHwJL26fHGasJZMzVFV1qqz9c1dOL1PQrjKyg
// SIG // ggt2MIIE/jCCA+agAwIBAgITMwAABVbJICsfdDJdLQAA
// SIG // AAAFVjANBgkqhkiG9w0BAQsFADB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDEwMB4XDTIzMTAxOTE5NTExMVoX
// SIG // DTI0MTAxNjE5NTExMVowdDELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEeMBwGA1UEAxMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
// SIG // MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
// SIG // ltpIPPc1p7LIgxvQBav7MapD0+N1eDGer8LuwuPrJcuO
// SIG // kCQOFDcUkZxg8/bvH9fDkdfwK/YLkA6kbYazjpLS2qJe
// SIG // PR2X7/JdQxHgf7oLlktKhSCXvnCum+4K1X5dEme1PMjl
// SIG // 7uu5+ds/kCTfolMXCJNClnLv7CWfCn3sCsZzQzAyBx4V
// SIG // B7yI0FobysTiwv08C9IuME8pF7kMG8CGbrhou02APNkN
// SIG // i5GDi5cDkzzm9HqMIXFCOwml5VN9CIKBuH62PprWTGZ0
// SIG // 8dIGv2t+hlTXaujXgSs5RmywdNv1iD/nOQAwwl7IXlqZ
// SIG // IsybfWj4c2LqJ7fjcdDoSB9OJSRbwqo5YwIDAQABo4IB
// SIG // fTCCAXkwHwYDVR0lBBgwFgYKKwYBBAGCNz0GAQYIKwYB
// SIG // BQUHAwMwHQYDVR0OBBYEFCbfBYUBcF+4OQP9HpQ8ZI8M
// SIG // PNnaMFQGA1UdEQRNMEukSTBHMS0wKwYDVQQLEyRNaWNy
// SIG // b3NvZnQgSXJlbGFuZCBPcGVyYXRpb25zIExpbWl0ZWQx
// SIG // FjAUBgNVBAUTDTIzMDg2NSs1MDE2NTUwHwYDVR0jBBgw
// SIG // FoAU5vxfe7siAFjkck619CF0IzLm76wwVgYDVR0fBE8w
// SIG // TTBLoEmgR4ZFaHR0cDovL2NybC5taWNyb3NvZnQuY29t
// SIG // L3BraS9jcmwvcHJvZHVjdHMvTWljQ29kU2lnUENBXzIw
// SIG // MTAtMDctMDYuY3JsMFoGCCsGAQUFBwEBBE4wTDBKBggr
// SIG // BgEFBQcwAoY+aHR0cDovL3d3dy5taWNyb3NvZnQuY29t
// SIG // L3BraS9jZXJ0cy9NaWNDb2RTaWdQQ0FfMjAxMC0wNy0w
// SIG // Ni5jcnQwDAYDVR0TAQH/BAIwADANBgkqhkiG9w0BAQsF
// SIG // AAOCAQEAQp2ZaDMYxwVRyRD+nftLexAyXzQdIe4/Yjl+
// SIG // i0IjzHUAFdcagOiYG/1RD0hFbNO+ggCZ9yj+Saa+Azrq
// SIG // NdgRNgqArrGQx5/u2j9ssZ4DBhkHCSs+FHzswzEvWK9r
// SIG // Jd0enzD9fE+AnubeyGBSt+jyPx37xzvAMwd09CoVSIn6
// SIG // rEsGfJhLpMP8IuHbiWLpWMVdpWNpDB8L/zirygLK03d9
// SIG // /B5Z7kfs/TWb0rTVItWvLE8HBDKxD/JYLaMWmXtGKbvz
// SIG // oZ+D6k3nxFVikCS1Nihciw5KGpg3XtMnQM8x2BKnQUDF
// SIG // tIMVsryfX44BfwtjykFbv9EjAYXMKNOHhc3/8O6WfzCC
// SIG // BnAwggRYoAMCAQICCmEMUkwAAAAAAAMwDQYJKoZIhvcN
// SIG // AQELBQAwgYgxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpX
// SIG // YXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYD
// SIG // VQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xMjAwBgNV
// SIG // BAMTKU1pY3Jvc29mdCBSb290IENlcnRpZmljYXRlIEF1
// SIG // dGhvcml0eSAyMDEwMB4XDTEwMDcwNjIwNDAxN1oXDTI1
// SIG // MDcwNjIwNTAxN1owfjELMAkGA1UEBhMCVVMxEzARBgNV
// SIG // BAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQx
// SIG // HjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEo
// SIG // MCYGA1UEAxMfTWljcm9zb2Z0IENvZGUgU2lnbmluZyBQ
// SIG // Q0EgMjAxMDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC
// SIG // AQoCggEBAOkOZFB5Z7XE4/0JAEyelKz3VmjqRNjPxVhP
// SIG // qaV2fG1FutM5krSkHvn5ZYLkF9KP/UScCOhlk84sVYS/
// SIG // fQjjLiuoQSsYt6JLbklMaxUH3tHSwokecZTNtX9LtK8I
// SIG // 2MyI1msXlDqTziY/7Ob+NJhX1R1dSfayKi7VhbtZP/iQ
// SIG // tCuDdMorsztG4/BGScEXZlTJHL0dxFViV3L4Z7klIDTe
// SIG // XaallV6rKIDN1bKe5QO1Y9OyFMjByIomCll/B+z/Du2A
// SIG // EjVMEqa+Ulv1ptrgiwtId9aFR9UQucboqu6Lai0FXGDG
// SIG // tCpbnCMcX0XjGhQebzfLGTOAaolNo2pmY3iT1TDPlR8C
// SIG // AwEAAaOCAeMwggHfMBAGCSsGAQQBgjcVAQQDAgEAMB0G
// SIG // A1UdDgQWBBTm/F97uyIAWORyTrX0IXQjMubvrDAZBgkr
// SIG // BgEEAYI3FAIEDB4KAFMAdQBiAEMAQTALBgNVHQ8EBAMC
// SIG // AYYwDwYDVR0TAQH/BAUwAwEB/zAfBgNVHSMEGDAWgBTV
// SIG // 9lbLj+iiXGJo0T2UkFvXzpoYxDBWBgNVHR8ETzBNMEug
// SIG // SaBHhkVodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtp
// SIG // L2NybC9wcm9kdWN0cy9NaWNSb29DZXJBdXRfMjAxMC0w
// SIG // Ni0yMy5jcmwwWgYIKwYBBQUHAQEETjBMMEoGCCsGAQUF
// SIG // BzAChj5odHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtp
// SIG // L2NlcnRzL01pY1Jvb0NlckF1dF8yMDEwLTA2LTIzLmNy
// SIG // dDCBnQYDVR0gBIGVMIGSMIGPBgkrBgEEAYI3LgMwgYEw
// SIG // PQYIKwYBBQUHAgEWMWh0dHA6Ly93d3cubWljcm9zb2Z0
// SIG // LmNvbS9QS0kvZG9jcy9DUFMvZGVmYXVsdC5odG0wQAYI
// SIG // KwYBBQUHAgIwNB4yIB0ATABlAGcAYQBsAF8AUABvAGwA
// SIG // aQBjAHkAXwBTAHQAYQB0AGUAbQBlAG4AdAAuIB0wDQYJ
// SIG // KoZIhvcNAQELBQADggIBABp071dPKXvEFoV4uFDTIvwJ
// SIG // nayCl/g0/yosl5US5eS/z7+TyOM0qduBuNweAL7SNW+v
// SIG // 5X95lXflAtTx69jNTh4bYaLCWiMa8IyoYlFFZwjjPzwe
// SIG // k/gwhRfIOUCm1w6zISnlpaFpjCKTzHSY56FHQ/JTrMAP
// SIG // MGl//tIlIG1vYdPfB9XZcgAsaYZ2PVHbpjlIyTdhbQfd
// SIG // UxnLp9Zhwr/ig6sP4GubldZ9KFGwiUpRpJpsyLcfShoO
// SIG // aanX3MF+0Ulwqratu3JHYxf6ptaipobsqBBEm2O2smmJ
// SIG // BsdGhnoYP+jFHSHVe/kCIy3FQcu/HUzIFu+xnH/8IktJ
// SIG // im4V46Z/dlvRU3mRhZ3V0ts9czXzPK5UslJHasCqE5XS
// SIG // jhHamWdeMoz7N4XR3HWFnIfGWleFwr/dDY+Mmy3rtO7P
// SIG // J9O1Xmn6pBYEAackZ3PPTU+23gVWl3r36VJN9HcFT4XG
// SIG // 2Avxju1CCdENduMjVngiJja+yrGMbqod5IXaRzNij6TJ
// SIG // kTNfcR5Ar5hlySLoQiElihwtYNk3iUGJKhYP12E8lGhg
// SIG // Uu/WR5mggEDuFYF3PpzgUxgaUB04lZseZjMTJzkXeIc2
// SIG // zk7DX7L1PUdTtuDl2wthPSrXkizON1o+QEIxpB8QCMJW
// SIG // nL8kXVECnWp50hfT2sGUjgd7JXFEqwZq5tTG3yOalnXF
// SIG // MYIZnzCCGZsCAQEwgZUwfjELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEoMCYGA1UEAxMfTWljcm9zb2Z0IENvZGUgU2lnbmlu
// SIG // ZyBQQ0EgMjAxMAITMwAABVbJICsfdDJdLQAAAAAFVjAN
// SIG // BglghkgBZQMEAgEFAKCBrjAZBgkqhkiG9w0BCQMxDAYK
// SIG // KwYBBAGCNwIBBDAcBgorBgEEAYI3AgELMQ4wDAYKKwYB
// SIG // BAGCNwIBFTAvBgkqhkiG9w0BCQQxIgQgYmcmsm2ojRKJ
// SIG // Wp/lAPFyFDrWOAroT3DugkrPz3PK3cQwQgYKKwYBBAGC
// SIG // NwIBDDE0MDKgFIASAE0AaQBjAHIAbwBzAG8AZgB0oRqA
// SIG // GGh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbTANBgkqhkiG
// SIG // 9w0BAQEFAASCAQBPf98O7xRJnYgidewFY0pwtKg9Pr/4
// SIG // 2EBYxPx9G3iU5/FttHnUTlZQ7wKjaY9cZTvQfvd3ZVJA
// SIG // IpSJKNpRT14lPO6trrUJ+O2L8ecvbysP3koMs0iTj6q0
// SIG // /mmiqvb3r456N4ocR0NrF56fvb2w4Ydk2sEWROUbAmDb
// SIG // lmVLjmYsyGYUDlFuuEzB1BBuRrAGLkWIm9vBixiQTUUg
// SIG // J12JE7IxiOIx5FDgKcrn+1fImJa04Cwh9cSXKOxj0jXG
// SIG // BHCn0+dCIGlofAAcLXrREsijvwot8jkM0q7RI0poHvPN
// SIG // Z1iuoJXolEz32SlZaiEGqjh4SSS6OqRam35v4OVAvBHH
// SIG // JA+soYIXKTCCFyUGCisGAQQBgjcDAwExghcVMIIXEQYJ
// SIG // KoZIhvcNAQcCoIIXAjCCFv4CAQMxDzANBglghkgBZQME
// SIG // AgEFADCCAVkGCyqGSIb3DQEJEAEEoIIBSASCAUQwggFA
// SIG // AgEBBgorBgEEAYRZCgMBMDEwDQYJYIZIAWUDBAIBBQAE
// SIG // IH6d2Quo/gQsCUKnS3oNYFKmZzS/myhX7aUMkb9D8e7m
// SIG // AgZl/JzDdrQYEzIwMjQwNDA1MTcyMDUzLjczOFowBIAC
// SIG // AfSggdikgdUwgdIxCzAJBgNVBAYTAlVTMRMwEQYDVQQI
// SIG // EwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4w
// SIG // HAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xLTAr
// SIG // BgNVBAsTJE1pY3Jvc29mdCBJcmVsYW5kIE9wZXJhdGlv
// SIG // bnMgTGltaXRlZDEmMCQGA1UECxMdVGhhbGVzIFRTUyBF
// SIG // U046RkM0MS00QkQ0LUQyMjAxJTAjBgNVBAMTHE1pY3Jv
// SIG // c29mdCBUaW1lLVN0YW1wIFNlcnZpY2WgghF4MIIHJzCC
// SIG // BQ+gAwIBAgITMwAAAeKZmZXx3OMg6wABAAAB4jANBgkq
// SIG // hkiG9w0BAQsFADB8MQswCQYDVQQGEwJVUzETMBEGA1UE
// SIG // CBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEe
// SIG // MBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSYw
// SIG // JAYDVQQDEx1NaWNyb3NvZnQgVGltZS1TdGFtcCBQQ0Eg
// SIG // MjAxMDAeFw0yMzEwMTIxOTA3MjVaFw0yNTAxMTAxOTA3
// SIG // MjVaMIHSMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2Fz
// SIG // aGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UE
// SIG // ChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMS0wKwYDVQQL
// SIG // EyRNaWNyb3NvZnQgSXJlbGFuZCBPcGVyYXRpb25zIExp
// SIG // bWl0ZWQxJjAkBgNVBAsTHVRoYWxlcyBUU1MgRVNOOkZD
// SIG // NDEtNEJENC1EMjIwMSUwIwYDVQQDExxNaWNyb3NvZnQg
// SIG // VGltZS1TdGFtcCBTZXJ2aWNlMIICIjANBgkqhkiG9w0B
// SIG // AQEFAAOCAg8AMIICCgKCAgEAtWO1mFX6QWZvxwpCmDab
// SIG // OKwOVEj3vwZvZqYa9sCYJ3TglUZ5N79AbMzwptCswOiX
// SIG // sMLuNLTcmRys+xaL1alXCwhyRFDwCRfWJ0Eb0eHIKykB
// SIG // q9+6/PnmSGXtus9DHsf31QluwTfAyamYlqw9amAXTnNm
// SIG // W+lZANQsNwhjKXmVcjgdVnk3oxLFY7zPBaviv3GQyZRe
// SIG // zsgLEMmvlrf1JJ48AlEjLOdohzRbNnowVxNHMss3I8ET
// SIG // gqtW/UsV33oU3EDPCd61J4+DzwSZF7OvZPcdMUSWd4lf
// SIG // JBh3phDt4IhzvKWVahjTcISD2CGiun2pQpwFR8VxLhcS
// SIG // V/cZIRGeXMmwruz9kY9Th1odPaNYahiFrZAI6aSCM6YE
// SIG // UKpAUXAWaw+tmPh5CzNjGrhzgeo+dS7iFPhqqm9Rneog
// SIG // 5dt3JTjak0v3dyfSs9NOV45Sw5BuC+VF22EUIF6nF9vq
// SIG // duynd9xlo8F9Nu1dVryctC4wIGrJ+x5u6qdvCP6UdB+o
// SIG // qmK+nJ3soJYAKiPvxdTBirLUfJidK1OZ7hP28rq7Y78p
// SIG // OF9E54keJKDjjKYWP7fghwUSE+iBoq802xNWbhBuqmEL
// SIG // KSevAHKqisEIsfpuWVG0kwnCa7sZF1NCwjHYcwqqmES2
// SIG // lKbXPe58BJ0+uA+GxAhEWQdka6KEvUmOPgu7cJsCaFrS
// SIG // U6sCAwEAAaOCAUkwggFFMB0GA1UdDgQWBBREhA4R2r7t
// SIG // B2yWm0mIJE2leAnaBTAfBgNVHSMEGDAWgBSfpxVdAF5i
// SIG // XYP05dJlpxtTNRnpcjBfBgNVHR8EWDBWMFSgUqBQhk5o
// SIG // dHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpb3BzL2Ny
// SIG // bC9NaWNyb3NvZnQlMjBUaW1lLVN0YW1wJTIwUENBJTIw
// SIG // MjAxMCgxKS5jcmwwbAYIKwYBBQUHAQEEYDBeMFwGCCsG
// SIG // AQUFBzAChlBodHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20v
// SIG // cGtpb3BzL2NlcnRzL01pY3Jvc29mdCUyMFRpbWUtU3Rh
// SIG // bXAlMjBQQ0ElMjAyMDEwKDEpLmNydDAMBgNVHRMBAf8E
// SIG // AjAAMBYGA1UdJQEB/wQMMAoGCCsGAQUFBwMIMA4GA1Ud
// SIG // DwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAgEA5FRE
// SIG // MatVFNue6V+yDZxOzLKHthe+FVTs1kyQhMBBiwUQ9WC9
// SIG // K+ILKWvlqneRrvpjPS3/qXG5zMjrDu1eryfhbFRSByPn
// SIG // ACGc2iuGcPyWNiptyTft+CBgrf7ATAuE/U8YLm29crTF
// SIG // iiZTWdT6Vc7L1lGdKEj8dl0WvDayuC2xtajD04y4ANLm
// SIG // WDuiStdrZ1oI4afG5oPUg77rkTuq/Y7RbSwaPsBZ06M1
// SIG // 2l7E+uykvYoRw4x4lWaST87SBqeEXPMcCdaO01ad5TXV
// SIG // ZDoHG/w6k3V9j3DNCiLJyC844kz3eh3nkQZ5fF8Xxuh8
// SIG // tWVQTfMiKShJ537yzrU0M/7H1EzJrabAr9izXF28OVlM
// SIG // ed0gqyx+a7e+79r4EV/a4ijJxVO8FCm/92tEkPrx6jjT
// SIG // WaQJEWSbL/4GZCVGvHatqmoC7mTQ16/6JR0FQqZf+I5o
// SIG // pnvm+5CDuEKIEDnEiblkhcNKVfjvDAVqvf8GBPCe0yr2
// SIG // trpBEB5L+j+5haSa+q8TwCrfxCYqBOIGdZJL+5U9xocT
// SIG // ICufIWHkb6p4IaYvjgx8ScUSHFzexo+ZeF7oyFKAIgYl
// SIG // RkMDvffqdAPx+fjLrnfgt6X4u5PkXlsW3SYvB34fkbEb
// SIG // M5tmab9zekRa0e/W6Dt1L8N+tx3WyfYTiCThbUvWN1EF
// SIG // sr3HCQybBj4Idl4xK8EwggdxMIIFWaADAgECAhMzAAAA
// SIG // FcXna54Cm0mZAAAAAAAVMA0GCSqGSIb3DQEBCwUAMIGI
// SIG // MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3Rv
// SIG // bjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWlj
// SIG // cm9zb2Z0IENvcnBvcmF0aW9uMTIwMAYDVQQDEylNaWNy
// SIG // b3NvZnQgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkg
// SIG // MjAxMDAeFw0yMTA5MzAxODIyMjVaFw0zMDA5MzAxODMy
// SIG // MjVaMHwxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNo
// SIG // aW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQK
// SIG // ExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xJjAkBgNVBAMT
// SIG // HU1pY3Jvc29mdCBUaW1lLVN0YW1wIFBDQSAyMDEwMIIC
// SIG // IjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA5OGm
// SIG // TOe0ciELeaLL1yR5vQ7VgtP97pwHB9KpbE51yMo1V/YB
// SIG // f2xK4OK9uT4XYDP/XE/HZveVU3Fa4n5KWv64NmeFRiMM
// SIG // tY0Tz3cywBAY6GB9alKDRLemjkZrBxTzxXb1hlDcwUTI
// SIG // cVxRMTegCjhuje3XD9gmU3w5YQJ6xKr9cmmvHaus9ja+
// SIG // NSZk2pg7uhp7M62AW36MEBydUv626GIl3GoPz130/o5T
// SIG // z9bshVZN7928jaTjkY+yOSxRnOlwaQ3KNi1wjjHINSi9
// SIG // 47SHJMPgyY9+tVSP3PoFVZhtaDuaRr3tpK56KTesy+uD
// SIG // RedGbsoy1cCGMFxPLOJiss254o2I5JasAUq7vnGpF1tn
// SIG // YN74kpEeHT39IM9zfUGaRnXNxF803RKJ1v2lIH1+/Nme
// SIG // Rd+2ci/bfV+AutuqfjbsNkz2K26oElHovwUDo9Fzpk03
// SIG // dJQcNIIP8BDyt0cY7afomXw/TNuvXsLz1dhzPUNOwTM5
// SIG // TI4CvEJoLhDqhFFG4tG9ahhaYQFzymeiXtcodgLiMxhy
// SIG // 16cg8ML6EgrXY28MyTZki1ugpoMhXV8wdJGUlNi5UPkL
// SIG // iWHzNgY1GIRH29wb0f2y1BzFa/ZcUlFdEtsluq9QBXps
// SIG // xREdcu+N+VLEhReTwDwV2xo3xwgVGD94q0W29R6HXtqP
// SIG // nhZyacaue7e3PmriLq0CAwEAAaOCAd0wggHZMBIGCSsG
// SIG // AQQBgjcVAQQFAgMBAAEwIwYJKwYBBAGCNxUCBBYEFCqn
// SIG // Uv5kxJq+gpE8RjUpzxD/LwTuMB0GA1UdDgQWBBSfpxVd
// SIG // AF5iXYP05dJlpxtTNRnpcjBcBgNVHSAEVTBTMFEGDCsG
// SIG // AQQBgjdMg30BATBBMD8GCCsGAQUFBwIBFjNodHRwOi8v
// SIG // d3d3Lm1pY3Jvc29mdC5jb20vcGtpb3BzL0RvY3MvUmVw
// SIG // b3NpdG9yeS5odG0wEwYDVR0lBAwwCgYIKwYBBQUHAwgw
// SIG // GQYJKwYBBAGCNxQCBAweCgBTAHUAYgBDAEEwCwYDVR0P
// SIG // BAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHwYDVR0jBBgw
// SIG // FoAU1fZWy4/oolxiaNE9lJBb186aGMQwVgYDVR0fBE8w
// SIG // TTBLoEmgR4ZFaHR0cDovL2NybC5taWNyb3NvZnQuY29t
// SIG // L3BraS9jcmwvcHJvZHVjdHMvTWljUm9vQ2VyQXV0XzIw
// SIG // MTAtMDYtMjMuY3JsMFoGCCsGAQUFBwEBBE4wTDBKBggr
// SIG // BgEFBQcwAoY+aHR0cDovL3d3dy5taWNyb3NvZnQuY29t
// SIG // L3BraS9jZXJ0cy9NaWNSb29DZXJBdXRfMjAxMC0wNi0y
// SIG // My5jcnQwDQYJKoZIhvcNAQELBQADggIBAJ1VffwqreEs
// SIG // H2cBMSRb4Z5yS/ypb+pcFLY+TkdkeLEGk5c9MTO1OdfC
// SIG // cTY/2mRsfNB1OW27DzHkwo/7bNGhlBgi7ulmZzpTTd2Y
// SIG // urYeeNg2LpypglYAA7AFvonoaeC6Ce5732pvvinLbtg/
// SIG // SHUB2RjebYIM9W0jVOR4U3UkV7ndn/OOPcbzaN9l9qRW
// SIG // qveVtihVJ9AkvUCgvxm2EhIRXT0n4ECWOKz3+SmJw7wX
// SIG // sFSFQrP8DJ6LGYnn8AtqgcKBGUIZUnWKNsIdw2FzLixr
// SIG // e24/LAl4FOmRsqlb30mjdAy87JGA0j3mSj5mO0+7hvoy
// SIG // GtmW9I/2kQH2zsZ0/fZMcm8Qq3UwxTSwethQ/gpY3UA8
// SIG // x1RtnWN0SCyxTkctwRQEcb9k+SS+c23Kjgm9swFXSVRk
// SIG // 2XPXfx5bRAGOWhmRaw2fpCjcZxkoJLo4S5pu+yFUa2pF
// SIG // EUep8beuyOiJXk+d0tBMdrVXVAmxaQFEfnyhYWxz/gq7
// SIG // 7EFmPWn9y8FBSX5+k77L+DvktxW/tM4+pTFRhLy/AsGC
// SIG // onsXHRWJjXD+57XQKBqJC4822rpM+Zv/Cuk0+CQ1Zyvg
// SIG // DbjmjJnW4SLq8CdCPSWU5nR0W2rRnj7tfqAxM328y+l7
// SIG // vzhwRNGQ8cirOoo6CGJ/2XBjU02N7oJtpQUQwXEGahC0
// SIG // HVUzWLOhcGbyoYIC1DCCAj0CAQEwggEAoYHYpIHVMIHS
// SIG // MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3Rv
// SIG // bjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWlj
// SIG // cm9zb2Z0IENvcnBvcmF0aW9uMS0wKwYDVQQLEyRNaWNy
// SIG // b3NvZnQgSXJlbGFuZCBPcGVyYXRpb25zIExpbWl0ZWQx
// SIG // JjAkBgNVBAsTHVRoYWxlcyBUU1MgRVNOOkZDNDEtNEJE
// SIG // NC1EMjIwMSUwIwYDVQQDExxNaWNyb3NvZnQgVGltZS1T
// SIG // dGFtcCBTZXJ2aWNloiMKAQEwBwYFKw4DAhoDFQAWm5lp
// SIG // +nRuekl0iF+IHV3ylOiGb6CBgzCBgKR+MHwxCzAJBgNV
// SIG // BAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYD
// SIG // VQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQg
// SIG // Q29ycG9yYXRpb24xJjAkBgNVBAMTHU1pY3Jvc29mdCBU
// SIG // aW1lLVN0YW1wIFBDQSAyMDEwMA0GCSqGSIb3DQEBBQUA
// SIG // AgUA6bo3zzAiGA8yMDI0MDQwNTE2NDE1MVoYDzIwMjQw
// SIG // NDA2MTY0MTUxWjB0MDoGCisGAQQBhFkKBAExLDAqMAoC
// SIG // BQDpujfPAgEAMAcCAQACAkrtMAcCAQACAlMbMAoCBQDp
// SIG // u4lPAgEAMDYGCisGAQQBhFkKBAIxKDAmMAwGCisGAQQB
// SIG // hFkKAwKgCjAIAgEAAgMHoSChCjAIAgEAAgMBhqAwDQYJ
// SIG // KoZIhvcNAQEFBQADgYEAV/cCU6fqTo8PzkhRRUuhXhea
// SIG // Y6yUat5+he5H3QSO+KDhfeebERdGmG5MQDNDnZznIo9P
// SIG // jEQmcE38RNdJurgS8yhnMGIaL43uNeC1FR7v/0g5NEw5
// SIG // UyxTNs2d/TEEM5NCi8FJoORhvN/d6j0MlpSrAtptoP7c
// SIG // kqz/DCncvCHHm0UxggQNMIIECQIBATCBkzB8MQswCQYD
// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G
// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0
// SIG // IENvcnBvcmF0aW9uMSYwJAYDVQQDEx1NaWNyb3NvZnQg
// SIG // VGltZS1TdGFtcCBQQ0EgMjAxMAITMwAAAeKZmZXx3OMg
// SIG // 6wABAAAB4jANBglghkgBZQMEAgEFAKCCAUowGgYJKoZI
// SIG // hvcNAQkDMQ0GCyqGSIb3DQEJEAEEMC8GCSqGSIb3DQEJ
// SIG // BDEiBCDCb9y2clhZzoUpPfr1pbs26CcLeSScVLm5Cu6f
// SIG // tBmnoTCB+gYLKoZIhvcNAQkQAi8xgeowgecwgeQwgb0E
// SIG // ICuJKkoQ/Sa4xsFQRM4Ogvh3ktToj9uO5whmQ4kIj3//
// SIG // MIGYMIGApH4wfDELMAkGA1UEBhMCVVMxEzARBgNVBAgT
// SIG // Cldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAc
// SIG // BgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQG
// SIG // A1UEAxMdTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIw
// SIG // MTACEzMAAAHimZmV8dzjIOsAAQAAAeIwIgQgrQU6ApTh
// SIG // EaMqrgE4uIdR1oP9aPcOMvg8we7R8icI7gcwDQYJKoZI
// SIG // hvcNAQELBQAEggIAg+PE/gZQVTN+6GMpiOsSQmg6MpYR
// SIG // tfOu+6l3t3Ebntav11lsnAKpXeMwCI+SnNZl2wfHFY7a
// SIG // DScGthNB/Ms12Gi9VolVblT0P1LKce8MVuVN9g6fyNKb
// SIG // nkSIuaTxViREX1T3rjvOX/EY7QV73LfqF/lZFH67qefd
// SIG // NRkYnGAXe6QTStGwBt/qw3tEihzT1Fe/ehSB8ParQZN/
// SIG // XHdxNjpuhp4HQKdpT2nueGltTCgXzv8bC2B215TSDcjQ
// SIG // j3eOYCS7FXTR1sspy2W/hMO97V4nB36gAPM++oB2B4LE
// SIG // enxxyiMDotI1lLfWBzer9n5Jb9cH7VZhxTDC1trOqgRf
// SIG // 2J/vWw+v9iq3ZCxuGf02rH40zWMpLUDlM+a01tQUNUcf
// SIG // uX1yepkDy0ykAsbFZJpaCRZYQzrwhz0SV6Tm9acswOK/
// SIG // PdaRG6n/GNMpHf/PqIsqG8AE+en0UzaOpAtjtJXYDLdY
// SIG // xgeD0j7xSlV7+i8g3Kv2yXgll1uaVhwIBJdrNsg5++Eb
// SIG // gWGxGL7Y7S8170+xa6VKXsCS65UgS+kFli3Bl4lAdNpx
// SIG // gNf0JEb9dJ6BwslBQtFPOEcQoUz59O4QWAuhQiQx9w39
// SIG // +h5ZIgjILBo8uzFvyWt/SmWAthZ1W9djqYxJ1UXCdmj0
// SIG // F5Mrz9Q0WFijIZDxHR3oZIcLZ64JHpBIJKCBqDU=
// SIG // End signature block
